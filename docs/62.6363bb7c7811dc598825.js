"use strict";(self.webpackChunkreact_redux_arcgis_boilerplate=self.webpackChunkreact_redux_arcgis_boilerplate||[]).push([[62],{91814:function(t,e,n){function r(t,e,n){n=n||2;var r,s,u,c,l,a,h,d=e&&e.length,y=d?e[0]*n:t.length,p=o(t,0,y,n,!0),x=[];if(!p||p.next===p.prev)return x;if(d&&(p=f(t,e,p,n)),t.length>80*n){r=u=t[0],s=c=t[1];for(var g=n;g<y;g+=n)(l=t[g])<r&&(r=l),(a=t[g+1])<s&&(s=a),l>u&&(u=l),a>c&&(c=a);h=0!==(h=Math.max(u-r,c-s))?1/h:0}return i(p,x,n,r,s,h),x}function o(t,e,n,r,o){var s,i;if(o===U(t,e,n,r)>0)for(s=e;s<n;s+=r)i=A(s,t[s],t[s+1],i);else for(s=n-r;s>=e;s-=r)i=A(s,t[s],t[s+1],i);if(i&&I(i,i.next)){var u=i.next;_(i),i=u}return i}function s(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!I(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{var o=r.prev;if(_(r),(r=e=o)===r.next)break;n=!0}}while(n||r!==e);return e}function i(t,e,n,r,o,f,h){if(t){!h&&f&&x(t,r,o,f);for(var d,y,p=t;t.prev!==t.next;)if(d=t.prev,y=t.next,f?c(t,r,o,f):u(t))e.push(d.i/n),e.push(t.i/n),e.push(y.i/n),_(t),t=y.next,p=y.next;else if((t=y)===p){h?1===h?i(t=l(s(t),e,n),e,n,r,o,f,2):2===h&&a(t,e,n,r,o,f):i(s(t),e,n,r,o,f,1);break}}}function u(t){var e=t.prev,n=t,r=t.next;if(w(e,n,r)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(v(e.x,e.y,n.x,n.y,r.x,r.y,o.x,o.y)&&w(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function c(t,e,n,r){var o=t.prev,s=t,i=t.next;if(w(o,s,i)>=0)return!1;for(var u=o.x<s.x?o.x<i.x?o.x:i.x:s.x<i.x?s.x:i.x,c=o.y<s.y?o.y<i.y?o.y:i.y:s.y<i.y?s.y:i.y,l=o.x>s.x?o.x>i.x?o.x:i.x:s.x>i.x?s.x:i.x,a=o.y>s.y?o.y>i.y?o.y:i.y:s.y>i.y?s.y:i.y,f=g(u,c,e,n,r),h=g(l,a,e,n,r),d=t.prevZ,y=t.nextZ;d&&d.z>=f&&y&&y.z<=h;){if(d!==t.prev&&d!==t.next&&v(o.x,o.y,s.x,s.y,i.x,i.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,y!==t.prev&&y!==t.next&&v(o.x,o.y,s.x,s.y,i.x,i.y,y.x,y.y)&&w(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;d&&d.z>=f;){if(d!==t.prev&&d!==t.next&&v(o.x,o.y,s.x,s.y,i.x,i.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;y&&y.z<=h;){if(y!==t.prev&&y!==t.next&&v(o.x,o.y,s.x,s.y,i.x,i.y,y.x,y.y)&&w(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function l(t,e,n){var r=t;do{var o=r.prev,i=r.next.next;!I(o,i)&&b(o,r,r.next,i)&&F(o,i)&&F(i,o)&&(e.push(o.i/n),e.push(r.i/n),e.push(i.i/n),_(r),_(r.next),r=t=i),r=r.next}while(r!==t);return s(r)}function a(t,e,n,r,o,u){var c=t;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&E(c,l)){var a=N(c,l);return c=s(c,c.next),a=s(a,a.next),i(c,e,n,r,o,u),void i(a,e,n,r,o,u)}l=l.next}c=c.next}while(c!==t)}function f(t,e,n,r){var i,u,c,l=[];for(i=0,u=e.length;i<u;i++)(c=o(t,e[i]*r,i<u-1?e[i+1]*r:t.length,r,!1))===c.next&&(c.steiner=!0),l.push(m(c));for(l.sort(h),i=0;i<l.length;i++)n=s(n=y(l[i],n),n.next);return n}function h(t,e){return t.x-e.x}function d(t){if(t.next.prev===t)return t;let e=t;for(;;){const n=e.next;if(n.prev===e||n===e||n===t)break;e=n}return e}function y(t,e){var n=function(t,e){var n,r=e,o=t.x,s=t.y,i=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var u=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=o&&u>i){if(i=u,u===o){if(s===r.y)return r;if(s===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(o===i)return n;var c,l=n,a=n.x,f=n.y,h=1/0;r=n;do{o>=r.x&&r.x>=a&&o!==r.x&&v(s<f?o:i,s,a,f,s<f?i:o,s,r.x,r.y)&&(c=Math.abs(s-r.y)/(o-r.x),F(r,t)&&(c<h||c===h&&(r.x>n.x||r.x===n.x&&p(n,r)))&&(n=r,h=c)),r=r.next}while(r!==l);return n}(t,e);if(!n)return e;var r=N(n,t),o=s(n,n.next);let i=d(r);return s(i,i.next),o=d(o),d(e===n?o:e)}function p(t,e){return w(t.prev,t,e.prev)<0&&w(e.next,t,t.next)<0}function x(t,e,n,r){var o=t;do{null===o.z&&(o.z=g(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,n,r,o,s,i,u,c,l=1;do{for(n=t,t=null,s=null,i=0;n;){for(i++,r=n,u=0,e=0;e<l&&(u++,r=r.nextZ);e++);for(c=l;u>0||c>0&&r;)0!==u&&(0===c||!r||n.z<=r.z)?(o=n,n=n.nextZ,u--):(o=r,r=r.nextZ,c--),s?s.nextZ=o:t=o,o.prevZ=s,s=o;n=r}s.nextZ=null,l*=2}while(i>1)}(o)}function g(t,e,n,r,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function m(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,o,s,i,u){return(o-i)*(e-u)-(t-i)*(s-u)>=0&&(t-i)*(r-u)-(n-i)*(e-u)>=0&&(n-i)*(s-u)-(o-i)*(r-u)>=0}function E(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(F(t,e)&&F(e,t)&&function(t,e){var n=t,r=!1,o=(t.x+e.x)/2,s=(t.y+e.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&o<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(w(t.prev,t,e.prev)||w(t,e.prev,e))||I(t,e)&&w(t.prev,t,t.next)>0&&w(e.prev,e,e.next)>0)}function w(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function I(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){var o=T(w(t,e,n)),s=T(w(t,e,r)),i=T(w(n,r,t)),u=T(w(n,r,e));return o!==s&&i!==u||!(0!==o||!M(t,n,e))||!(0!==s||!M(t,r,e))||!(0!==i||!M(n,t,r))||!(0!==u||!M(n,e,r))}function M(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function T(t){return t>0?1:t<0?-1:0}function F(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function N(t,e){var n=new S(t.i,t.x,t.y),r=new S(e.i,e.x,e.y),o=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function A(t,e,n,r){var o=new S(t,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function _(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function U(t,e,n,r){for(var o=0,s=e,i=n-r;s<n;s+=r)o+=(t[i]-t[s])*(t[s+1]+t[i+1]),i=s;return o}n.d(e,{e:function(){return r}}),r.deviation=function(t,e,n,r){var o=e&&e.length,s=o?e[0]*n:t.length,i=Math.abs(U(t,0,s,n));if(o)for(var u=0,c=e.length;u<c;u++){var l=e[u]*n,a=u<c-1?e[u+1]*n:t.length;i-=Math.abs(U(t,l,a,n))}var f=0;for(u=0;u<r.length;u+=3){var h=r[u]*n,d=r[u+1]*n,y=r[u+2]*n;f+=Math.abs((t[h]-t[y])*(t[d+1]-t[h+1])-(t[h]-t[d])*(t[y+1]-t[h+1]))}return 0===i&&0===f?0:Math.abs((f-i)/i)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var s=0;s<t[o].length;s++)for(var i=0;i<e;i++)n.vertices.push(t[o][s][i]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}},85747:function(t,e,n){n.d(e,{N3:function(){return s},Om:function(){return o}});var r=n(65977);class o{constructor(t=null,e={},n,r){this.geometry=t,this.attributes=e,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}static fromJSON(t,e){const n=t.geometry?r.A.fromJSON(t.geometry):null,s=t.centroid?r.A.fromJSON(t.centroid):null,i=t.attributes[e];return new o(n,t.attributes,s,i)}weakClone(){const t=new o(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}clone(){const t=this.geometry?.clone(),e=new o(t,{...this.attributes},this.centroid?.clone(),this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function s(t){return!!t.geometry?.coords?.length}},97011:function(t,e,n){n.d(e,{A:function(){return r}});class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new r;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}},65977:function(t,e,n){n.d(e,{A:function(){return r}});class r{constructor(t=[],e=[]){this.lengths=t??[],this.coords=e??[]}static fromJSON(t){return new r(t.lengths,t.coords)}static fromRect(t){const[e,n,o,s]=t,i=o-e,u=s-n;return new r([5],[e,n,i,0,0,u,-i,0,0,-u])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,e)=>t+e))}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)t(this.coords[2*(n+e)],this.coords[2*(n+e)+1]);e+=r}}deltaDecode(){const t=this.clone(),{coords:e,lengths:n}=t;let r=0;for(const t of n){for(let n=1;n<t;n++)e[2*(r+n)]+=e[2*(r+n)-2],e[2*(r+n)+1]+=e[2*(r+n)-1];r+=t}return t}clone(t){if(0===this.lengths.length)return new r([],[this.coords[0],this.coords[1]]);const e=2*(0===this.lengths.length?1:this.lengths.reduce(((t,e)=>t+e))),n=this.coords.slice(0,e);return t?(t.set(n),new r(this.lengths,t)):new r(Array.from(this.lengths),Array.from(n))}}},5525:function(t,e,n){n.d(e,{B2:function(){return w},BW:function(){return k},Ch:function(){return ot},DF:function(){return b},Di:function(){return q},E2:function(){return H},IE:function(){return E},Nl:function(){return Q},Q4:function(){return st},Rk:function(){return ut},Ux:function(){return D},Ye:function(){return R},ZF:function(){return K},eU:function(){return B},eY:function(){return V},jH:function(){return J},jQ:function(){return rt},kz:function(){return tt},oN:function(){return j},q3:function(){return $},qK:function(){return G},qN:function(){return P},z5:function(){return z},zv:function(){return X}});var r=n(62991),o=n(80861),s=n(57725),i=n(46373),u=n(2532),c=n(56053),l=n(85747),a=n(97011),f=n(65977);function h(t,e){return t?e?4:3:e?3:2}const d=()=>o.A.getLogger("esri.layers.graphics.featureConversionUtils"),y={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},p=(t,e,n,r,o,s)=>{t[n]=o,t[n+1]=s},x=(t,e,n,r,o,s)=>{t[n]=o,t[n+1]=s,t[n+2]=e[r+2]},g=(t,e,n,r,o,s)=>{t[n]=o,t[n+1]=s,t[n+2]=e[r+3]},m=(t,e,n,r,o,s)=>{t[n]=o,t[n+1]=s,t[n+2]=e[r+2],t[n+3]=e[r+3]};function v(t,e,n,r){if(t){if(n)return e&&r?m:x;if(e&&r)return g}else if(e&&r)return x;return p}function E({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function w({scale:t,translate:e},n){return Math.round((e[1]-n)/t[1])}function I({scale:t,translate:e},n,r){return n*t[r]+e[r]}function b(t,e,n){return t?e?n?S(t):F(t):n?A(t):M(t):null}function M(t){const e=t.coords;return{x:e[0],y:e[1]}}function T(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t}function F(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2]}}function N(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t}function A(t){const e=t.coords;return{x:e[0],y:e[1],m:e[2]}}function _(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.m,t}function S(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2],m:e[3]}}function U(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t.coords[3]=e.m,t}function Z(t,e){return t&&e?U:t?N:e?_:T}function P(t,e,n=Z(null!=e.z,null!=e.m)){return n(t,e)}function G(t,e,n){if(null==t)return null;const r=h(e,n),o=[];for(let e=0;e<t.coords.length;e+=r){const n=[];for(let o=0;o<r;o++)n.push(t.coords[e+o]);o.push(n)}return e?n?{points:o,hasZ:e,hasM:n}:{points:o,hasZ:e}:n?{points:o,hasM:n}:{points:o}}function Y(t,e,n=h(e.hasZ,e.hasM)){t.lengths[0]=e.points.length;const r=t.coords;let o=0;for(const t of e.points)for(let e=0;e<n;e++)r[o++]=t[e];return t}function k(t,e,n){if(!t)return null;const r=h(e,n),{coords:o,lengths:s}=t,i=[];let u=0;for(const t of s){const e=[];for(let n=0;n<t;n++){const t=[];for(let e=0;e<r;e++)t.push(o[u++]);e.push(t)}i.push(e)}return e?n?{paths:i,hasZ:e,hasM:n}:{paths:i,hasZ:e}:n?{paths:i,hasM:n}:{paths:i}}function L(t,e,n=h(e.hasZ,e.hasM)){const{lengths:r,coords:o}=t;let s=0;for(const t of e.paths){for(const e of t)for(let t=0;t<n;t++)o[s++]=e[t];r.push(t.length)}return t}function z(t,e,n){if(!t)return null;const r=h(e,n),{coords:o,lengths:s}=t,i=[];let u=0;for(const t of s){const e=[];for(let n=0;n<t;n++){const t=[];for(let e=0;e<r;e++)t.push(o[u++]);e.push(t)}i.push(e)}return e?n?{rings:i,hasZ:e,hasM:n}:{rings:i,hasZ:e}:n?{rings:i,hasM:n}:{rings:i}}function R(t,e,n=e.hasZ,r=e.hasM){return B(t,e.rings,n,r)}function B(t,e,n,r){const o=h(n,r),{lengths:s,coords:i}=t;let u=0;ct(t);for(const t of e){for(const e of t)for(let t=0;t<o;t++)i[u++]=e[t];s.push(t.length)}return t}const O=[],C=[];function H(t,e,n,r,o){O[0]=t;const[s]=q(C,O,e,n,r,o);return lt(O),lt(C),s}function q(t,e,n,o,s,i){if(lt(t),!n){for(const n of e){const e=i?n.attributes[i]:void 0;t.push(new l.Om(null,n.attributes,null,e))}return t}switch(n){case"esriGeometryPoint":return function(t,e,n,r,o){const s=Z(n,r);for(const{geometry:n,attributes:r}of e){const e=null!=n?s(new f.A,n):null;t.push(new l.Om(e,r,null,o?r[o]:void 0))}return t}(t,e,o,s,i);case"esriGeometryMultipoint":return function(t,e,n,r,o){const s=h(n,r);for(const{geometry:n,attributes:r}of e){const e=null!=n?Y(new f.A,n,s):null;t.push(new l.Om(e,r,null,o?r[o]:void 0))}return t}(t,e,o,s,i);case"esriGeometryPolyline":return function(t,e,n,r,o){const s=h(n,r);for(const{geometry:n,attributes:r,centroid:i}of e){const e=null!=n?L(new f.A,n,s):null,u=null!=i?P(new f.A,i):null;t.push(new l.Om(e,r,u,o?r[o]:void 0))}return t}(t,e,o,s,i);case"esriGeometryPolygon":case"esriGeometryMultiPatch":return function(t,e,n,r,o){for(const{geometry:s,centroid:i,attributes:u}of e){const e=null!=s?R(new f.A,s,n,r):null,c=o?u[o]:void 0;null!=i?t.push(new l.Om(e,u,T(new f.A,i),c)):t.push(new l.Om(e,u,null,c))}return t}(t,e,o,s,i);default:d().error("convertToFeatureSet:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${n}'`)),lt(t)}return t}function j(t,e,n,r){C[0]=t,W(O,C,e,n,r);const o=O[0];return lt(O),lt(C),o}function D(t,e,n){if(null==t)return null;const o=new f.A;return"hasZ"in t&&null==e&&(e=t.hasZ),"hasM"in t&&null==n&&(n=t.hasM),(0,c.fT)(t)?Z(null!=e?e:null!=t.z,null!=n?n:null!=t.m)(o,t):(0,c.Bi)(t)?R(o,t,e,n):(0,c.Rg)(t)?L(o,t,h(e,n)):(0,c.U9)(t)?Y(o,t,h(e,n)):void d().error("convertFromGeometry:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${t}'`))}function X(t,e,n,o){const s=t&&("coords"in t?t:t.geometry);if(null==s)return null;switch(e){case"esriGeometryPoint":{let t=M;return n&&o?t=S:n?t=F:o&&(t=A),t(s)}case"esriGeometryMultipoint":return G(s,n,o);case"esriGeometryPolyline":return k(s,n,o);case"esriGeometryPolygon":return z(s,n,o);default:return d().error("convertToGeometry:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${e}'`)),null}}function W(t,e,n,o,s){if(lt(t),null==n)return function(t,e){for(const n of e)t.push({attributes:n.attributes});return t}(t,e);switch(n){case"esriGeometryPoint":return function(t,e,n,r){let o=M;n&&r?o=S:n?o=F:r&&(o=A);for(const n of e){const{geometry:e,attributes:r}=n,s=null!=e?o(e):null;t.push({attributes:r,geometry:s})}return t}(t,e,o,s);case"esriGeometryMultipoint":return function(t,e,n,r){for(const{geometry:o,attributes:s}of e)t.push({attributes:s,geometry:null!=o?G(o,n,r):null});return t}(t,e,o,s);case"esriGeometryPolyline":return function(t,e,n,r){for(const{geometry:o,attributes:s}of e)t.push({attributes:s,geometry:null!=o?k(o,n,r):null});return t}(t,e,o,s);case"esriGeometryPolygon":return function(t,e,n,r){for(const{geometry:o,attributes:s,centroid:i}of e){const e=null!=o?z(o,n,r):null;if(null!=i){const n=M(i);t.push({attributes:s,centroid:n,geometry:e})}else t.push({attributes:s,geometry:e})}return t}(t,e,o,s);default:d().error("convertToFeatureSet:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${n}'`))}return t}function K(t){const{objectIdFieldName:e,spatialReference:n,transform:r,fields:o,hasM:s,hasZ:i,features:u,geometryType:c,exceededTransferLimit:l,uniqueIdField:a,queryGeometry:f,queryGeometryType:h}=t,d={features:W([],u,c,i,s),fields:o,geometryType:c,objectIdFieldName:e,spatialReference:n,uniqueIdField:a,queryGeometry:X(f,h,!1,!1)};return r&&(d.transform=r),l&&(d.exceededTransferLimit=l),s&&(d.hasM=s),i&&(d.hasZ=i),d}function $(t,e){const n=new a.A,{hasM:o,hasZ:s,features:i,objectIdFieldName:u,spatialReference:c,geometryType:l,exceededTransferLimit:f,transform:h,fields:y}=t;return y&&(n.fields=y),n.geometryType=l??null,n.objectIdFieldName=u??e??null,n.spatialReference=c??null,n.objectIdFieldName?(i&&q(n.features,i,l,s,o,n.objectIdFieldName),f&&(n.exceededTransferLimit=f),o&&(n.hasM=o),s&&(n.hasZ=s),h&&(n.transform=h),n):(d().error(new r.A("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function V(t){const{transform:e,features:n,hasM:r,hasZ:o}=t;if(!e)return t;for(const t of n)null!=t.geometry&&ot(t.geometry,t.geometry,r,o,e),null!=t.centroid&&ot(t.centroid,t.centroid,r,o,e);return t.transform=null,t}function J(t,e){const{geometryType:n,features:r,hasM:o,hasZ:s}=e;if(!t)return e;for(let e=0;e<r.length;e++){const i=r[e],u=i.weakClone();u.geometry=new f.A,Q(u.geometry,i.geometry,o,s,n,t),i.centroid&&(u.centroid=new f.A,Q(u.centroid,i.centroid,o,s,"esriGeometryPoint",t)),r[e]=u}return e.transform=t,e}function Q(t,e,n,r,o,s,i=n,u=r){if(ct(t),!e?.coords.length)return null;const c=y[o],{coords:l,lengths:a}=e,f=h(n,r),d=h(n&&i,r&&u),p=v(n,r,i,u);if(!a.length)return p(t.coords,l,0,0,E(s,l[0]),w(s,l[1])),ct(t,f,0),t;let x,g,m,I,b=0,M=0,T=M;for(const e of a){if(e<c)continue;let n=0;M=T,m=x=E(s,l[b]),I=g=w(s,l[b+1]),p(t.coords,l,M,b,m,I),n++,b+=f,M+=d;for(let r=1;r<e;r++,b+=f)m=E(s,l[b]),I=w(s,l[b+1]),m===x&&I===g||(p(t.coords,l,M,b,m-x,I-g),M+=d,n++,x=m,g=I);n>=c&&(t.lengths.push(n),T=M)}return lt(t.coords,T),t.coords.length?t:null}function tt(t,e,n,r,o,s,i=n,u=r){if(ct(t),!e?.coords.length)return null;const c=y[o],{coords:l,lengths:a}=e,f=h(n,r),d=h(n&&i,r&&u),p=v(n,r,i,u);if(!a.length)return p(t.coords,l,0,0,l[0],l[1]),ct(t,f,0),t;let x=0;const g=s*s;for(const e of a){if(e<c){x+=e*f;continue}const n=t.coords.length/d,r=x,o=x+(e-1)*f;p(t.coords,l,t.coords.length,r,l[r],l[r+1]),nt(t.coords,l,f,g,p,r,o),p(t.coords,l,t.coords.length,o,l[o],l[o+1]);const s=t.coords.length/d-n;s>=c?t.lengths.push(s):lt(t.coords,n*d),x+=e*f}return t.coords.length?t:null}function et(t,e,n,r){const o=t[e],s=t[e+1],i=t[n],u=t[n+1],c=t[r],l=t[r+1];let a=i,f=u,h=c-a,d=l-f;if(0!==h||0!==d){const t=((o-a)*h+(s-f)*d)/(h*h+d*d);t>1?(a=c,f=l):t>0&&(a+=h*t,f+=d*t)}return h=o-a,d=s-f,h*h+d*d}function nt(t,e,n,r,o,s,i){let u,c=r,l=0;for(let t=s+n;t<i;t+=n)u=et(e,t,s,i),u>c&&(l=t,c=u);c>r&&(l-s>n&&nt(t,e,n,r,o,s,l),o(t,e,t.length,l,e[l],e[l+1]),i-l>n&&nt(t,e,n,r,o,l,i))}function rt(t,e,n,r){if(!e?.coords?.length)return null;const o=h(n,r);let s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY;if(e&&e.coords){const t=e.coords;for(let e=0;e<t.length;e+=o){const n=t[e],r=t[e+1];s=Math.min(s,n),l=Math.max(l,n),c=Math.min(c,r),a=Math.max(a,r)}}return(0,i.is)(t)?(0,i.BI)(t,s,c,l,a):(0,u.fA)(s,c,l,a,t),t}function ot(t,e,n,r,o){const{coords:i,lengths:u}=e,c=h(n,r);if(!i.length)return t!==e&&ct(t),t;(0,s.Lw)(o);const{originPosition:l,scale:a,translate:f}=o,d=at;d.originPosition=l;const y=d.scale;y[0]=a[0]??1,y[1]=-(a[1]??1),y[2]=a[2]??1,y[3]=a[3]??1;const p=d.translate;if(p[0]=f[0]??0,p[1]=f[1]??0,p[2]=f[2]??0,p[3]=f[3]??0,!u.length){for(let e=0;e<c;++e)t.coords[e]=I(d,i[e],e);return t!==e&&ct(t,c,0),t}let x=0;for(let e=0;e<u.length;e++){const n=u[e];t.lengths[e]=n;for(let e=0;e<c;++e)t.coords[x+e]=I(d,i[x+e],e);let r=t.coords[x],o=t.coords[x+1];x+=c;for(let e=1;e<n;e++,x+=c){r+=i[x]*y[0],o+=i[x+1]*y[1],t.coords[x]=r,t.coords[x+1]=o;for(let e=2;e<c;++e)t.coords[x+e]=I(d,i[x+e],e)}}return t!==e&&ct(t,i.length,u.length),t}function st(t,e,n,r,o,s){if(ct(t),t.lengths.push(...e.lengths),n===o&&r===s)for(let n=0;n<e.coords.length;n++)t.coords.push(e.coords[n]);else{const i=h(n,r),u=v(n,r,o,s),c=e.coords;for(let e=0;e<c.length;e+=i)u(t.coords,c,t.coords.length,e,c[e],c[e+1])}return t}function it(t,e,n,r){let o=0,s=t[r*e],i=t[r*(e+1)];for(let u=1;u<n;u++){const n=s+t[r*(e+u)],c=i+t[r*(e+u)+1],l=(n-s)*(c+i);s=n,i=c,o+=l}return.5*o}function ut(t,e){const{coords:n,lengths:r}=t;let o=0,s=0;for(let t=0;t<r.length;t++){const i=r[t];s+=it(n,o,i,e),o+=i}return Math.abs(s)}function ct(t,e=0,n=0){lt(t.lengths,n),lt(t.coords,e)}function lt(t,e=0){t.length!==e&&(t.length=e)}const at={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},84077:function(t,e,n){n.d(e,{A:function(){return s}});var r=n(86891),o=n(44016);class s{constructor(t,e){this.id=t,this.sortKey=e,this.records=[]}serialize(t){return t.push(this.id),t.writeF32(this.sortKey),(0,o.j)(t,this.records),t}static deserialize(t){const e=t.readInt32(),n=t.readF32(),i=new s(e,n);return i.records=(0,o._)(t,r.A)??[],i}}s.byteSizeHint=2*Uint32Array.BYTES_PER_ELEMENT+r.A.byteSizeHint},86891:function(t,e,n){n.d(e,{A:function(){return r}});class r{constructor(t,e,n,r,o,s,i){this.instanceId=t,this.textureKey=e,this.indexStart=n,this.indexCount=r,this.vertexStart=o,this.vertexCount=s,this.overlaps=i}updateBaseOffsets(t){this.vertexStart+=t.vertexFrom,this.indexStart+=t.indexFrom}clone(){return new r(this.instanceId,this.textureKey,this.indexStart,this.indexCount,this.vertexStart,this.vertexCount,this.overlaps)}static write(t,e,n,r,o,s,i,u){t.push(e),t.push(n),t.push(r),t.push(o),t.push(s),t.push(i),t.push(u)}serialize(t){return t.push(this.instanceId),t.push(this.textureKey),t.push(this.indexStart),t.push(this.indexCount),t.push(this.vertexStart),t.push(this.vertexCount),t.push(this.overlaps),t}static deserialize(t){const e=t.readInt32(),n=t.readInt32(),o=t.readInt32(),s=t.readInt32(),i=t.readInt32(),u=t.readInt32(),c=t.readInt32();return new r(e,n,o,s,i,u,c)}}r.byteSizeHint=7*Uint32Array.BYTES_PER_ELEMENT},82657:function(t,e,n){n.d(e,{AV:function(){return f},ES:function(){return x},IF:function(){return E},Qz:function(){return h},UE:function(){return g},bX:function(){return m},sZ:function(){return v}});var r=n(62991),o=n(80861),s=(n(85953),n(67498),n(6273),n(63103),n(68716)),i=(n(49214),n(86424),n(18039)),u=n(22497),c=n(88416),l=n(67277);const a=()=>o.A.getLogger("esri.views.2d.engine.webgl.Utils");function f(t){switch(t){case s.ld.UNSIGNED_BYTE:return 1;case s.ld.UNSIGNED_SHORT_4_4_4_4:return 2;case s.ld.FLOAT:return 4;default:return void a().error(new r.A("webgl-utils",`Unable to handle type ${t}`))}}function h(t){switch(t){case s.ld.UNSIGNED_BYTE:return Uint8Array;case s.ld.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case s.ld.FLOAT:return Float32Array;default:return void a().error(new r.A("webgl-utils",`Unable to handle type ${t}`))}}const d=t=>{const e=new Map;for(const n in t)for(const r of t[n])e.set(r.name,r.location);return e},y=t=>{const e={};return t.forEach(((t,n)=>e[n]=t?.length?t[0].stride:0)),e},p=new Map,x=(t,e)=>{if(!p.has(t)){const n=function(t){const e=new Map;for(const n in t){const r=t[n];let o=0;e.set(n,r.map((t=>{const e=new l._(t.name,t.count,t.type,o,0,t.normalized||!1);return o+=t.count*(0,i._)(t.type),e}))),e.get(n).forEach((t=>t.stride=o))}return e}(e),r={strides:y(n),bufferLayouts:n,attributes:d(e)};p.set(t,r)}return p.get(t)},g=t=>t.includes("data:image/svg+xml");function m(t){const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e}function v(t,e,n){const r=new c.R(e.width,e.height);return r.dataType=e.dataType,e.depth&&(r.depth=e.depth),e.flipped&&(r.flipped=e.flipped),e.hasMipmap&&(r.hasMipmap=e.hasMipmap),r.internalFormat=e.internalFormat,e.isImmutable&&(r.isImmutable=e.isImmutable),e.isOpaque&&(r.isOpaque=e.isOpaque),e.maxAnisotropy&&(r.maxAnisotropy=e.maxAnisotropy),r.pixelFormat=e.pixelFormat,e.preMultiplyAlpha&&(r.preMultiplyAlpha=e.preMultiplyAlpha),e.samplingMode&&(r.samplingMode=e.samplingMode),e.target&&(r.target=e.target),r.uniform=e.uniform,e.unpackAlignment&&(r.unpackAlignment=e.unpackAlignment),e.wrapMode&&(r.wrapMode=e.wrapMode),new u.g(t,r,n)}function E(t){return"url"in t&&"urlHash"in t?{...t,url:""}:t}},71345:function(t,e,n){n.d(e,{A:function(){return o}});var r=n(14571);class o{constructor(t,e,n,o){this.transformedX=0,this.transformedY=0,this.center=(0,r.fA)(t,e),this.centerT=(0,r.vt)(),this.halfWidth=n/2,this.halfHeight=o/2,this.width=n,this.height=o}get x(){return this.center[0]}get y(){return this.center[1]}get blX(){return this.center[0]+this.halfWidth}get blY(){return this.center[1]+this.halfHeight}get trX(){return this.center[0]-this.halfWidth}get trY(){return this.center[1]-this.halfHeight}get xmin(){return this.x-this.halfWidth}get xmax(){return this.x+this.halfWidth}get ymin(){return this.y-this.halfHeight}get ymax(){return this.y+this.halfHeight}set x(t){this.center[0]=t}set y(t){this.center[1]=t}clone(){return new o(this.x,this.y,this.width,this.height)}serialize(t){return t.writeF32(this.center[0]),t.writeF32(this.center[1]),t.push(this.width),t.push(this.height),t}findCollisionDelta(t,e=4){const n=Math.abs(t.centerT[0]-this.centerT[0]),r=Math.abs(t.centerT[1]-this.centerT[1]),o=(t.halfWidth+this.halfWidth+e)/n,s=(t.halfHeight+this.halfHeight+e)/r,i=Math.min(o,s);return Math.log2(i)}extend(t){const e=Math.min(this.xmin,t.xmin),n=Math.min(this.ymin,t.ymin),r=Math.max(this.xmax,t.xmax)-e,o=Math.max(this.ymax,t.ymax)-n,s=e+r/2,i=n+o/2;this.width=r,this.height=o,this.halfWidth=r/2,this.halfHeight=o/2,this.x=s,this.y=i}static deserialize(t){const e=t.readF32(),n=t.readF32(),r=t.readInt32(),s=t.readInt32();return new o(e,n,r,s)}}},87574:function(t,e,n){n.d(e,{f:function(){return s}});var r=n(71345),o=n(44016);class s{constructor(t,e,n,r,o,s,i,u,c=[]){this.entityTexel=t,this.anchorX=e,this.anchorY=n,this.directionX=r,this.directionY=o,this.maxScale=s,this.minScale=i,this.referenceBounds=u,this.bounds=c}serialize(t){t.push(this.entityTexel),t.writeF32(this.anchorX),t.writeF32(this.anchorY),t.writeF32(this.directionX),t.writeF32(this.directionY),t.writeF32(this.maxScale),t.writeF32(this.minScale),null===this.referenceBounds?(t.writeF32(0),t.writeF32(0),t.writeF32(0)):(t.writeF32(this.referenceBounds.size),t.writeF32(this.referenceBounds.offsetX),t.writeF32(this.referenceBounds.offsetY)),(0,o.j)(t,this.bounds)}static deserialize(t){const e=t.readInt32(),n=t.readF32(),i=t.readF32(),u=t.readF32(),c=t.readF32(),l=t.readF32(),a=t.readF32(),f=t.readF32(),h=t.readF32(),d=t.readF32(),y=(0,o._)(t,r.A)??[];return new s(e,n,i,u,c,l,a,{size:f,offsetX:h,offsetY:d},y)}}},93911:function(t,e,n){n.d(e,{Kl:function(){return c},M9:function(){return i},fw:function(){return u}});const r=new Float32Array(1),o=new Uint32Array(r.buffer);function s(t){return r[0]=t,o[0]}function i(t,e){return 65535&t|e<<16}function u(t){const e=s(t),n=e>>>31;let r=e>>>23&255,o=8388607&e;return r-=127,r>15?n<<15|31744:r<-25?0:(r<-14&&(o+=8388608,o/=2**(-14-r),r=-15),r+=15,o/=8192,o=function(t,e){const n=Math.floor(t),r=t-n;return n<e&&(r>.5||.5===r&&n%2==1)?n+1:n}(o,1023),n<<15|r<<10|o)}function c(t){let e=t>>>15,n=t>>10&31,r=1023&t;return e=e?-1:1,n-=15,r/=1024,n>-15?r+=1:n=-14,e*2**n*r}},30188:function(t,e,n){n.d(e,{F:function(){return s},q:function(){return i}});var r=n(93911),o=n(68716);function s(t,e,n,s){const i=n.packPrecisionFactor??1;switch(n.type){case o.pe.BYTE:if(1===n.count)t.setInt8(s+n.offset,e*i);else for(let r=0;r<n.count;r++){const o=r*Int8Array.BYTES_PER_ELEMENT;t.setInt8(s+n.offset+o,e[r]*i)}break;case o.pe.UNSIGNED_BYTE:if(1===n.count)t.setUint8(s+n.offset,e*i);else for(let r=0;r<n.count;r++){const o=r*Uint8Array.BYTES_PER_ELEMENT;t.setUint8(s+n.offset+o,e[r]*i)}break;case o.pe.SHORT:if(1===n.count)t.setInt16(s+n.offset,e*i,!0);else for(let r=0;r<n.count;r++){const o=r*Int16Array.BYTES_PER_ELEMENT;t.setInt16(s+n.offset+o,e[r]*i,!0)}break;case o.pe.UNSIGNED_SHORT:if(1===n.count)t.setUint16(s+n.offset,e*i,!0);else for(let r=0;r<n.count;r++){const o=r*Uint16Array.BYTES_PER_ELEMENT;t.setUint16(s+n.offset+o,e[r]*i,!0)}break;case o.pe.INT:if(1===n.count)t.setInt32(s+n.offset,e*i,!0);else for(let r=0;r<n.count;r++){const o=r*Int32Array.BYTES_PER_ELEMENT;t.setInt32(s+n.offset+o,e[r]*i,!0)}break;case o.pe.UNSIGNED_INT:if(1===n.count)t.setUint32(s+n.offset,e*i,!0);else for(let r=0;r<n.count;r++){const o=r*Uint32Array.BYTES_PER_ELEMENT;t.setUint32(s+n.offset+o,e[r]*i,!0)}break;case o.pe.FLOAT:if(1===n.count)t.setFloat32(s+n.offset,e*i,!0);else for(let r=0;r<n.count;r++){const o=r*Float32Array.BYTES_PER_ELEMENT;t.setFloat32(s+n.offset+o,e[r]*i,!0)}break;case o.pe.HALF_FLOAT:if(1===n.count)t.setUint16(s+n.offset,(0,r.fw)(e*i),!0);else for(let o=0;o<n.count;o++){const u=o*Uint16Array.BYTES_PER_ELEMENT;t.setUint16(s+n.offset+u,(0,r.fw)(e[o]*i),!0)}}}function i(t,e,n){switch(e.type){case o.pe.BYTE:{if(1===e.count)return t.getInt8(n+e.offset);const r=[];for(let o=0;o<e.count;o++){const s=o*Int8Array.BYTES_PER_ELEMENT;r.push(t.getInt8(n+e.offset+s))}return r}case o.pe.UNSIGNED_BYTE:{if(1===e.count)return t.getUint8(n+e.offset);const r=[];for(let o=0;o<e.count;o++){const s=o*Uint8Array.BYTES_PER_ELEMENT;r.push(t.getUint8(n+e.offset+s))}return r}case o.pe.SHORT:{if(1===e.count)return t.getInt16(n+e.offset,!0);const r=[];for(let o=0;o<e.count;o++){const s=o*Int16Array.BYTES_PER_ELEMENT;r.push(t.getInt16(n+e.offset+s,!0))}return r}case o.pe.UNSIGNED_SHORT:{if(1===e.count)return t.getUint16(n+e.offset,!0);const r=[];for(let o=0;o<e.count;o++){const s=o*Uint16Array.BYTES_PER_ELEMENT;r.push(t.getUint16(n+e.offset+s,!0))}return r}case o.pe.INT:{if(1===e.count)return t.getInt32(n+e.offset,!0);const r=[];for(let o=0;o<e.count;o++){const s=o*Int32Array.BYTES_PER_ELEMENT;r.push(t.getInt32(n+e.offset+s,!0))}return r}case o.pe.UNSIGNED_INT:{if(1===e.count)return t.getUint32(n+e.offset,!0);const r=[];for(let o=0;o<e.count;o++){const s=o*Uint32Array.BYTES_PER_ELEMENT;r.push(t.getUint32(n+e.offset+s,!0))}return r}case o.pe.FLOAT:{if(1===e.count)return t.getFloat32(n+e.offset,!0);const r=[];for(let o=0;o<e.count;o++){const s=o*Float32Array.BYTES_PER_ELEMENT;r.push(t.getFloat32(n+e.offset+s,!0))}return r}case o.pe.HALF_FLOAT:{if(1===e.count)return(0,r.Kl)(t.getUint16(n+e.offset,!0));const o=[];for(let s=0;s<e.count;s++){const i=s*Uint16Array.BYTES_PER_ELEMENT;o.push((0,r.Kl)(t.getUint16(n+e.offset+i,!0)))}return o}}}},43135:function(t,e,n){n.d(e,{Ph:function(){return s},Z0:function(){return u},hU:function(){return o}});var r=n(21332);function o(t){const e=t.map((({name:t,count:e,type:n})=>`${t}.${e}.${n}`)).join(",");return(0,r.Wm)(e)}function s(t,e,n,r,o,i,u){if(t.primitiveName===e){let e=r?.readWithDefault(o,i,t[n]&&u);return"text"===t.type&&(e=e.toString()),void(t[n]=e)}if("type"in t&&null!=t.type){if(t.effects)for(const c of t.effects)s(c,e,n,r,o,i,u);switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.symbolLayers)for(const c of t.symbolLayers)s(c,e,n,r,o,i,u);break;case"CIMTextSymbol":t.symbol&&s(t.symbol,e,n,r,o,i,u);break;case"CIMHatchFill":t.lineSymbol&&s(t.lineSymbol,e,n,r,o,i,u);break;case"CIMPictureMarker":case"CIMCharacterMarker":case"CIMVectorMarker":if(t.markerPlacement&&s(t.markerPlacement,e,n,r,o,i,u),"CIMVectorMarker"===t.type&&t.markerGraphics)for(const c of t.markerGraphics)s(c,e,n,r,o,i,u),s(c.symbol,e,n,r,o,i,u)}}}const i=400;function u(t){const e=t.width;return null!=t.effects?i:Math.max(1.25*e,8)}},44016:function(t,e,n){function r(t,e){if(null!==e){t.push(e.length);for(const n of e)n.serialize(t);return t}t.push(0)}function o(t,e,n){const r=t.readInt32(),o=new Array(r);for(let r=0;r<o.length;r++)o[r]=e.deserialize(t,n);return o}n.d(e,{_:function(){return o},j:function(){return r}})},67277:function(t,e,n){n.d(e,{_:function(){return r}});class r{constructor(t,e,n,r,o,s=!1,i=0){this.name=t,this.count=e,this.type=n,this.offset=r,this.stride=o,this.normalized=s,this.divisor=i}}}}]);
//# sourceMappingURL=62.6363bb7c7811dc598825.js.map