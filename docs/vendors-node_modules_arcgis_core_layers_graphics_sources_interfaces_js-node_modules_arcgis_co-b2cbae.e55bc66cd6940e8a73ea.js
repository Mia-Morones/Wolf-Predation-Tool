"use strict";
(self["webpackChunkreact_redux_arcgis_boilerplate"] = self["webpackChunkreact_redux_arcgis_boilerplate"] || []).push([["vendors-node_modules_arcgis_core_layers_graphics_sources_interfaces_js-node_modules_arcgis_co-b2cbae"],{

/***/ "./node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: function() { return /* binding */ u; },
/* harmony export */   b: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function m(m){const u=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_11__.ShaderBuilder,{vertex:p,fragment:w,attributes:f,varyings:h}=u;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addProjViewLocalOrigin)(p,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Transform,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__.VertexColor,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_6__.VisualVariables,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__.ObjectAndLayerIdColor,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,m),u.include(_views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_13__.outputColorHighlightOID,m),f.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,"vec3"),m.vvColor&&f.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.COLORFEATUREATTRIBUTE,"float"),h.add("vColor","vec4"),h.add("vpos","vec3");const C=m.terrainDepthTest&&m.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color;return C&&h.add("depth","float"),p.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4PassUniform("eColor",(e=>e.color))),p.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.glsl)`
      vpos = position;
      forwardNormalizedVertexColor();
      forwardObjectAndLayerIdColor();

      ${m.hasVertexColors?"vColor *= eColor;":m.vvColor?"vColor = eColor * interpolateVVColor(colorFeatureAttribute);":"vColor = eColor;"}
      ${C?"depth = (view * vec4(vpos, 1.0)).z;":""}
      gl_Position = transformPosition(proj, view, vpos);`),u.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,m),C&&u.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__.terrainDepthTest,m),w.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__.ColorConversion),w.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.glsl)`
    discardBySlice(vpos);
    ${C?"terrainDepthTest(depth);":""}
    vec4 fColor = vColor;
    outputColorHighlightOID(fColor, vpos);`),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HighlightApply.glsl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HighlightApply.glsl.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: function() { return /* binding */ c; },
/* harmony export */   b: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function r(){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__.ShaderBuilder;r.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.HighlightCellGridScreenSpacePass);const{fragment:c}=r;return c.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("highlightTexture",(e=>e.highlightTexture)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("highlightOptionsTexture",(e=>e.highlightOptionsTexture)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("pixelRatio",(e=>e.pixelRatio)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("occludedIntensityFactor",(e=>e.occludedFactor)),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.IntegerPassUniform("maxHighlightLevel",(e=>e.maxHighlightLevel))),c.constants.add("pixelSampleScale","float",1),r.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightReadBitmap),c.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`const float pascal17[9] = float[9](12870.0, 11440.0, 8008.0, 4368.0, 1820.0, 560.0, 120.0, 16.0, 1.0);
const float denom17 =  65536.0;
float colorWeight[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
float colorOcclusion[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
float weights[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
void applyTexel(vec2 texel, float weight) {
if (texel != vec2(0.0)){
int maxChannel = (maxHighlightLevel >> 2) & 1;
for (int channelIndex = 0; channelIndex <= maxChannel; ++channelIndex){
uint channel = readChannel(texel, channelIndex << 2);
int firstIndex = channelIndex << 2;
int maxIndex  = min(firstIndex + 3, maxHighlightLevel);
for (int highlightIndex = firstIndex; highlightIndex <= maxIndex; ++highlightIndex ) {
uint v = readChannelBits(channel, highlightIndex);
if ((v & 1u) == 1u){
colorWeight[highlightIndex] += weight;
if ((v & 2u) == 2u){
colorOcclusion[highlightIndex] += weight;
}
}
}
}
}
}
vec2 readTexel(ivec2 iuv, int du, int dv) {
return texelFetch(highlightTexture, iuv + ivec2(du, dv), 0).rg;
}
void readAndApplyTexel(ivec2 iuv, int du, int dv, float weight) {
vec2 texel = readTexel(iuv, du, dv);
applyTexel(texel, weight);
}
void readAndApply2TexelsU(ivec2 iuv, int du, int dv, float weight) {
readAndApplyTexel(iuv, -du, dv, weight);
readAndApplyTexel(iuv, +du, dv, weight);
}
float getWeight(int pixelDistance) {
float scaledDistance = float(pixelDistance) * pixelSampleScale / pixelRatio;
float d0f = floor(scaledDistance);
int d0 = int(d0f);
if (d0 >= 8){
return 0.0;
}
float w0 = pascal17[d0];
float w1 = pascal17[d0+1];
float f =  scaledDistance - d0f;
return mix(w0, w1, f);
}`),c.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));
ivec2 iuv = ivec2(sUV * highlightTextureSize);
vec2 centerTexel = texelFetch(highlightTexture, iuv, 0).rg;
bool outlinePossible = false;
if (vOutlinePossible > 0.0){
for (int highlightLevel=0; highlightLevel<= maxHighlightLevel; ++highlightLevel) {
if ((readLevelBits(centerTexel,highlightLevel) & 1u) == 0u) {
outlinePossible = true;
break;
}
}
}
if (outlinePossible) {
int maxPixelDistance = clamp(int(8.0 * pixelRatio / pixelSampleScale), 2, 16);
float weightSum = 0.0;
for(int y = 0; y <= maxPixelDistance; ++y) {
float w = getWeight(y);
weights[y] = w;
weightSum += w * (y == 0 ? 1.0 : 2.0);
}
for(int y = 0; y <= maxPixelDistance; ++y) {
weights[y] = weights[y] / weightSum;
}
float weight0 = weights[0];
applyTexel(centerTexel, weight0 * weight0);
for(int y = 0; y <= maxPixelDistance; y += 1) {
float yFactor = weights[y];
if (y != 0) {
float xFactor = weight0;
float weight = xFactor * yFactor;
if (weight > 0.0) {
readAndApplyTexel(iuv, 0, +y, weight);
readAndApplyTexel(iuv, 0, -y, weight);
}
}
for(int x = 1; x <= maxPixelDistance; x += 1) {
float xFactor = weights[x];
float weight = xFactor * yFactor;
if (weight > 0.0) {
readAndApply2TexelsU(iuv, x, +y, weight);
if (y != 0){
readAndApply2TexelsU(iuv, x, -y, weight);
}
}
}
}
} else {
applyTexel(centerTexel, 1.0);
}
int frontColorIndex = 999;
int maxColorIndex = 0;
for (int i = 0; i <= maxHighlightLevel; ++i) {
if (colorWeight[i] > 0.0){
frontColorIndex = min(frontColorIndex, i);
maxColorIndex = max(maxColorIndex, i);
}
}
if (frontColorIndex == 999){
fragColor = vec4(0.0);
return;
}
vec4 accumulatedColor = vec4(0.0);
for (int curColorIndex = frontColorIndex; curColorIndex <= maxColorIndex; ++curColorIndex) {
float curColorWeight = colorWeight[curColorIndex];
if (curColorWeight <= 0.01){
continue;
}
uint vc = readLevelBits(centerTexel, curColorIndex);
bool centerFilled = (vc & 1u) == 1u;
bool centerOccluded = (vc & 3u) == 3u;
float curColorOcclusion = colorOcclusion[curColorIndex];
bool occluded = centerFilled ? centerOccluded : curColorOcclusion > 0.5 * curColorWeight;
int colorChannel = centerFilled ? 0 : 1;
vec4 colorBase = texelFetch(highlightOptionsTexture, ivec2(curColorIndex, colorChannel), 0);
float occlusionFactor = occluded ? occludedIntensityFactor : 1.0;
float outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, 0.03, curColorWeight);
float intensity = colorBase.a * occlusionFactor * outlineFactor;
vec3 currentColor = colorBase.rgb;
float a0 = accumulatedColor.a;
float a1 = intensity;
float alpha = clamp(a0 + a1 - a0 * a1, 0.0, 1.0);
if (alpha > 0.001){
vec3 blendedColor = ((1.0 - a1) * a0 * accumulatedColor.rgb + a1 * currentColor) / alpha;
accumulatedColor = vec4(blendedColor, alpha);
}
}
fragColor = accumulatedColor;`),r}const c=Object.freeze(Object.defineProperty({__proto__:null,build:r},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: function() { return /* binding */ o; },
/* harmony export */   a: function() { return /* binding */ d; },
/* harmony export */   b: function() { return /* binding */ u; },
/* harmony export */   c: function() { return /* binding */ a; },
/* harmony export */   g: function() { return /* binding */ l; },
/* harmony export */   o: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class o extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.NoParameters{}function a(){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_2__.ShaderBuilder,{outputs:o,fragment:a}=r;return r.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ScreenSpacePass),a.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_3__.Texture2DDrawUniform("textureInput",(e=>e.input))),a.constants.add("outlineWidth","int",Math.ceil(c)),a.constants.add("cellSize","int",l),o.add("fragGrid","vec2"),a.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl)`vec2 inputTextureSize = vec2(textureSize(textureInput, 0));
vec2 cellBottomLeftCornerInput = floor(gl_FragCoord.xy) * vec2(cellSize);
vec2 coordMid =  (cellBottomLeftCornerInput + 0.5 * vec2(cellSize)) / inputTextureSize;
vec2 commonValue = texture(textureInput, coordMid).rg;
int margin = outlineWidth;
float marginSquare = float(margin*margin);
for(int y = -margin; y <= cellSize + margin; y+=2) {
int dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;
int xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : margin;
for(int x = -xMargin; x <= cellSize + xMargin; x+=2) {
vec2 coord = (cellBottomLeftCornerInput + vec2(x, y)) / inputTextureSize;
vec2 value = texture(textureInput, coord).rg;
if (value != commonValue){
fragGrid = vec2(1.0, 1.0);
return;
}
}
}
bool hasAny = commonValue != vec2(0.0);
fragGrid = vec2(hasAny ? 1.0 : 0.0, 0.0);`),r}const l=32,c=9,u=.4,d=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:o,blurSize:u,build:a,gridCellPixelSize:l,outlineSize:c},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: function() { return /* binding */ s; },
/* harmony export */   b: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function h(){const h=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;h.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.HighlightCellGridScreenSpacePass),h.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightReadBitmap);const{fragment:s}=h;return h.outputs.add("fragSingleHighlight","vec2",0),s.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("highlightTexture",(e=>e.highlightTexture)),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.IntegerPassUniform("maxHighlightLevel",(e=>e.maxHighlightLevel)),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.IntegerPassUniform("highlightLevel",(e=>e.highlightLevel))),h.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightReadBitmap),s.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`ivec2 iuv = ivec2(gl_FragCoord.xy);
vec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;
uint bits = readLevelBits(inputTexel, highlightLevel);
bool hasHighlight = (bits & 1u) == 1u;
bool hasOccluded  = (bits & 2u) == 2u;
fragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),h}const s=Object.freeze(Object.defineProperty({__proto__:null,build:h},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: function() { return /* binding */ d; },
/* harmony export */   a: function() { return /* binding */ m; },
/* harmony export */   b: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _views_3d_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/terrain/interfaces.js */ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class d extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.NoParameters{constructor(){super(...arguments),this.overlayIndex=_views_3d_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.OverlayIndex.INNER,this.opacity=1}}function l(){const e=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__.ShaderBuilder;return e.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSpacePass),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("tex",(e=>e.texture))),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.IntegerPassUniform("overlayIdx",(e=>e.overlayIndex))),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("opacity",(e=>e.opacity))),e.fragment.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);
fragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: function() { return /* binding */ c; },
/* harmony export */   b: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function s(){const s=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_6__.ShaderBuilder;s.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.HighlightCellGridScreenSpacePass);const{fragment:c}=s;return c.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Texture2DPassUniform("blurInput",(e=>e.singleHighlightBlurTexture)),new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float2DrawUniform("blurSize",(e=>e.blurSize)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Texture2DPassUniform("highlightTexture",(e=>e.highlightTexture)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Texture2DPassUniform("highlightOptionsTexture",(e=>e.highlightOptionsTexture)),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.IntegerPassUniform("highlightLevel",(e=>e.highlightLevel)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("occludedIntensityFactor",(e=>e.occludedFactor))),c.constants.add("inner","float",1-(_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_8__.o-_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_8__.b)/_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_8__.o),s.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightReadBitmap),c.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));
vec2 uv = sUV;
vec2 center = texture(blurInput, uv).rg;
vec2 blurredHighlightValue = (vOutlinePossible == 0.0)
? center
: center * 0.204164
+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005
+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005
+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913
+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;
float highlightIntensity = blurredHighlightValue.r;
float occlusionWeight = blurredHighlightValue.g;
if (highlightIntensity <= 0.01) {
discard;
}
vec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);
vec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);
vec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;
uint centerBits = readLevelBits(centerTexel, highlightLevel);
bool centerFilled = (centerBits & 1u) == 1u;
bool centerOccluded = (centerBits & 3u) == 3u;
bool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);
float occlusionFactor = occluded ? occludedIntensityFactor : 1.0;
float outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);
float fillFactor = centerFilled ? 1.0 : 0.0;
vec4 baseColor = mix(outlineColor, fillColor, fillFactor);
float intensity = baseColor.a * occlusionFactor * outlineFactor;
fragColor = vec4(baseColor.rgb, intensity);`),s}const c=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: function() { return /* binding */ n; },
/* harmony export */   a: function() { return /* binding */ g; },
/* harmony export */   b: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.NoParameters{constructor(){super(...arguments),this.blurSize=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()}}function o(){const e=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;return e.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightCellGridScreenSpacePass),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float2DrawUniform("blurSize",(e=>e.blurSize)),new _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DDrawUniform("blurInput",(e=>e.blurInput))),e.outputs.add("fragSingleHighlight","vec2",0),e.fragment.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));
vec2 uv = sUV;
vec2 center = texture(blurInput, uv).rg;
if (vOutlinePossible == 0.0) {
fragSingleHighlight = center;
} else {
vec2 sum = center * 0.204164;
sum += texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005;
sum += texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005;
sum += texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913;
sum += texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;
fragSingleHighlight = sum;
}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,SingleHighlightBlurDrawParameters:n,build:o},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T: function() { return /* binding */ a; },
/* harmony export */   a: function() { return /* binding */ d; },
/* harmony export */   b: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.NoParameters{constructor(){super(...arguments),this.color=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(1,1,1)}}function l(){const e=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;return e.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSpacePass),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("tex",(e=>e.texture)),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float3PassUniform("uColor",(e=>e.color))),e.fragment.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`vec4 texColor = texture(tex, uv);
fragColor = texColor * vec4(uColor, 1.0);`),e}const d=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:l},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/interfaces.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/interfaces.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeshTransformUpdateAction: function() { return /* binding */ a; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var a;!function(a){a[a.EnableFastUpdates=0]="EnableFastUpdates",a[a.DisableFastUpdates=1]="DisableFastUpdates",a[a.UpdateFastLocalOrigin=2]="UpdateFastLocalOrigin"}(a||(a={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/Clouds.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/Clouds.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloudsTextureChannels: function() { return /* binding */ e; },
/* harmony export */   CubeMapState: function() { return /* binding */ n; },
/* harmony export */   ensureClouds: function() { return /* binding */ d; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]="Idle",n[n.Rendering=1]="Rendering",n[n.Ready=2]="Ready",n[n.Fading=3]="Fading"}(n||(n={})),function(n){n[n.RG=0]="RG",n[n.BA=1]="BA",n[n.COUNT=2]="COUNT"}(e||(e={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloudsParameters: function() { return /* binding */ x; },
/* harmony export */   FadeState: function() { return /* binding */ A; }
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/signal.js */ "./node_modules/@arcgis/core/core/signal.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/support/axisAngleDegrees.js */ "./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _Clouds_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Clouds.js */ "./node_modules/@arcgis/core/views/3d/environment/Clouds.js");
/* harmony import */ var _weather_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./weather.js */ "./node_modules/@arcgis/core/views/3d/environment/weather.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class x{constructor(){this.startTime=0,this._data=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(null),this._readChannels=_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CloudsTextureChannels.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this._fadeState=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(A.HIDE),this._fadeFactor=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*_weather_js__WEBPACK_IMPORTED_MODULE_10__.heightLimit||e<-_weather_js__WEBPACK_IMPORTED_MODULE_10__.heightLimit||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>_weather_js__WEBPACK_IMPORTED_MODULE_10__.heightLimit||e<-.35*_weather_js__WEBPACK_IMPORTED_MODULE_10__.heightLimit||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):(0,_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.ensureClouds)(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.k)(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius*_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius,0))/Math.sqrt(t),(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.fromPoints)(C,this.parallax.anchorPoint,v),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.rotate)(this.parallax.transform,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.IDENTITY,v[3],(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.axis)(v)),(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.fromPoints)(C,this.parallaxNew.anchorPoint,v),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.rotate)(this.parallaxNew.transform,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.IDENTITY,v[3],(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.axis)(v))}_updateAnchorPoint(a){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(this._anchorPoint,a.eye),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(this._anchorPoint,this._anchorPoint,_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius),this.fadeState===A.HIDE&&this.data?.state===_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Ready?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallax.anchorPoint,this._anchorPoint),0):(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.l)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.d)(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallax.anchorPoint,this._anchorPoint),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallax.anchorPoint,this._anchorPoint),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Ready&&(this.data.state=_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Idle),this.fadeState){case A.CROSS_FADE:(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.neverReached)(this.fadeState)}}_switchReadChannels(){this.data?.state===_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Ready&&(this._readChannels=1-this._readChannels,this.data.state=_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]="HIDE",a[a.FADE_IN=1]="FADE_IN",a[a.SHOW=2]="SHOW",a[a.CROSS_FADE=3]="CROSS_FADE",a[a.FADE_OUT=4]="FADE_OUT"}(A||(A={}));class O{constructor(){this.anchorPoint=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.radiusCurvatureCorrection=0,this.transform=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.create)()}}const C=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.fromValues)(0,0,1),v=(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.create)(),g=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),H=1.25,w=.5,I=2e5;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var c;let p=c=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="cloudy",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({cloudy:"cloudy"})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),p=c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.CloudyWeather")],p);const u=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var p;let c=p=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="foggy",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({foggy:"foggy"})],c.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,"fogStrength",void 0),c=p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.FoggyWeather")],c);const n=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/RainyWeather.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/RainyWeather.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var s;let p=s=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="rainy",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({rainy:"rainy"})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"precipitation",void 0),p=s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.RainyWeather")],p);const c=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var i;let p=i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="snowy",this.cloudCover=.5,this.precipitation=.5,this.snowCover="disabled"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({snowy:"snowy"})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"precipitation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:["enabled","disabled"],nonNullable:!0,json:{write:!0}})],p.prototype,"snowCover",void 0),p=i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.SnowyWeather")],p);const n=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var c;let p=c=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="sunny",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({sunny:"sunny"})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),p=c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.SunnyWeather")],p);const n=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/weather.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/weather.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cloudsHeight: function() { return /* binding */ i; },
/* harmony export */   heightLimit: function() { return /* binding */ p; },
/* harmony export */   validateWeatherType: function() { return /* binding */ s; },
/* harmony export */   weatherTypes: function() { return /* binding */ n; },
/* harmony export */   weatherTypesArray: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _CloudyWeather_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CloudyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js");
/* harmony import */ var _FoggyWeather_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FoggyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js");
/* harmony import */ var _RainyWeather_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RainyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/RainyWeather.js");
/* harmony import */ var _SnowyWeather_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnowyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js");
/* harmony import */ var _SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SunnyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n={key:"type",base:_SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__["default"],typeMap:{sunny:_SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__["default"],cloudy:_CloudyWeather_js__WEBPACK_IMPORTED_MODULE_0__["default"],rainy:_RainyWeather_js__WEBPACK_IMPORTED_MODULE_2__["default"],snowy:_SnowyWeather_js__WEBPACK_IMPORTED_MODULE_3__["default"],foggy:_FoggyWeather_js__WEBPACK_IMPORTED_MODULE_1__["default"]}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`"${e}" is not a valid weather type`),!1)}const p=1e4,i=1e5;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/engineContent/line.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/engineContent/line.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createGeometry: function() { return /* binding */ b; },
/* harmony export */   lineStripsToParameters: function() { return /* binding */ R; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/projection/projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_7__.getZeroIndexArray)(a);return h(e,o,l),j(e,o,l),T(e,o,l),D(e,o,l),w(e,o,l),y(e,o,l),E(e,o,i),new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t,o,n,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_10__.ContentObjectType.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.COLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute(n??_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.ONES,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.NORMAL,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.COLORFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.SIZE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.SIZEFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OPACITYFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==_ViewingMode_js__WEBPACK_IMPORTED_MODULE_8__.ViewingMode.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_5__.newDoubleArray)(u.length),f=(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_3__.getReferenceEllipsoid)(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_4__.lonLatToWebMercatorComparable)(u,t,p,t,f);const b=u.length/3,g=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_6__.newFloatArray)(b+1);let h=I,T=F,D=0,j=0;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(h,p[j++],p[j++]),j++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(T,p[j++],p[j++]),j++,D+=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.dist)(h,T),g[n]=D,[h,T]=[T,h];o.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.DISTANCETOSTART,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),F=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_5__.newDoubleArray)(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   geometryToRenderInfo: function() { return /* binding */ p; },
/* harmony export */   geometryToRenderInfoDraped: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/triangulationUtils.js */ "./node_modules/@arcgis/core/geometry/support/triangulationUtils.js");
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/graphics/elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function p(o,t,s,p){const l="polygon"===o.type?_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.CCW_IS_HOLE:_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.NONE,a="polygon"===o.type?o.rings:o.paths,{position:u,outlines:f}=(0,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.ringsToTriangulationInfo)(a,!!o.hasZ,l,o.spatialReference),m=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.newDoubleArray)(u.length),g=(0,_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_3__.applyPerVertexElevationAlignment)(u,o.spatialReference,0,m,0,u,0,u.length/3,t,s,p),y=null!=g;return{lines:y?c(f,u,m):[],projectionSuccess:y,sampledElevation:g}}function l(e,t){const i="polygon"===e.type?_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.CCW_IS_HOLE:_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.NONE,p="polygon"===e.type?e.rings:e.paths,{position:l,outlines:a}=(0,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.ringsToTriangulationInfo)(p,!1,i),u=(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__.projectBuffer)(l,e.spatialReference,0,l,t,0);for(let o=2;o<l.length;o+=3)l[o]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_4__.drapedZ;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(e,3*i,3*s),mapPositions:null!=n?(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(n,o,p):void 0})}return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/Intersector.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/Intersector.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayTarget: function() { return /* binding */ i; },
/* harmony export */   isOverlayIntersectorResult: function() { return /* binding */ o; },
/* harmony export */   isTerrainIntersectorResult: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl-engine/lib/IntersectorTarget.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorTarget.js");
/* harmony import */ var _webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl-engine/lib/intersectorUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(r){return (0,_webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__.isValidIntersectorResult)(r)&&r.intersector===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.IntersectorType.TERRAIN&&!!r.target}class i extends _webgl_engine_lib_IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_1__.Graphic3DTarget{constructor(e,r,t){super(e,r),this.triangleNr=t}}function o(r){return (0,_webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__.isValidIntersectorResult)(r)&&r.intersector===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.IntersectorType.OVERLAY&&!!r.target}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/Overlay.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/Overlay.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Overlay: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _webgl_engine_lib_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl-engine/lib/LocalOriginFactory.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{constructor(){this._extent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.resolution=0,this.renderLocalOrigin=(0,_webgl_engine_lib_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,0,0,"O"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViewsCyclical(e){this.setupGeometryView();const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.offset)(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.offset)(this._extent,-e.range,0,s)}}setupGeometryView(){this.canvasGeometries.numViews=1,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.copy)(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)()],this.numViews=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayContent: function() { return /* binding */ o; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var o;!function(o){o[o.Color=0]="Color",o[o.ColorNoRasterImage=1]="ColorNoRasterImage",o[o.Highlight=2]="Highlight",o[o.WaterNormal=3]="WaterNormal",o[o.Occluded=4]="Occluded",o[o.ObjectAndLayerIdColor=5]="ObjectAndLayerIdColor"}(o||(o={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayFramebufferObject: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.releaseMaybe)(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayRenderTargets: function() { return /* binding */ i; },
/* harmony export */   RenderTargetDescriptor: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./OverlayContent.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js");
/* harmony import */ var _OverlayFramebufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OverlayFramebufferObject.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js");
/* harmony import */ var _webgl_formats_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl/formats.js */ "./node_modules/@arcgis/core/views/3d/webgl/formats.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _webgl_engine_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webgl-engine/effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(e,t,l,s,i=_webgl_formats_js__WEBPACK_IMPORTED_MODULE_2__.ColorFormat.RGBA_MIPMAP){this.output=l,this.content=s,this.fbo=new _OverlayFramebufferObject_js__WEBPACK_IMPORTED_MODULE_1__.OverlayFramebufferObject(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,"overlay color",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.Color),new s(r,"overlay IM color",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.ColorNoRasterImage),new s(r,"overlay highlight",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Highlight,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.Highlight,_webgl_formats_js__WEBPACK_IMPORTED_MODULE_2__.ColorFormat.RG),new s(r,"overlay water",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Normal,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.WaterNormal),new s(r,"overlay occluded",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.Occluded)],(0,_webgl_engine_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_4__.olidEnabled)()&&this.targets.push(new s(r,"overlay olid",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.ObjectAndLayerIdColor,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.ObjectAndLayerIdColor,_webgl_formats_js__WEBPACK_IMPORTED_MODULE_2__.ColorFormat.RGBA))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayRenderer: function() { return /* binding */ Z; },
/* harmony export */   drapedZ: function() { return /* binding */ re; },
/* harmony export */   overlayRenderOccludedFlag: function() { return /* binding */ te; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../layers/interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js");
/* harmony import */ var _Overlay_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Overlay.js */ "./node_modules/@arcgis/core/views/3d/terrain/Overlay.js");
/* harmony import */ var _OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./OverlayContent.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js");
/* harmony import */ var _OverlayRenderTargets_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./OverlayRenderTargets.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js");
/* harmony import */ var _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../chunks/TextureOnly.glsl.js */ "./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js");
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../webgl-engine/effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _webgl_engine_effects_highlight_Highlight_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../webgl-engine/effects/highlight/Highlight.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js");
/* harmony import */ var _webgl_engine_lib_GLMaterialRepository_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../webgl-engine/lib/GLMaterialRepository.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js");
/* harmony import */ var _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../webgl-engine/lib/GridLocalOriginFactory.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../webgl-engine/lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../webgl-engine/lib/RenderContext.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _webgl_engine_lib_ShadowMap_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../webgl-engine/lib/ShadowMap.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js");
/* harmony import */ var _webgl_engine_lib_SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../webgl-engine/lib/SortedRenderGeometryRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js");
/* harmony import */ var _webgl_engine_lib_TextureTechnique_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../webgl-engine/lib/TextureTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js");
/* harmony import */ var _webgl_engine_lib_TextureTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../webgl-engine/lib/TextureTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js");
/* harmony import */ var _webgl_engine_lib_Update_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../webgl-engine/lib/Update.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lighting_Lightsources_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../webgl-engine/lighting/Lightsources.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js");
/* harmony import */ var _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../chunks/OverlayCompositing.glsl.js */ "./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js");
/* harmony import */ var _webgl_engine_shaders_OverlayCompositingTechnique_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../webgl-engine/shaders/OverlayCompositingTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let Z=class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_25__.SyncRenderPlugin{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_40__.O,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_5__["default"],this._passParameters=new _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_24__.T,this._materials=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_21__["default"],this.worldToPCSRatio=1,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.longitudeCyclical=null,this.produces=new Map([[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_MATERIAL,e=>e!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Highlight||this.hasHighlights],[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const{view:e}=this,{_stage:r}=e,t=r.renderer.fboCache,s=r.renderView,{waterTextures:i,textures:h}=s;this._renderContext=new _webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__.OverlayRenderContext(this._rctx,new _webgl_engine_lib_ShadowMap_js__WEBPACK_IMPORTED_MODULE_33__.ShadowMap(t,e.state.viewingMode)),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>i.updating),(()=>this.events.emit("content-changed")),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.spatialReference),(e=>this._localOriginFactory=new _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_28__.GridLocalOriginFactory(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.on)((()=>this.view.allLayerViews),"after-changes",(()=>this._sortedDrapeSourceRenderersDirty=!0)),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>(0,_webgl_engine_effects_highlight_Highlight_js__WEBPACK_IMPORTED_MODULE_26__.trackHighlightOptions)(this.view.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial)]),this._materials=new _webgl_engine_lib_GLMaterialRepository_js__WEBPACK_IMPORTED_MODULE_27__.GLMaterialRepository(h,this._techniques,(()=>{this.notifyChange("rendersOccludedDraped"),this.events.emit("content-changed"),this.notifyChange("updating"),this.notifyChange("isEmpty")}),(()=>this.events.emit("content-changed")));const{_bindParameters:d,_camera:l}=this;d.slot=_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_MATERIAL,d.mainDepth=null,l.near=1,l.far=1e4,l.relativeElevation=null,d.camera=this._camera,d.oitPass=_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_30__.OITPass.NONE,d.updateLighting([new _webgl_engine_lighting_Lightsources_js__WEBPACK_IMPORTED_MODULE_39__.AmbientLight((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.ones)())],0,0,_webgl_engine_lib_Update_js__WEBPACK_IMPORTED_MODULE_37__.Update.Immediate),this.addHandles(this.view.resourceController.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_42__.TaskPriority.STAGE,this))}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this.view._stage.renderView.renderingContext}get _techniques(){return this.view._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){this._pluginContext=e,this._techniques.precompile(_webgl_engine_shaders_OverlayCompositingTechnique_js__WEBPACK_IMPORTED_MODULE_41__.OverlayCompositingTechnique)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}createGeometryDrapeSourceRenderer(e){return this.createDrapeSourceRenderer(e,_webgl_engine_lib_SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_34__.SortedRenderGeometryRenderer)}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,"fullOpacity"in e&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>e.fullOpacity),(()=>this.events.emit("content-changed"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e,(e=>e.drapeTargetType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeTargetType.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e,(e=>e.drapeSourceType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeSourceType.Features)),this._hasDrapedRasterSource=(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e,(e=>e.drapeSourceType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeSourceType.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new _OverlayRenderTargets_js__WEBPACK_IMPORTED_MODULE_20__.OverlayRenderTargets(this.view._stage.renderer.fboCache),this._overlays=[new _Overlay_js__WEBPACK_IMPORTED_MODULE_18__.Overlay,new _Overlay_js__WEBPACK_IMPORTED_MODULE_18__.Overlay]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._renderTargets),this.events.emit("textures-disposed")}getTexture(e){if(null!=e)return e===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges()&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange("updating"),this.notifyChange("isEmpty"),this.events.emit("content-changed"),this.hasHighlights=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>e.hasHighlights)),this.notifyChange("rendersOccludedDraped"),this._updateHasWater())}processSyncDrapeSources(){this._processDrapeSources(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_42__.noBudget,(e=>e.updatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_38__.UpdatePolicy.SYNC))}get isEmpty(){return!_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_16__.debugFlags.OVERLAY_DRAW_DEBUG_TEXTURE&&!(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>!e.isEmpty))}get hasWater(){return this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=te,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_16__.debugFlags.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Occluded&&e!==_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Highlight)return!0;++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,r}get mode(){return this.isEmpty?_webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__.OverlayMode.Disabled:this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.WaterNormal)?_webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__.OverlayMode.EnabledWithWater:this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Color)?_webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__.OverlayMode.Enabled:_webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__.OverlayMode.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(this._renderTargets){this._bindParameters.alignPixelEnabled=e.alignPixelEnabled,this._bindParameters.highlightGroupName=null,++this._techniques.precompiling;for(const e of this._renderTargets.targets){if(e.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=e.output;this._renderContext.output=r,this._bindParameters.slot=r===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Normal?_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_WATER:_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_MATERIAL,e.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Occluded&&(this._renderContext.renderOccludedMask=te),this._sortedRenderers.forAll((({drapeSource:r,renderer:t})=>{e.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&r.drapeSourceType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeSourceType.RasterImage||t.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=_webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__.defaultRenderOccludedMask}--this._techniques.precompiling}}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryView();this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const r of this._renderTargets.targets){if(r.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const t=this._drawTarget(_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.INNER,r,e),s=this._drawTarget(_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.OUTER,r,e);(t||s)&&r.fbo.generateMipMap()}}}_drawTarget(e,r,t){const s=this._overlays[e],i=s.canvasGeometries;if(0===i.numViews)return!1;const{contentPixelRatio:o}=t;this._screenToWorldRatio=o*s.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Normal&&!this.hasWater||!s.hasSomeSizedView())return!1;const{_rctx:a,_bindParameters:h}=this;if(this._camera.pixelRatio=s.pixelRatio*o,this._renderContext.output=n,h.screenToWorldRatio=this._screenToWorldRatio,h.screenToPCSRatio=this._screenToWorldRatio*this.worldToPCSRatio,h.slot=n===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Normal?_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_WATER:_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_MATERIAL,r.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Occluded&&(this._renderContext.renderOccludedMask=te),h.highlightGroupName=null,!this.renders(r.content))return this._renderContext.renderOccludedMask=_webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__.defaultRenderOccludedMask,!1;const{resolution:d}=s,l=e===_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.INNER?0:d;a.setViewport(l,0,d,d),this._bindTargetFBO(r),e===_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.INNER&&(a.setClearColor(0,0,0,0),a.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_43__.FramebufferBit.COLOR));if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_16__.debugFlags.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Occluded&&r.content!==_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Highlight){this._techniques.precompile(_webgl_engine_lib_TextureTechnique_js__WEBPACK_IMPORTED_MODULE_35__.TextureTechnique,se);const r=this._techniques.acquire(_webgl_engine_lib_TextureTechnique_js__WEBPACK_IMPORTED_MODULE_35__.TextureTechnique,se);for(let t=0;t<i.numViews;t++)this._setViewParameters(i.extents[t],s),this._ensureDebugPatternResources(s.resolution,ee[e]),a.bindTechnique(r,h,this._passParameters),a.screen.draw();r.release()}if(r.output===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Highlight){const{fboCache:t}=this.view._stage.renderer,s=this._resolution;(0,_webgl_engine_effects_highlight_Highlight_js__WEBPACK_IMPORTED_MODULE_26__.renderHighlightBuffer)(a,t,{width:s,height:s},this.view.highlights,h,(()=>this._renderAllGeometry(e,r)),l,(()=>this._bindTargetFBO(r)))}else this._renderAllGeometry(e,r);return a.bindFramebuffer(null),this._renderContext.renderOccludedMask=_webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__.defaultRenderOccludedMask,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:o})=>{if(r.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&i.drapeSourceType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeSourceType.RasterImage)return;const{fullOpacity:n}=i,a=null!=n&&n<1&&r.output===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),o.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=n,this._overlayParameters.overlayIndex=e;const t=this._techniques.acquire(_webgl_engine_shaders_OverlayCompositingTechnique_js__WEBPACK_IMPORTED_MODULE_41__.OverlayCompositingTechnique);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),t.release(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this.view._stage.renderer.fboCache,s=t.acquire(r,e,"overlay tmp");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_43__.FramebufferBit.COLOR),s}get _resolution(){return this._overlays?.[_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.INNER].resolution??0}notifyContentChanged(){this.events.emit("content-changed")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:o}of this._sortedRenderers)i=o.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this.view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),o=i>=0,n=s.renderGroup??(o?_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapedRenderGroup.MapLayer:_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapedRenderGroup.ViewLayer),a=r*n+(o?i:0);this._sortedRenderers.push(new $(s,t,a))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__.ortho)(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__.fromTranslation)(t.viewMatrix,[-e[0],-e[1],0])}_updateHasWater(){const e=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e,this.events.emit("has-water"))}_ensureDebugPatternResources(e,r){if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let o=0;o<e;o++)for(let r=0;r<e;r++){const i=Math.floor(r/10),n=Math.floor(o/10);i<2||n<2||10*i>e-20||10*n>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&n?1&r^1&o?0:255:1&i^1&n?0:128)}const i=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_45__.TextureDescriptor(e);i.samplingMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_43__.TextureSamplingMode.NEAREST,this._passParameters.texture=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_44__.Texture(this._rctx,i,t)}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"hasHighlights",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"_sortedDrapeSourceRenderersDirty",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],Z.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],Z.prototype,"_techniques",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"worldToPCSRatio",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,readOnly:!0})],Z.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"isEmpty",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],Z.prototype,"rendersOccludedDraped",null),Z=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.terrain.OverlayRenderer")],Z);class ${constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const ee=[[1,.5,.5],[.5,.5,1]],re=-2,te=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_29__.RenderOccludedFlag.OccludeAndTransparent,se=new _webgl_engine_lib_TextureTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_36__.TextureTechniqueConfiguration;se.hasAlpha=!0;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/interfaces.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayIndex: function() { return /* binding */ E; },
/* harmony export */   PatchType: function() { return /* binding */ A; },
/* harmony export */   TextureUpdate: function() { return /* binding */ O; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var E,A,O;!function(E){E[E.INNER=0]="INNER",E[E.OUTER=1]="OUTER"}(E||(E={})),function(E){E[E.REGULAR=0]="REGULAR",E[E.HAS_NORTH_POLE=1]="HAS_NORTH_POLE",E[E.HAS_SOUTH_POLE=2]="HAS_SOUTH_POLE",E[E.HAS_BOTH_POLES=3]="HAS_BOTH_POLES"}(A||(A={})),function(E){E[E.FADING=0]="FADING",E[E.IMMEDIATE=1]="IMMEDIATE",E[E.UNFADED=2]="UNFADED"}(O||(O={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawParameters: function() { return /* binding */ a; },
/* harmony export */   HighlightPassParameters: function() { return /* binding */ n; },
/* harmony export */   MaterialPassParameters: function() { return /* binding */ h; },
/* harmony export */   PassParameters: function() { return /* binding */ e; },
/* harmony export */   RenderPassIdentifier: function() { return /* binding */ o; },
/* harmony export */   ShadowMapPassParameters: function() { return /* binding */ l; },
/* harmony export */   ViewshedShadowMapPassParameters: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderLibrary/attributes/VertexNormal.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e extends _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__.VertexNormalPassParameters{constructor(){super(...arguments),this.slicePlaneLocalOrigin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.origin=this.slicePlaneLocalOrigin,this.modelTransformation=null}}class a extends _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__.VertexNormalDrawParameters{}var o;!function(s){s[s.Material=0]="Material",s[s.ShadowMap=1]="ShadowMap",s[s.Highlight=2]="Highlight",s[s.ViewshedShadowMap=3]="ViewshedShadowMap"}(o||(o={}));class h extends e{constructor(){super(...arguments),this.identifier=o.Material,this.output=_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color,this.transparent=!1}}class l extends e{constructor(){super(...arguments),this.identifier=o.ShadowMap}}class n extends e{constructor(){super(...arguments),this.identifier=o.Highlight}}class c extends e{constructor(){super(...arguments),this.identifier=o.ViewshedShadowMap}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js ***!
  \*********************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightCellGridScreenSpacePass: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _shaderModules_Integer2PassUniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shaderModules/Integer2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2PassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../chunks/HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function o(o){const{vertex:c}=o;c.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Texture2DPassUniform("coverageTexture",(e=>e.coverageTexture)),new _shaderModules_Integer2PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.Integer2PassUniform("highlightRenderCellCount",(e=>[e.horizontalCellCount,e.verticalCellCount])),new _shaderModules_Integer2PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.Integer2PassUniform("highlightTextureResolution",(e=>[e.highlightTexture.descriptor.width,e.highlightTexture.descriptor.height]))),c.constants.add("cellSize","int",_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_3__.g),o.varyings.add("sUV","vec2"),o.varyings.add("vOutlinePossible","float"),c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl)`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`),c.main.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl)`int cellIndex = gl_InstanceID;
int cellX = cellIndex % highlightRenderCellCount[0];
int cellY = (cellIndex - cellX) / highlightRenderCellCount[0];
ivec2 cellPos = ivec2(cellX, cellY);
vec4 cov = texelFetch(coverageTexture, cellPos, 0);
if (cov.r == 0.0) {
gl_Position = vec4(0.0);
return;
}
vOutlinePossible = cov.g;
ivec2 iPosInCell = cellVertices[gl_VertexID];
vec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));
vec2 vPos = sPos / vec2(highlightTextureResolution);
sUV = vPos;
gl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightReadBitmap: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(t){const{fragment:i}=t;i.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`uint readChannelBits(uint channel, int highlightLevel) {
int llc = (highlightLevel & 3) << 1;
return (channel >> llc) & 3u;
}
uint readChannel(vec2 texel, int highlightLevel) {
int lic = (highlightLevel >> 2) & 1;
return uint(texel[lic] * 255.0);
}
uint readLevelBits(vec2 texel, int highlightLevel) {
return readChannelBits(readChannel(texel, highlightLevel), highlightLevel);
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FoamColor: function() { return /* binding */ n; },
/* harmony export */   FoamIntensity: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function o(o){o.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`float normals2FoamIntensity(vec3 n, float waveStrength){
float normalizationFactor =  max(0.015, waveStrength);
return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);
}`)}function n(o){o.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){
return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Gamma: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e){e.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`const float GAMMA = 2.2;
const float INV_GAMMA = 0.4545454545;
vec4 delinearizeGamma(vec4 color) {
return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);
}
vec3 linearizeGamma(vec3 color) {
return pow(color, vec3(GAMMA));
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js ***!
  \*******************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScreenSpaceReflections: function() { return /* binding */ d; }
/* harmony export */ });
/* harmony import */ var _output_ReadDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../output/ReadDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js");
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function d(d,n){if(!n.screenSpaceReflections)return;const c=d.fragment;c.include(_output_ReadDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ReadDepth),c.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float2PassUniform("nearFar",((e,o)=>o.camera.nearFar)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("depthMap",((e,o)=>o.depth?.attachment)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.Matrix4PassUniform("proj",((e,o)=>o.camera.projectionMatrix)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("invResolutionHeight",((e,o)=>1/o.camera.height)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.Matrix4PassUniform("reprojectionMatrix",((e,o)=>o.ssr.reprojectionMatrix))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`
  vec2 reprojectionCoordinate(vec3 projectionCoordinate)
  {
    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);
    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);
    reprojectedCoord.xy /= reprojectedCoord.w;
    return reprojectedCoord.xy * 0.5 + 0.5;
  }

  const int maxSteps = ${n.highStepCount?"150":"75"};

  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)
  {
    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);
    projectedCoord.xy /= projectedCoord.w;
    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;
    return projectedCoord;
  }

  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)
  {
    vec3 viewPos = startPosition;
    vec3 viewPosEnd = startPosition;

    // Project the start position to the screen
    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);
    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space
    float k0 = 1.0/ projectedCoordStart.w;

    // advance the position in the direction of the reflection
    viewPos += dir;

    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);

    // Project the advanced position to the screen
    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);
    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space
    float k1 = 1.0/ projectedCoordEnd.w;

    // calculate the reflection direction in the screen space
    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);
    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);

    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);

    float projectedCoordDirLength = length(projectedCoordDir);
    float maxSt = float(maxSteps);

    // normalize the projection direction depending on maximum steps
    // this determines how blocky the reflection looks
    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);

    // Normalize the homogeneous camera space coordinates
    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);
    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);

    // initialize the variables for ray marching
    vec2 P = projectedCoordStart.xy;
    vec3 Q = Q0;
    float k = k0;
    float rayStartZ = -startPosition.z; // estimated ray start depth value
    float rayEndZ = -startPosition.z;   // estimated ray end depth value
    float prevEstimateZ = -startPosition.z;
    float rayDiffZ = 0.0;
    float dDepth;
    float depth;
    float rayDiffZOld = 0.0;

    // early outs
    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)
      return vec3(P, 0.0);

    for(int i = 0; i < maxSteps-1; i++)
    {
      depth = -linearDepthFromTexture(depthMap, P); // get linear depth from the depth buffer

      // estimate depth of the marching ray
      rayStartZ = prevEstimateZ;
      dDepth = -rayStartZ - depth;
      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));
      rayDiffZ = rayEndZ- rayStartZ;
      prevEstimateZ = rayEndZ;

      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )
      {
        return vec3(P, 0.);
      }

      // If we detect a hit - return the intersection point, two conditions:
      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth
      //  - if difference between dDepth and rayDiffZOld is not too large
      //  - if difference between dDepth and 0.025/abs(k) is not too large
      //  - if the sampled depth is not behind far plane or in front of near plane

      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)
      {
        return vec3(P, depth);
      }

      // continue with ray marching
      P = clamp(P + dP, vec2(0.0), vec2(0.999));
      Q.z += dQ.z;
      k += dk;
      rayDiffZOld = rayDiffZ;
    }
    return vec3(P, 0.0);
  }
  `)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Water: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FoamRendering.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js");
/* harmony import */ var _Gamma_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Gamma.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js");
/* harmony import */ var _PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PhysicallyBasedRendering.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js");
/* harmony import */ var _ScreenSpaceConstants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ScreenSpaceConstants.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceConstants.js");
/* harmony import */ var _ScreenSpaceReflections_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ScreenSpaceReflections.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js");
/* harmony import */ var _util_CloudsParallaxShading_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/CloudsParallaxShading.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _shaders_ToneMapping_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shaders/ToneMapping.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function m(m,v){m.include(_PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_2__.PhysicallyBasedRenderingWater,v),m.include(_Gamma_glsl_js__WEBPACK_IMPORTED_MODULE_1__.Gamma),m.include(_FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_0__.FoamColor),v.cloudReflections&&m.include(_util_CloudsParallaxShading_glsl_js__WEBPACK_IMPORTED_MODULE_5__.CloudsParallaxShading),m.include(_ScreenSpaceReflections_glsl_js__WEBPACK_IMPORTED_MODULE_4__.ScreenSpaceReflections,v);const u=m.fragment;u.include(_shaders_ToneMapping_glsl_js__WEBPACK_IMPORTED_MODULE_10__.ToneMapping),u.constants.add("fresnelSky","vec3",[.02,1,15]),u.constants.add("fresnelMaterial","vec2",[.02,.1]),u.constants.add("roughness","float",.015),u.constants.add("foamIntensityExternal","float",1.7),u.constants.add("ssrIntensity","float",.65),u.constants.add("ssrHeightFadeStart","float",_ScreenSpaceConstants_js__WEBPACK_IMPORTED_MODULE_3__.distanceFadeStart),u.constants.add("ssrHeightFadeEnd","float",_ScreenSpaceConstants_js__WEBPACK_IMPORTED_MODULE_3__.distanceFadeEnd),u.constants.add("waterDiffusion","float",.92),u.constants.add("waterSeaColorMod","float",.8),u.constants.add("correctionViewingPowerFactor","float",.4),u.constants.add("skyZenitColor","vec3",[.52,.68,.9]),u.constants.add("skyColor","vec3",[.67,.79,.9]),u.constants.add("cloudFresnelModifier","vec2",[1.2,.01]),u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`PBRShadingWater shadingInfo;
vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {
float exponent = pow((1.0 - cosTheta), fresnelSky[2]);
return mix(zenit, horizon, exponent);
}`),u.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("lightingSpecularStrength",((e,o)=>o.lighting.mainLight.specularStrength)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("lightingEnvironmentStrength",((e,o)=>o.lighting.mainLight.environmentStrength))),u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {
float reflectionHit = 0.0;
float reflectionHitDiffused = 0.0;
vec3 seaWaterColor = linearizeGamma(color);
vec3 h = normalize(l + v);
shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);
shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);
shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);
shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);
shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);
float upDotV = max(dot(localUp,v), 0.0);
vec3 skyHorizon = linearizeGamma(skyColor);
vec3 skyZenit = linearizeGamma(skyZenitColor);
vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );
float upDotL = max(dot(localUp,l),0.0);
float daytimeMod = 0.1 + upDotL * 0.9;
skyColor *= daytimeMod;
float shadowModifier = clamp(shadow, 0.8, 1.0);
vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);
vec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;
vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;
vec3 specular = vec3(0.0);
if(upDotV > 0.0 && upDotL > 0.0) {
vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);
vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;
float NdotL = clamp(dot(n, l), 0.0, 1.0);
specular = lightingSpecularStrength * NdotL * incidentLight * specularSun;
}
vec3 foam = vec3(0.0);
if(upDotV > 0.0) {
foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);
}
float correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);
vec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);
vec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`),v.cloudReflections&&u.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("cloudsOpacity",((e,o)=>o.clouds.opacity))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`vec4 cloudsColor = renderClouds(reflectedWorld, position);
cloudsColor.a = 1.0 - cloudsColor.a;
cloudsColor = pow(cloudsColor, vec4(GAMMA));
cloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * cloudsOpacity;`),v.screenSpaceReflections?u.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__.Matrix4PassUniform("view",((e,o)=>o.camera.viewMatrix)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("lastFrameColorTexture",((e,o)=>o.ssr.lastFrameColor?.getTexture())),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("fadeFactorSSR",((e,o)=>o.ssr.fadeFactor))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`vec3 viewDir = normalize(viewPosition);
vec4 viewNormalVectorCoordinate = view * vec4(n, 0.0);
vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);
vec4 viewUp = view * vec4(localUp, 0.0);
vec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);
vec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));
vec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);
vec3 reflectedColor = vec3(0.0);
if (hitCoordinate.z > 0.0)
{
vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);
vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));
float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);
reflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;
reflectionHitDiffused = waterDiffusion * reflectionHit;
reflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *
reflectionHitDiffused * fresnelModifier.y * ssrIntensity;
}
float seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);
vec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +
reflSea * seaColorMod + specular + foam);`):u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`),v.cloudReflections?v.screenSpaceReflections?u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;
}`):u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;
}`):u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`return waterRenderedColor;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayIM: function() { return /* binding */ C; },
/* harmony export */   OverlayMode: function() { return /* binding */ f; },
/* harmony export */   OverlayTerrain: function() { return /* binding */ g; },
/* harmony export */   getIMColorTexture: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../terrain/interfaces.js */ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js");
/* harmony import */ var _terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../terrain/OverlayContent.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js");
/* harmony import */ var _renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../renderPasses/AllRenderPasses.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js");
/* harmony import */ var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shading/MainLighting.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js");
/* harmony import */ var _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shading/PhysicallyBasedRenderingParameters.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js");
/* harmony import */ var _shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../shading/Water.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js");
/* harmony import */ var _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/Float4DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _shaderModules_Uniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../shaderModules/Uniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var f;function C(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4DrawUniform("overlayTexOffset",((e,o)=>T(e,o))),new _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4DrawUniform("overlayTexScale",((e,o)=>V(e,o)))),t.constants.add("overlayOpacity","float",1),t.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Texture2DPassUniform("ovColorTex",((e,o)=>h(e,o)))),O(e,o)}function g(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new I("overlayTexOffset"),new I("overlayTexScale")),t.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.FloatPassUniform("overlayOpacity",(e=>e.overlayOpacity)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Texture2DPassUniform("ovColorTex",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),O(e,o)}function O(e,o){const r=o.pbrMode===_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.Water||o.pbrMode===_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.WaterOnIntegratedMesh||o.pbrMode===_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.TerrainWithWater;r&&e.include(_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_8__.Water,o);const{vertex:t,fragment:a}=e;e.varyings.add("vtcOverlay","vec4"),t.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`void setOverlayVTC(in vec2 uv) {
vtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;
}`),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`bool isValid(vec2 uv, vec2 dxdy) {
return (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);
}
vec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {
vec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));
vec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));
bool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));
bool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));
return mix(color1 * float(isValid1), color0, float(isValid0));
}`),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec4 getCombinedOverlayColor() {
return overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);
}`),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec4 getOverlayColorTexel(vec4 texCoords) {
vec2 texDim =  vec2(textureSize(ovColorTex, 0));
vec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);
vec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);
bool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));
bool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));
return mix(color1 * float(isValid1), color0, float(isValid0));
}`),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec2 getAllOverlayHighlightValuesEncoded() {
vec4 texCoords = vtcOverlay;
vec2 uvInner = texCoords.xy;
vec2 uvOuter = texCoords.zw;
bool isValidInner = isValid(uvInner, fwidth(uvInner));
bool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));
vec2 texelCoordInner = vec2(uvInner.x * 0.5,       uvInner.y);
vec2 texelCoordOuter = vec2(uvOuter.x * 0.5 + 0.5, uvOuter.y);
vec2 texDim =  vec2(textureSize(ovColorTex, 0));
vec2 texelValueInner = texelFetch(ovColorTex, ivec2(texelCoordInner * texDim), 0).rg;
vec2 texelValueOuter = texelFetch(ovColorTex, ivec2(texelCoordOuter * texDim), 0).rg;
return
isValidInner ? texelValueInner :
isValidOuter ? texelValueOuter :
vec2(0.0);
}`),r&&((0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addMainLightDirection)(a),(0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addMainLightIntensity)(a),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,
float shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {
vec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));
vec3 v = vposEyeDir;
vec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);
return vec4(final, colorInput.w);
}`))}function h(e,o){return e.identifier===_renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Material&&e.output===_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Color?o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.ColorNoRasterImage):e.identifier===_renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Material&&e.output===_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ObjectAndLayerIdColor?o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.ObjectAndLayerIdColor):e.identifier===_renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Highlight?o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.Highlight):null}function T(e,l){const i=l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.INNER]?.extent;(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(i)&&(b[0]=e.toMapSpace[0]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i)-i[0]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i),b[1]=e.toMapSpace[1]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i)-i[1]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i));const n=l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.OUTER]?.extent;return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(n)&&(b[2]=e.toMapSpace[0]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(n)-n[0]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(n),b[3]=e.toMapSpace[1]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(n)-n[1]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(n)),b}function V(e,l){const i=l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.INNER]?.extent;(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(i)&&(b[0]=e.toMapSpace[2]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i),b[1]=e.toMapSpace[3]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i));const n=l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.OUTER]?.extent;return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(n)&&(b[2]=e.toMapSpace[2]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(n),b[3]=e.toMapSpace[3]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(n)),b}!function(e){e[e.Disabled=0]="Disabled",e[e.Enabled=1]="Enabled",e[e.EnabledWithWater=2]="EnabledWithWater",e[e.COUNT=3]="COUNT"}(f||(f={}));const b=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();class I extends _shaderModules_Uniform_js__WEBPACK_IMPORTED_MODULE_13__.Uniform{constructor(e){super(e,"vec4")}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js ***!
  \***************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloudsParallaxShading: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _environment_Clouds_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../environment/Clouds.js */ "./node_modules/@arcgis/core/views/3d/environment/Clouds.js");
/* harmony import */ var _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../environment/CloudsParameters.js */ "./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js");
/* harmony import */ var _environment_weather_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../environment/weather.js */ "./node_modules/@arcgis/core/views/3d/environment/weather.js");
/* harmony import */ var _shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shading/MainLighting.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js");
/* harmony import */ var _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/BooleanPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/BooleanPassUniform.js");
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _shaderModules_TextureCubePassUniform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../shaderModules/TextureCubePassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function h(t){const r=t.fragment;r.constants.add("radiusCloudsSquared","float",C).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {
float B = 2.0 * dot(cameraPosition, dir);
float C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;
float det = B * B - 4.0 * C;
float pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));
return (cameraPosition + dir * pointIntDist) - spherePos;
}`),r.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("radiusCurvatureCorrection",((o,t)=>t.clouds.parallax.radiusCurvatureCorrection))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec3 correctForPlanetCurvature(vec3 dir) {
dir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;
return dir;
}`),r.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {
return (rotMat * vec4(inVec, 0.0)).xyz;
}`),(0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__.addMainLightDirection)(r),(0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__.addMainLightIntensity)(r);const h=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(.28,.175,.035);r.constants.add("RIM_COLOR","vec3",h);const v=.3,f=140,p=.2,g=10,w=.3;r.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`
    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {
      float upDotLight = dot(cameraPosition, mainLightDirection);
      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);
      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(v)}), 0.0, 1.0);

      // Base color of the clouds that depends on lighting of the sun and sky
      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);
      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));
      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));

      // Rim light around the edge of the clouds simulating scattering of the direct lun light
      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);
      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);
      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(f)})) * scatteringMod;

      // Brighten the clouds around the sun at the sunsets
      float additionalLight = ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(p)} * pow(dirDotLight, ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(g)}) * (1. - pow(sunsetTransition, ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(w)})) ;

      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);
    }
  `),r.uniforms.add(new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.BooleanPassUniform("readChannelsRG",((o,t)=>t.clouds.readChannels===_environment_Clouds_js__WEBPACK_IMPORTED_MODULE_2__.CloudsTextureChannels.RG)),new _shaderModules_TextureCubePassUniform_js__WEBPACK_IMPORTED_MODULE_11__.TextureCubePassUniform("cubeMap",((o,t)=>t.clouds.data?.cubeMap?.colorTexture??null))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {
vec4 s = texture(cubeMap, rayDir);
bool readRG = readChannelsRG ^^ readOtherChannel;
s = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);
return length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;
}`),r.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("anchorPoint",((o,t)=>t.clouds.parallax.anchorPoint)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("anchorPointNew",((o,t)=>t.clouds.parallaxNew.anchorPoint)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Matrix4PassUniform("rotationClouds",((o,t)=>t.clouds.parallax.transform)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Matrix4PassUniform("rotationCloudsNew",((o,t)=>t.clouds.parallaxNew.transform)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("cloudsOpacity",((o,t)=>t.clouds.opacity)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("fadeFactor",((o,t)=>t.clouds.fadeFactor)),new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.BooleanPassUniform("crossFade",((o,t)=>t.clouds.fadeState===_environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_3__.FadeState.CROSS_FADE))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {
vec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);
vec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));
vec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
vec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);
vec3 cameraPositionN = normalize(cameraPosition);
vec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);
if(crossFade) {
intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);
worldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));
worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
cloudData = sampleCloud(worldRayRotatedCorrected, false);
vec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);
cloudColor = mix(cloudColor, cloudColorNew, fadeFactor);
}
float totalTransmittance = length(cloudColor.rgb) == 0.0 ?
1.0 :
clamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);
return vec4(cloudColor.rgb, totalTransmittance);
}`)}const C=(_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_1__.earth.radius+_environment_weather_js__WEBPACK_IMPORTED_MODULE_4__.cloudsHeight)**2;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureCubePassUniform: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Uniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js");
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderTechnique/BindType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.Uniform{constructor(e,s){super(e,"samplerCube",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.BindType.Pass,((r,o,t)=>r.bindTexture(e,s(o,t))))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Highlight: function() { return /* binding */ G; },
/* harmony export */   renderHighlightBuffer: function() { return /* binding */ W; },
/* harmony export */   trackHighlightOptions: function() { return /* binding */ F; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _webgl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl.js */ "./node_modules/@arcgis/core/views/3d/webgl.js");
/* harmony import */ var _webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/formats.js */ "./node_modules/@arcgis/core/views/3d/webgl/formats.js");
/* harmony import */ var _webgl_RenderNode_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/RenderNode.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderNode.js");
/* harmony import */ var _HighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./HighlightApplyTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js");
/* harmony import */ var _HighlightDownsampleTechnique_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./HighlightDownsampleTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js");
/* harmony import */ var _HighlightPassParameters_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./HighlightPassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js");
/* harmony import */ var _HighlightToSingleTechnique_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./HighlightToSingleTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js");
/* harmony import */ var _SingleHighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./SingleHighlightApplyTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js");
/* harmony import */ var _SingleHighlightBlurTechnique_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./SingleHighlightBlurTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_DefaultVertexBufferLayouts_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../lib/DefaultVertexBufferLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js");
/* harmony import */ var _lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../lib/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js");
/* harmony import */ var _chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../chunks/HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js");
/* harmony import */ var _chunks_SingleHighlightBlur_glsl_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../chunks/SingleHighlightBlur.glsl.js */ "./node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let G=class extends _webgl_RenderNode_js__WEBPACK_IMPORTED_MODULE_12__["default"]{constructor(e){super(e),this.produces=_webgl_js__WEBPACK_IMPORTED_MODULE_10__.InternalRenderCategory.HIGHLIGHTS,this.consumes={required:[_webgl_js__WEBPACK_IMPORTED_MODULE_10__.InternalRenderCategory.HIGHLIGHTS,"highlights"]},this.useMultipleHighlights=!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:multiple-highlights"),this._optionsTexture=null,this._downsampleDrawParameters=new _chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.H,this._passParameters=new _HighlightPassParameters_js__WEBPACK_IMPORTED_MODULE_15__.HighlightPassParameters,this._singleHighlightBlurDrawParameters=new _chunks_SingleHighlightBlur_glsl_js__WEBPACK_IMPORTED_MODULE_24__.S,this._grid=new L,e.techniques.precompile(_HighlightDownsampleTechnique_js__WEBPACK_IMPORTED_MODULE_14__.HighlightDownsampleTechnique),this.useMultipleHighlights?e.techniques.precompile(_HighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_13__.HighlightApplyTechnique):(e.techniques.precompile(_HighlightToSingleTechnique_js__WEBPACK_IMPORTED_MODULE_16__.HighlightToSingleTechnique),e.techniques.precompile(_SingleHighlightBlurTechnique_js__WEBPACK_IMPORTED_MODULE_18__.SingleHighlightBlurTechnique),e.techniques.precompile(_SingleHighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_17__.SingleHighlightApplyTechnique))}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>F(this.view.highlights)),(()=>{this._optionsTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._optionsTexture),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.RenderRequestType.UPDATE)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)])}destroy(){this._passParameters&&(this._passParameters.highlightOptionsTexture=null),this._grid.coverage=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._grid.coverage),this._grid.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._grid.vao),this._optionsTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._optionsTexture)}_updateOptionsTexture(e){const t=this.renderingContext;let i=this._optionsTexture;if(null==i){const e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_29__.TextureDescriptor(16,2);e.internalFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.PixelFormat.RGBA,e.samplingMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.TextureSamplingMode.NEAREST,i=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_28__.Texture(t,e,null),this._optionsTexture=i}i.setData(e),this._passParameters.highlightOptionsTexture=i}render(e){const t=e.find((({name:e})=>e===_webgl_js__WEBPACK_IMPORTED_MODULE_10__.InternalRenderCategory.HIGHLIGHTS)),{techniques:i,bindParameters:r,_passParameters:s,renderingContext:o}=this;if(!r.decorations)return t;const l=i.acquire(_HighlightDownsampleTechnique_js__WEBPACK_IMPORTED_MODULE_14__.HighlightDownsampleTechnique);if(!l.compiled)return l.release(),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.RenderRequestType.UPDATE),t;const n=e.find((({name:e})=>"highlights"===e)).getTexture(),h=()=>{const{highlights:e}=this.view;this._optionsTexture||this._updateOptionsTexture(E(e)),s.highlightOptionsTexture=this._optionsTexture,this._gridUpdateResources(n);const t=this._gridComputeCoverage(l,n,r);l.release();const{horizontalCellCount:i,verticalCellCount:o}=t;return s.horizontalCellCount=i,s.verticalCellCount=o,s.coverageTexture=t.coverage?.getTexture(),t},c=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.PrimitiveType.TRIANGLES,6,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.DataType.UNSIGNED_BYTE,0,t)},{camera:u}=r,g=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(u.fullViewport)};return this.useMultipleHighlights?this._renderMultiple(n,h,c,g):this._renderSingle(n,h,c,g),s.highlightTexture=null,s.coverageTexture=null,t}_renderMultiple(e,t,i,r){const{techniques:s,bindParameters:o,_passParameters:l,renderingContext:n}=this,h=s.acquire(_HighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_13__.HighlightApplyTechnique);if(!h.compiled)return h.release(),void this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.RenderRequestType.UPDATE);const a=t();l.highlightTexture=e,l.pixelRatio=o.camera.pixelRatio,l.maxHighlightLevel=k(this.view.highlights)-1,n.bindTechnique(h,o,l),r(),i(a),h.release()}_renderSingle(e,t,i,r){const{fboCache:s,techniques:o,bindParameters:l,_passParameters:h,renderingContext:a}=this,u=o.acquire(_HighlightToSingleTechnique_js__WEBPACK_IMPORTED_MODULE_16__.HighlightToSingleTechnique),g=o.acquire(_SingleHighlightBlurTechnique_js__WEBPACK_IMPORTED_MODULE_18__.SingleHighlightBlurTechnique),p=o.acquire(_SingleHighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_17__.SingleHighlightApplyTechnique);if(!p.compiled||!g.compiled||!u.compiled)return p.release(),g.release(),u.release(),void this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.RenderRequestType.UPDATE);const m=t(),{width:x,height:w}=e.descriptor;h.maxHighlightLevel=k(this.view.highlights)-1,h.highlightTexture=e;const{camera:_}=l,{fullWidth:v,fullHeight:C,pixelRatio:q}=_,H=Math.ceil(v/q),j=Math.ceil(C/q),{_singleHighlightBlurDrawParameters:y}=this;for(let d=0;d<=h.maxHighlightLevel;++d){h.highlightLevel=d,a.setClearColor(0,0,0,0);const e=s.acquire(x,w,"single highlight",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__.ColorFormat.RG);a.bindFramebuffer(e.fbo),a.setViewport(0,0,x,w),a.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.FramebufferBit.COLOR),a.bindTechnique(u,l,h),i(m),y.blurInput=e.getTexture(),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__.set)(y.blurSize,1/H,0);const t=s.acquire(H,j,"single highlight blur h",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__.ColorFormat.RG);a.unbindTexture(t.fbo?.colorTexture),a.bindFramebuffer(t.fbo),a.setViewport(0,0,H,j),a.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.FramebufferBit.COLOR),y.blurInput=e.getTexture(),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__.set)(y.blurSize,1/H,0),a.bindTechnique(g,l,h,y),i(m),e.release(),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__.set)(y.blurSize,0,1/j),h.singleHighlightBlurTexture=t.getTexture(),r(),a.bindTechnique(p,l,h,y),i(m),t.release()}u.release(),g.release(),p.release()}_gridUpdateResources(e){const t=this.renderingContext,i=this._grid,{width:r,height:s}=e.descriptor;if(i.horizontalCellCount=Math.ceil(r/_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.g),i.verticalCellCount=Math.ceil(s/_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.g),i.vao)return;const o=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_26__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.Usage.STATIC_DRAW,N);i.vao=new _lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_22__.VertexArrayObject(t,_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_20__.Default3D,new Map([["geometry",_lib_DefaultVertexBufferLayouts_js__WEBPACK_IMPORTED_MODULE_21__.NoVertex]]),new Map([["geometry",_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_26__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.Usage.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,i){const r=this.renderingContext,s=this._grid,o=t.descriptor,l=Math.ceil(o.width/_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.g),n=Math.ceil(o.height/_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.g);this._downsampleDrawParameters.input=t,s.coverage?.release();const h=this.fboCache.acquire(l,n,"highlight coverage",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__.ColorFormat.RG);return s.coverage=h,r.bindFramebuffer(h.fbo),r.bindTechnique(e,i,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,l,n),r.screen.draw(),s}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],G.prototype,"produces",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],G.prototype,"consumes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],G.prototype,"techniques",void 0),G=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.webgl-engine.effects.highlight.Highlight")],G);class L{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function E(e){const t=new Uint8Array(128),i=(e,i)=>{t[e]=i},r=(e,t)=>{const r=4*e,s=4*e+64,{color:o}=t,l=t.haloColor??o;i(r+0,o.r),i(r+1,o.g),i(r+2,o.b),i(r+3,t.fillOpacity*o.a*255),i(s+0,l.r),i(s+1,l.g),i(s+2,l.b),i(s+3,t.haloOpacity*l.a*255)};return V(e,((e,t)=>{r(t,e.options)})),t}const z=new Array(_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights),U=new Array(_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights);function V(e,t){const i=Math.min(e.length,_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights);let r=_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights;for(let o=i-1;o>=0;--o){const t=e.at(o);if(t){const e=t.name;z.includes(e,r)||(--r,z[r]=e,U[r]=o)}}const s=_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights-r;for(let o=0;o<s;++o){const i=U[_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights-s+o];t(e.at(i),o)}}let B=0;function F(e){let t=0;const i=Math.min(_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights,e.length);for(let r=0;r<i;++r){const i=e.at(r);if(i){const{name:e,options:r}=i;t+=e.length;const{color:s,fillOpacity:o,haloColor:l,haloOpacity:n}=r;t+=s.r+(l?.r??1)+o+n}}{const i=e.at(0);if(i){const{shadowOpacity:e,shadowDifference:r,shadowColor:s}=i.options;t+=e+r+s.r}}return B+++(t>=0?0:1)}const N=new Uint8Array([0,1,2,2,1,3]);function W(e,t,i,r,s,o,l=0,a){const{highlightGroupIndices:u}=s;u.clear();const g=[];V(r,(e=>{const{name:t}=e;u.set(t,g.length),g.push(t)}));const p=u.size,{gl:m}=e;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__.set)(s.highlightMixOrigin,l,0);let d=null;p>1&&(d=t.acquire(i.width,i.height,"highlight mix",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__.ColorFormat.RG),e.bindFramebuffer(d.fbo),e.clearFramebuffer(_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.ZEROS));const f=d?.getTexture()??null;s.highlightMixTexture=f,a();for(let n=0;n<p;++n)n>0&&(e.bindTexture(f,0),m.copyTexSubImage2D(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.TextureType.TEXTURE_2D,0,0,0,l,0,i.width,i.height),e.bindTexture(null,0)),e.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.FramebufferBit.DEPTH),s.highlightLevel=n,s.highlightGroupName=g[n],o();d?.release()}function k(e){const t=new Set;for(let i=0;i<_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights;++i){const r=e.at(i)?.name;r&&t.add(r)}return t.size}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightApplyTechnique: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_HighlightApply_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/HighlightApply.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightApply.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,o,s){super(r,o,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_HighlightApply_glsl_js__WEBPACK_IMPORTED_MODULE_2__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_HighlightApply_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/HighlightApply.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HighlightApply.glsl.js")))),s)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.premultipliedAlphaToPremultipliedAlpha,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightDownsampleTechnique: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class l extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,s,i){super(r,s,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_HighlightDownsample_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HighlightDownsample.glsl.js")))),i)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightPassParameters: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.NoParameters{constructor(){super(...arguments),this.occludedFactor=_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_1__.defaultOccludedFactor,this.maxHighlightLevel=1,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightToSingleTechnique: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_HighlightToSingle_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/HighlightToSingle.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class l extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,o,s){super(r,o,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_HighlightToSingle_glsl_js__WEBPACK_IMPORTED_MODULE_2__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_HighlightToSingle_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/HighlightToSingle.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HighlightToSingle.glsl.js")))),s)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SingleHighlightApplyTechnique: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_SingleHighlightApply_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/SingleHighlightApply.glsl.js */ "./node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,l,o){super(r,l,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_SingleHighlightApply_glsl_js__WEBPACK_IMPORTED_MODULE_2__.S,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_SingleHighlightApply_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/SingleHighlightApply.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SingleHighlightApply.glsl.js")))),o)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.premultipliedAlphaToPremultipliedAlpha,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SingleHighlightBlurTechnique: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_SingleHighlightBlur_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/SingleHighlightBlur.glsl.js */ "./node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,l,o){super(r,l,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_SingleHighlightBlur_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_SingleHighlightBlur_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/SingleHighlightBlur.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SingleHighlightBlur.glsl.js")))),o)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BindParameters: function() { return /* binding */ l; },
/* harmony export */   ViewportSize: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environment/CloudsParameters.js */ "./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/* harmony import */ var _core_shaderLibrary_hud_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/hud/HUDRenderStyle.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDRenderStyle.js");
/* harmony import */ var _OITPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _Update_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Update.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js");
/* harmony import */ var _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lighting/SceneLighting.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{constructor(i,t){this.width=i,this.height=t}}class l{constructor(i){this.shadowMap=i,this.slot=_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=_OITPass_js__WEBPACK_IMPORTED_MODULE_5__.OITPass.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._inverseViewport=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this._oldLighting=new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_8__.SceneLighting,this._newLighting=new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_8__.SceneLighting,this._fadedLighting=new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_8__.SceneLighting,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlightMixTexture=null,this.highlightGroupName=null,this.highlightGroupIndices=new Map,this.highlightLevel=0,this.highlightMixOrigin=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this.hudRenderStyle=_core_shaderLibrary_hud_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_4__.HUDRenderStyle.Occluded,this.clouds=new _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_2__.CloudsParameters,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,e,h){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=e,this._newLighting.set(i),h===_Update_js__WEBPACK_IMPORTED_MODULE_7__.Update.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CascadeCamera: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let i=class extends _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(){super(...arguments),this._projectionMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)()}get projectionMatrix(){return this._projectionMatrix}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],i.prototype,"_projectionMatrix",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],i.prototype,"projectionMatrix",null),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.webgl-engine.lib.CascadeCamera")],i);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NoVertex: function() { return /* binding */ O; },
/* harmony export */   Pos2: function() { return /* binding */ m; },
/* harmony export */   Pos2Tex: function() { return /* binding */ n; },
/* harmony export */   Pos3: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const O=[],o=[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION,3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT,0,12)],m=[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION,2,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT,0,8)],n=[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION,2,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT,0,16),new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.UV0,2,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT,8,16)];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLMaterialRepository: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/NestedMap.js */ "./node_modules/@arcgis/core/core/NestedMap.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_2__.NestedMap}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const i=e.produces.get(t);if(!i?.(r))return null;let s=this._id2glMaterialRef.get(r,e.id);if(null==s){const t=e.createGLMaterial({material:e,techniques:this._techniques,textures:this._textures,output:r});s=new a(t),this._id2glMaterialRef.set(r,e.id,s)}return s.ref(),s.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.webgl-engine.lib.GLMaterialRepository").error("Material is already owned by a different material repository"),t.repository=this}}class a{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,(0,_Util_js__WEBPACK_IMPORTED_MODULE_3__.assert)(this._refCnt>=0)}get referenced(){return this._refCnt>0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayRenderContext: function() { return /* binding */ a; },
/* harmony export */   RenderContext: function() { return /* binding */ n; },
/* harmony export */   defaultRenderOccludedMask: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _BindParameters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BindParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js");
/* harmony import */ var _Material_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{constructor(r,i){this.rctx=r,this.lastFrameCamera=new _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color,this.renderOccludedMask=o,this.bind=new _BindParameters_js__WEBPACK_IMPORTED_MODULE_3__.BindParameters(i),this.bind.alignPixelEnabled=!0}}class n extends a{constructor(e,t,s){super(e,t),this.techniques=s,this.time=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_0__.Milliseconds)(0)}}const o=_Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.Occlude|_Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.OccludeAndTransparent|_Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.OccludeAndTransparentStencil;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderGeometry: function() { return /* binding */ g; },
/* harmony export */   ValidatedRenderGeometry: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/mathUtils.js */ "./node_modules/@arcgis/core/views/3d/support/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this._shaderTransformation=null,this._boundingSphere=null,this.id=(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__.generateUID)(),this.layerUid=i.layerUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.copy)(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.multiply)(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.c)(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.a)(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*(0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.maxScale)(this.shaderTransformation)),this._boundingSphere):_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.N}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightGroup(t){this.geometry.foreachHighlightGroup(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ShadowMap: function() { return /* binding */ X; },
/* harmony export */   SnapshotSlot: function() { return /* binding */ P; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _webgl_formats_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl/formats.js */ "./node_modules/@arcgis/core/views/3d/webgl/formats.js");
/* harmony import */ var _CascadeCamera_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CascadeCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js");
/* harmony import */ var _textureUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./textureUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var P;!function(t){t[t.Highlight=0]="Highlight",t[t.ExcludeHighlight=1]="ExcludeHighlight"}(P||(P={}));class q{constructor(){this.camera=new _CascadeCamera_js__WEBPACK_IMPORTED_MODULE_14__.CascadeCamera,this.lightMat=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)()}}class G{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class X{constructor(t,s){this._fbos=t,this._viewingMode=s,this._enabled=!1,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new G,this._projectionView=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),this._projectionViewInverse=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),this._modelViewLight=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)(),this._cascades=[new q,new q,new q,new q],this._lastOrigin=null,this._maxTextureWidth=Math.min((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture()}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return (0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.s)(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeOffscreenBuffers(){this._handle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._handle),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)it[t]=this._cascades[t];return it.length=this._numCascades,it}start(t,s,e,i,a){(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled);const{near:r,far:h}=Tt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled),this._handle?.detachDepth()}getShadowMapMatrices(t){if(!this._lastOrigin||!(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.p)(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.c)(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.translate)(at,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)rt[16*s+t]=at[t]}}return rt}moveSnapshot(t){(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled),this._handle?.detachDepth(),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle=null,this.clear()}copySnapshot(t){const s=this._handle?.getTexture()?.descriptor;if(!this.enabled||!s)return;this._snapshots[t]?.release();const{width:e,height:i}=s,a=t===P.Highlight?"shadow highlight snapshot":"shadow no highlight snapshot";this._snapshots[t]=this._fbos.acquire(e,i,a,_webgl_formats_js__WEBPACK_IMPORTED_MODULE_13__.ColorFormat.RGBA4);const r=this._fbos.rctx;this._bindFbo();const h=r.bindTexture(this._snapshots[t]?.getTexture(),_webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__.Texture.TEXTURE_UNIT_FOR_UPDATES);r.gl.copyTexSubImage2D(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.TextureType.TEXTURE_2D,0,0,0,0,0,e,i),r.bindTexture(h,_webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__.Texture.TEXTURE_UNIT_FOR_UPDATES)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture():null}clear(){const t=this._fbos.rctx;this._ensureFbo(),this._bindFbo(),t.setClearColor(1,1,1,1),t.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.FramebufferBit.COLOR|_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.FramebufferBit.DEPTH)}_computeTextureHeight(t,s,e){const i=Math.min(window.devicePixelRatio,s)/t.pixelRatio,a=e?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality,r=(0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_15__.applyTextureResizeModulo)(Math.floor(Math.max(t.fullWidth,t.fullHeight)*i*a)),h=Math.min(this._maxTextureWidth,this._numCascades*r);return (0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_15__.applyTextureResizeFloorModulo)(h/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._fbos.acquire(this._textureWidth,this._textureHeight,"shadow map",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_13__.ColorFormat.RGBA4)),this._handle?.acquireDepth(_webgl_formats_js__WEBPACK_IMPORTED_MODULE_13__.DepthFormat.DEPTH16_BUFFER)}_discardSnapshot(t){this._snapshots[t]=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}_bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(c<l);for(let r=0;r<8;++r){(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.s)(J,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=K[r];(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.t)(t,J,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.v)(et,K[0]),a.camera.viewMatrix=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.translate)(k,this._modelViewLight,et);for(let r=0;r<8;++r)(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(K[r],K[r],a.camera.viewMatrix);let d=K[0][2],m=K[0][2];for(let r=1;r<8;++r)d=Math.min(d,K[r][2]),m=Math.max(m,K[r][2]);d-=200,m+=200,a.camera.near=-m,a.camera.far=-d,jt(e,i,d,m,a.camera),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.multiply)(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const u=this._textureHeight;a.camera.viewport=[t*u,0,u,u]}_setupMatrices(t,s){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.multiply)(this._projectionView,t.projectionMatrix,t.viewMatrix),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.invert)(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Global?t.eye:(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.i)(et,0,0,1);(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.lookAt)(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor((0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.logWithBase)(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.lerp)(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const k=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),J=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)(),K=[];for(let yt=0;yt<8;++yt)K.push((0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)());const Y=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),Z=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),$=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),tt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),st=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),et=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),it=[],at=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),rt=_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY.concat(_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY),ht=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),ot=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),nt=[(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)()],ct=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),lt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),dt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),mt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),ut=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),_t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),ft=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)();function gt(t,s,e,i,a,r,h,o){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.set)(ht,0,0);for(let d=0;d<4;++d)(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(ht,ht,t[d]);(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(ht,ht,.25),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.set)(ot,0,0);for(let d=4;d<8;++d)(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(ot,ot,t[d]);(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(ot,ot,.25),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(nt[0],t[4],t[5],.5),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(nt[1],t[5],t[6],.5),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(nt[2],t[6],t[7],.5),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(nt[3],t[7],t[4],.5);let n=0,c=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.squaredDistance)(nt[0],ht);for(let d=1;d<4;++d){const t=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.squaredDistance)(nt[d],ht);t<c&&(c=t,n=d)}(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(ct,nt[n],t[n+4]);const l=ct[0];let M,C;ct[0]=-ct[1],ct[1]=l,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(lt,ot,ht),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(lt,ct)<0&&(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.negate)(ct,ct),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(ct,ct,lt,e),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.normalize)(ct,ct),M=C=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(dt,t[0],ht),ct);for(let d=1;d<8;++d){const s=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(dt,t[d],ht),ct);s<M?M=s:s>C&&(C=s)}(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.copy)(i,ht),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(dt,ct,M-s),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(i,i,dt);let j=-1,T=1,y=0,D=0;for(let d=0;d<8;++d){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(mt,t[d],i),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.normalize)(mt,mt);const s=ct[0]*mt[1]-ct[1]*mt[0];s>0?s>j&&(j=s,y=d):s<T&&(T=s,D=d)}(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(j>0,"leftArea"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(T<0,"rightArea"),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(ut,ct,M),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(ut,ut,ht),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(_t,ct,C),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(_t,_t,ht),ft[0]=-ct[1],ft[1]=ct[0];const H=(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(i,t[D],_t,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(dt,_t,ft),1,a),v=(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(i,t[y],_t,dt,1,r),S=(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(i,t[y],ut,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(dt,ut,ft),1,h),R=(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(i,t[D],ut,dt,1,o);(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(H,"rayRay"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(v,"rayRay"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(S,"rayRay"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(R,"rayRay")}function pt(t,s){return 3*s+t}const xt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)();function bt(t,s){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.set)(xt,t[s],t[s+3]),xt}const wt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),Mt=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)();function Ct(t,s,e,i,a){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(wt,e,i),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(wt,wt,.5),Mt[0]=wt[0],Mt[1]=wt[1],Mt[2]=0,Mt[3]=wt[1],Mt[4]=-wt[0],Mt[5]=0,Mt[6]=wt[0]*wt[0]+wt[1]*wt[1],Mt[7]=wt[0]*wt[1]-wt[1]*wt[0],Mt[8]=1,Mt[pt(0,2)]=-(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,0),t),Mt[pt(1,2)]=-(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),t);let r=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,0),e)+Mt[pt(0,2)],h=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),e)+Mt[pt(1,2)],o=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,0),i)+Mt[pt(0,2)],n=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),i)+Mt[pt(1,2)];r=-(r+o)/(h+n),Mt[pt(0,0)]+=Mt[pt(1,0)]*r,Mt[pt(0,1)]+=Mt[pt(1,1)]*r,Mt[pt(0,2)]+=Mt[pt(1,2)]*r,r=1/((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,0),e)+Mt[pt(0,2)]),h=1/((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),e)+Mt[pt(1,2)]),Mt[pt(0,0)]*=r,Mt[pt(0,1)]*=r,Mt[pt(0,2)]*=r,Mt[pt(1,0)]*=h,Mt[pt(1,1)]*=h,Mt[pt(1,2)]*=h,Mt[pt(2,0)]=Mt[pt(1,0)],Mt[pt(2,1)]=Mt[pt(1,1)],Mt[pt(2,2)]=Mt[pt(1,2)],Mt[pt(1,2)]+=1,r=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),s)+Mt[pt(1,2)],h=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,2),s)+Mt[pt(2,2)],o=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),e)+Mt[pt(1,2)],n=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,2),e)+Mt[pt(2,2)],r=-.5*(r/h+o/n),Mt[pt(1,0)]+=Mt[pt(2,0)]*r,Mt[pt(1,1)]+=Mt[pt(2,1)]*r,Mt[pt(1,2)]+=Mt[pt(2,2)]*r,r=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),s)+Mt[pt(1,2)],h=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,2),s)+Mt[pt(2,2)],o=-h/r,Mt[pt(1,0)]*=o,Mt[pt(1,1)]*=o,Mt[pt(1,2)]*=o,a[0]=Mt[0],a[1]=Mt[1],a[2]=0,a[3]=Mt[2],a[4]=Mt[3],a[5]=Mt[4],a[6]=0,a[7]=Mt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=Mt[6],a[13]=Mt[7],a[14]=0,a[15]=Mt[8]}function jt(t,s,i,a,r){const h=1/K[0][3],o=1/K[4][3];(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.acosClamped)(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,gt(K,n,c,Y,Z,$,tt,st),Ct(Y,Z,tt,st,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Tt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SortedRenderGeometryRenderer: function() { return /* binding */ v; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _terrain_Intersector_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../terrain/Intersector.js */ "./node_modules/@arcgis/core/views/3d/terrain/Intersector.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _ChangeSet_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ChangeSet.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _Material_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _rendererUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./rendererUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js");
/* harmony import */ var _RenderSlot_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _materials_renderers_MergedRenderer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../materials/renderers/MergedRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let v=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._pending=new C,this._changes=new _ChangeSet_js__WEBPACK_IMPORTED_MODULE_14__.ChangeSet,this._renderers=new Map,this._sortedRenderers=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_4__["default"],this._geometries=new Map,this._hasHighlights=!1,this._hasWater=!1}destroy(){this._changes.prune(),this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._sortedRenderers.clear(),this._geometries.clear(),this._pending.clear()}get updating(){return!this._pending.empty||this._changes.updates.length>0}get rctx(){return this.rendererContext.rctx}get _materials(){return this.rendererContext.materials}get _localOriginFactory(){return this.rendererContext.localOriginFactory}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccludedDraped(){for(const e of this._renderers.values())if(0!==e.numGeometries&&!e.queryRenderOccludedState(_Material_js__WEBPACK_IMPORTED_MODULE_17__.RenderOccludedFlag.Occlude))return!0;return!1}get isEmpty(){return!this.updating&&0===this._renderers.size&&0===this._geometries.size}getMaterialRenderer(e){return this._renderers.get(e)}get sortedRenderers(){return this._sortedRenderers}commitChanges(){if(!this.updating)return!1;this._processAddsRemoves();const e=(0,_rendererUtils_js__WEBPACK_IMPORTED_MODULE_19__.splitRenderGeometryChangeSetByMaterial)(this._changes);let r=!1;return e.forEach(((e,t)=>{let s=this._renderers.get(t);!s&&e.adds.length>0&&(s=new _materials_renderers_MergedRenderer_js__WEBPACK_IMPORTED_MODULE_21__.MergedRenderer({material:t}),s.initializeRenderContext(this.rendererContext.pluginContext,this._materials),this._renderers.set(t,s),r=!0),s&&(s.modify(e),0===s.numGeometries&&(this._renderers.delete(t),s.destroy(),r=!0))})),this._changes.clear(),r&&this._updateSortedMaterialRenderers(),this._hasHighlights=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>{const r=e.produces.get(_RenderSlot_js__WEBPACK_IMPORTED_MODULE_20__.RenderSlot.DRAPED_MATERIAL);return!!r&&r(_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Highlight)})),this._hasWater=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>{const r=e.produces.get(_RenderSlot_js__WEBPACK_IMPORTED_MODULE_20__.RenderSlot.DRAPED_WATER);return!!r&&r(_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Normal)})),this.notifyChange("updating"),!0}addGeometries(e,r){if(0===e.length)return;const t=this._validateRenderGeometries(e);for(const i of t)this._geometries.set(i.id,i);const s=this._pending.empty;for(const i of t)this._pending.adds.add(i);s&&this.notifyChange("updating"),r===_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyOperation.UPDATE&&this._notifyGraphicGeometryChanged(e)}removeGeometries(e,r){const t=this._pending.empty,s=this._pending.adds;for(const i of e)s.has(i)?(this._pending.removed.add(i),s.delete(i)):this._pending.removed.has(i)||this._pending.removes.add(i),this._geometries.delete(i.id);t&&!this._pending.empty&&this.notifyChange("updating"),r===_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyOperation.UPDATE&&this._notifyGraphicGeometryChanged(e)}modifyGeometries(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=this._validateRenderGeometry(s),e.updateType=r}switch(t&&this._changes.updates.length>0&&this.notifyChange("updating"),r){case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.TRANSFORMATION:case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.GEOMETRY:return this._notifyGraphicGeometryChanged(e);case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.VISIBILITY:return this._notifyGraphicVisibilityChanged(e)}}updateAnimation(e){let r=!1;return this._sortedRenderers.forAll((t=>r=!!t.updateAnimation&&t.updateAnimation(e)||r)),r}precompile(e){return this._sortedRenderers.reduce(((r,t)=>t.precompile(e)||r),!1)}render(e){this._sortedRenderers.forAll((r=>{const t=r.acquireTechniques(e);t&&(r.render(e,t),(0,_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_13__.releaseTechniques)(t))}))}intersect(e,r,t,s,i){for(const n of this._geometries.values()){if(!s(n))continue;this._intersectRenderGeometry(n,t,r,0,e,i);const o=this.rendererContext.longitudeCyclical;o&&(n.boundingSphere[0]-n.boundingSphere[3]<o.min&&this._intersectRenderGeometry(n,t,r,o.range,e,i),n.boundingSphere[0]+n.boundingSphere[3]>o.max&&this._intersectRenderGeometry(n,t,r,-o.range,e,i)),i++}return i}_updateSortedMaterialRenderers(){this._sortedRenderers.clear();let e=0;for(const r of this._renderers.values())r.drapedPriority=e++,this._sortedRenderers.push(r);this._sortedRenderers.sort(((e,r)=>r.material?.renderPriority===e.material?.renderPriority?e.drapedPriority-r.drapedPriority:(r.material?.renderPriority||0)-(e.material?.renderPriority||0)))}_processAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._changes.adds.pushArray(Array.from(this._pending.adds)),this._changes.removes.pushArray(Array.from(this._pending.removes)),this._changes.updates.filterInPlace((({renderGeometry:e})=>!this._pending.has(e))),this._pending.clear()}_intersectRenderGeometry(e,r,t,s,i,n){if(!e.visible||!e.material.visible)return;let o=0;s+=e.transformation[12],o=e.transformation[13],S[0]=t[0]-s,S[1]=t[1]-o,e.screenToWorldRatio=this.rendererContext.screenToWorldRatio,e.material.intersectDraped(e,null,i,S,((t,s,o)=>{A(r,o,n,e.material.renderPriority,i,e.layerUid,e.graphicUid)}),r)}_notifyGraphicGeometryChanged(e){if(null==this.drapeSource.notifyGraphicGeometryChanged)return;let r;for(const{graphicUid:t}of e)null!=t&&t!==r&&(this.drapeSource.notifyGraphicGeometryChanged(t),r=t)}_notifyGraphicVisibilityChanged(e){if(null==this.drapeSource.notifyGraphicVisibilityChanged)return;let r;for(const{graphicUid:t}of e)null!=t&&t!==r&&(this.drapeSource.notifyGraphicVisibilityChanged(t),r=t)}_validateRenderGeometries(e){for(const r of e)this._validateRenderGeometry(r);return e}_validateRenderGeometry(e){return null==e.localOrigin&&(e.localOrigin=this._localOriginFactory.getOrigin((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_10__.a)(e.boundingSphere))),e}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"drapeSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"rctx",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],v.prototype,"rendererContext",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"_materials",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"_localOriginFactory",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],v.prototype,"isEmpty",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"_renderers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"_geometries",void 0),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer")],v);class C{constructor(){this.adds=new Set,this.removes=new Set,this.removed=new Set}get empty(){return 0===this.adds.size&&0===this.removes.size&&0===this.removed.size}has(e){return this.adds.has(e)||this.removes.has(e)||this.removed.has(e)}clear(){this.adds.clear(),this.removes.clear(),this.removed.clear()}}function A(e,r,t,s,i,n,o){const a=new _terrain_Intersector_js__WEBPACK_IMPORTED_MODULE_11__.OverlayTarget(n,o,r),h=r=>{r.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_16__.IntersectorType.OVERLAY,a,e.dist,e.normal,e.transformation,t,s)};if((null==i.results.min.drapedLayerOrder||t>=i.results.min.drapedLayerOrder)&&(null==i.results.min.dist||i.results.ground.dist<=i.results.min.dist)&&h(i.results.min),i.options.store!==_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_16__.StoreResults.MIN&&(null==i.results.max.drapedLayerOrder||t<i.results.max.drapedLayerOrder)&&(null==i.results.max.dist||i.results.ground.dist>i.results.max.dist)&&h(i.results.max),i.options.store===_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_16__.StoreResults.ALL){const e=(0,_Intersector_js__WEBPACK_IMPORTED_MODULE_15__.newIntersectorResult)(i.ray);h(e),i.results.all.push(e)}}const S=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_9__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureTechnique: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/TextureOnly.glsl.js */ "./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(o,i,l){super(o,i,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_0__.a,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_core_shaderLibrary_util_TextureOnly_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ../core/shaderLibrary/util/TextureOnly.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureOnly.glsl.js")))),l)}initializePipeline(e){return e.hasAlpha?(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.premultipliedAlphaToPremultipliedAlpha,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite}):(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureTechniqueConfiguration: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechniqueConfiguration{constructor(){super(...arguments),this.hasAlpha=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],r.prototype,"hasAlpha",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Update: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var e;!function(e){e[e.Immediate=0]="Immediate",e[e.FadeWithWeather=1]="FadeWithWeather"}(e||(e={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMaterial: function() { return /* binding */ O; },
/* harmony export */   Parameters: function() { return /* binding */ d; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./TriangleMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js");
/* harmony import */ var _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/* harmony import */ var _shaders_ColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shaders/ColorMaterialTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js");
/* harmony import */ var _shaders_ColorMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../shaders/ColorMaterialTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class O extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__.TriangleMaterial{constructor(t){super(t,d),this._configuration=new _shaders_ColorMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_14__.ColorMaterialTechniqueConfiguration,this.supportsEdges=!0,this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.TRANSPARENT_MATERIAL,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isColorOrOID)(t)&&this._transparent&&this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isDepth)(t)&&this._transparent&&this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isColorOrOID)(t)&&this._transparent&&!this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.DRAPED_MATERIAL,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.is2DGeometryOutput)(t)]])}getConfiguration(t,r){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.OITPolygonOffsetLimit,this._configuration.terrainDepthTest=r.terrainDepthTest,this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_3__.alphaCutoff}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Highlight||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isColorOrOID)(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return (0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isDepth)(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new A(t)}createBufferWriter(){const t=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.POSITION);return (0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_4__.olidEnabled)()&&t.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?t.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.COLORFEATUREATTRIBUTE):t.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.COLOR),new _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_10__.DefaultBufferWriter(t)}}class A extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_6__["default"]{beginSlot(t){return this.acquireTechnique(_shaders_ColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.ColorMaterialTechnique,t)}}class d extends _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_12__.VisualVariablePassParameters{constructor(){super(...arguments),this.color=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.CullFaceOptions.None,this.draped=!1,this.discardInvisibleFragments=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PositionColorLayout: function() { return /* binding */ r; },
/* harmony export */   PositionLayout: function() { return /* binding */ t; },
/* harmony export */   PositionUVLayout: function() { return /* binding */ f; },
/* harmony export */   PositionUVLayoutObjectAndLayerId: function() { return /* binding */ I; }
/* harmony export */ });
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION),f=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.UV0),r=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.COLOR),I=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.UV0).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.OBJECTANDLAYERIDCOLOR);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TriangleMaterial: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/RayIntersections.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RayIntersections.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_0__.Material{intersect(r,e,i,s,o,n){return (0,_lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_1__.intersectTriangleGeometry)(r,i,s,o,void 0,n)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createStipplePatternSimple: function() { return /* binding */ h; },
/* harmony export */   getStipplePatternForLinePattern: function() { return /* binding */ n; },
/* harmony export */   getStipplePatternForPatternStyle: function() { return /* binding */ l; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t={dash:[4,3],dot:[1,3],"long-dash":[8,3],"short-dash":[4,1],"short-dot":[1,1]},o={dash:t.dash,"dash-dot":[...t.dash,...t.dot],dot:t.dot,"long-dash":t["long-dash"],"long-dash-dot":[...t["long-dash"],...t.dot],"long-dash-dot-dot":[...t["long-dash"],...t.dot,...t.dot],none:null,"short-dash":t["short-dash"],"short-dash-dot":[...t["short-dash"],...t["short-dot"]],"short-dash-dot-dot":[...t["short-dash"],...t["short-dot"],...t["short-dot"]],"short-dot":t["short-dot"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return"style"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMaterialPassParameters: function() { return /* binding */ g; },
/* harmony export */   ColorMaterialTechnique: function() { return /* binding */ O; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../materials/VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/* harmony import */ var _chunks_ColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/ColorMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class g extends _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_7__.VisualVariablePassParameters{constructor(){super(...arguments),this.color=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS}}class O extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique{constructor(e,r,s){super(e,r,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_ColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_8__.C,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_ColorMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./ColorMaterial.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterial.glsl.js")))),s)}_createPipeline(e,t){const{oitPass:s,output:f,transparent:d,cullFace:g,draped:O,hasOccludees:T,polygonOffset:_,enableOffset:w}=e,x=s===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.NONE,y=s===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:f===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&d?(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.blending)(s):null,culling:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.cullingParams)(g),depthTest:O?null:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitDepthTest)(s)},depthWrite:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.depthWrite)(e),drawBuffers:f===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.SpecialDrawBuffers.NONE]}:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getDrawBuffers)(s,f),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWrite,stencilWrite:T?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilWriteMaskOn:null,stencilTest:T?t?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilBaseAllZerosParams:null,polygonOffset:x||y?_?S:null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getOITPolygonOffset)(w)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const S={factor:1,units:1};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMaterialTechniqueConfiguration: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.CullFaceOptions.None,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)({count:_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.CullFaceOptions.COUNT})],a.prototype,"cullFace",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasVertexColors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"discardInvisibleFragments",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"polygonOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"enableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"cullAboveTerrain",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"objectAndLayerIdColorInstanced",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"draped",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayCompositingTechnique: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/OverlayCompositing.glsl.js */ "./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,s,a){super(r,s,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_OverlayCompositing_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./OverlayCompositing.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositing.glsl.js")))),a)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ToneMapping: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function o(o){o.code.add((0,_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`vec3 tonemapACES(vec3 x) {
return clamp((x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14), 0.0, 1.0);
}`)}


/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_arcgis_core_layers_graphics_sources_interfaces_js-node_modules_arcgis_co-b2cbae.e55bc66cd6940e8a73ea.js.map