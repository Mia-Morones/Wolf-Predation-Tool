"use strict";(self.webpackChunkreact_redux_arcgis_boilerplate=self.webpackChunkreact_redux_arcgis_boilerplate||[]).push([[1914],{21120:function(t,e,n){n.d(e,{E:function(){return v},w:function(){return i}});var r=n(3223),o=(n(6273),n(41785)),s=n(79207);class i{constructor(t=9,e){this._compareMinX=h,this._compareMinY=f,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this._toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),w.prune(),_.prune(),b.prune(),I.prune()}all(t){c(this._data,t)}search(t,e){let n=this._data;const r=this._toBBox;if(x(t,n))for(w.clear();n;){for(let o=0,s=n.children.length;o<s;o++){const s=n.children[o],i=n.leaf?r(s):s;x(t,i)&&(n.leaf?e(s):y(t,i)?c(s,e):w.push(s))}n=w.pop()}}collides(t){let e=this._data;const n=this._toBBox;if(!x(t,e))return!1;for(w.clear();e;){for(let r=0,o=e.children.length;r<o;r++){const o=e.children[r],s=e.leaf?n(o):o;if(x(t,s)){if(e.leaf||y(t,s))return!0;w.push(o)}}e=w.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===e.height)this._splitRoot(this._data,e);else{if(this._data.height<e.height){const t=this._data;this._data=e,e=t}this._insert(e,this._data.height-e.height-1,!0)}else this._data=e;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new A([]),this}remove(t){if(!t)return this;let e,n=this._data,o=null,s=0,i=!1;const c=this._toBBox(t);for(b.clear(),I.clear();n||b.length>0;){if(n||(n=b.pop(),o=b.data[b.length-1],s=I.pop()??0,i=!0),n.leaf&&(e=(0,r.qh)(n.children,t,n.children.length,n.indexHint),-1!==e))return n.children.splice(e,1),b.push(n),this._condense(b),this;i||n.leaf||!y(n,c)?o?(s++,n=o.children[s],i=!1):n=null:(b.push(n),I.push(s),s=0,o=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,e,n,r){const o=n-e+1;let s=this._maxEntries;if(o<=s){const r=new A(t.slice(e,n+1));return u(r,this._toBBox),r}r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/s**(r-1)));const i=new N([]);i.height=r;const c=Math.ceil(o/s),l=c*Math.ceil(Math.sqrt(s));M(t,e,n,l,this._compareMinX);for(let o=e;o<=n;o+=l){const e=Math.min(o+l-1,n);M(t,o,e,c,this._compareMinY);for(let n=o;n<=e;n+=c){const o=Math.min(n+c-1,e);i.children.push(this._build(t,n,o,r-1))}}return u(i,this._toBBox),i}_insert(t,e,n){const r=this._toBBox,o=n?t:r(t);b.clear();const s=function(t,e,n,r){for(;r.push(e),!0!==e.leaf&&r.length-1!==n;){let n,r=1/0,o=1/0;for(let s=0,i=e.children.length;s<i;s++){const i=e.children[s],c=m(i),u=g(t,i)-c;u<o?(o=u,r=c<r?c:r,n=i):u===o&&c<r&&(r=c,n=i)}e=n||e.children[0]}return e}(o,this._data,e,b);for(s.children.push(t),a(s,o);e>=0&&b.data[e].children.length>this._maxEntries;)this._split(b,e),e--;!function(t,e,n){for(let r=n;r>=0;r--)a(e.data[r],t)}(o,b,e)}_split(t,e){const n=t.data[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);const s=this._chooseSplitIndex(n,o,r);if(!s)return;const i=n.children.splice(s,n.children.length-s),c=n.leaf?new A(i):new N(i);c.height=n.height,u(n,this._toBBox),u(c,this._toBBox),e?t.data[e-1].children.push(c):this._splitRoot(n,c)}_splitRoot(t,e){this._data=new N([t,e]),this._data.height=t.height+1,u(this._data,this._toBBox)}_chooseSplitIndex(t,e,n){let r,o,s;r=o=1/0;for(let i=e;i<=n-e;i++){const e=l(t,0,i,this._toBBox),c=l(t,i,n,this._toBBox),u=p(e,c),a=m(e)+m(c);u<r?(r=u,s=i,o=a<o?a:o):u===r&&a<o&&(o=a,s=i)}return s}_chooseSplitAxis(t,e,n){const r=t.leaf?this._compareMinX:h,o=t.leaf?this._compareMinY:f;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const o=this._toBBox,s=l(t,0,e,o),i=l(t,n-e,n,o);let c=d(s)+d(i);for(let r=e;r<n-e;r++){const e=t.children[r];a(s,t.leaf?o(e):e),c+=d(s)}for(let r=n-e-1;r>=e;r--){const e=t.children[r];a(i,t.leaf?o(e):e),c+=d(i)}return c}_condense(t){for(let e=t.length-1;e>=0;e--){const n=t.data[e];if(0===n.children.length)if(e>0){const o=t.data[e-1],s=o.children;s.splice((0,r.qh)(s,n,s.length,o.indexHint),1)}else this.clear();else u(n,this._toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this._compareMinX=new Function("a","b",e.join(t[0])),this._compareMinY=new Function("a","b",e.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function c(t,e){let n=t;for(_.clear();n;){if(!0===n.leaf)for(const t of n.children)e(t);else _.pushArray(n.children);n=_.pop()??null}}function u(t,e){l(t,0,t.children.length,e,t)}function l(t,e,n,r,o){o||(o=new A([])),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let s,i=e;i<n;i++)s=t.children[i],a(o,t.leaf?r(s):s);return o}function a(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function h(t,e){return t.minX-e.minX}function f(t,e){return t.minY-e.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function g(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,o-n)*Math.max(0,s-r)}function y(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function x(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function M(t,e,n,r,o){const i=[e,n];for(;i.length;){const e=i.pop(),n=i.pop();if(e-n<=r)continue;const c=n+Math.ceil((e-n)/r/2)*r;(0,s.q)(t,c,n,e,o),i.push(n,c,c,e)}}const w=new o.A,_=new o.A,b=new o.A,I=new o.A({deallocator:void 0});class v{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class Y extends v{constructor(){super(...arguments),this.height=1,this.indexHint=new r.vW}}class A extends Y{constructor(t){super(),this.children=t,this.leaf=!0}}class N extends Y{constructor(t){super(),this.children=t,this.leaf=!1}}},58823:function(t,e,n){n.d(e,{A:function(){return h}});var r,o=n(82392),s=n(14755),i=n(84977),c=n(81482),u=(n(6273),n(80861),n(67498),n(85716)),l=n(26325);let a=r=class extends((0,s.O)(i.oY)){constructor(t){super(t),this.type="georeferenced",this.origin=null}};a.absolute=new r,(0,o._)([(0,u.e)({georeferenced:"georeferenced"},{readOnly:!0})],a.prototype,"type",void 0),(0,o._)([(0,c.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],a.prototype,"origin",void 0),a=r=(0,o._)([(0,l.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],a);const h=a},93320:function(t,e,n){n.d(e,{A:function(){return h}});var r=n(82392),o=n(14755),s=n(84977),i=n(81482),c=(n(6273),n(80861),n(67498),n(85716)),u=n(26325),l=n(19913);let a=class extends((0,o.O)(s.oY)){constructor(t){super(t),this.type="local",this.origin=(0,l.vt)()}};(0,r._)([(0,c.e)({local:"local"},{readOnly:!0})],a.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"origin",void 0),a=(0,r._)([(0,u.$)("esri.geometry.support.MeshLocalVertexSpace")],a);const h=a},28364:function(t,e,n){n.d(e,{CK:function(){return f},E9:function(){return a},Hq:function(){return h},MW:function(){return m},TE:function(){return d},yJ:function(){return g}});var r=n(61090),o=n(80861),s=n(80347),i=n(1912),c=n(58823),u=n(93320);function l(){return o.A.getLogger("esri.geometry.Mesh")}function a(t){return!h(t)}function h(t){return null!=t.origin}function f(t){return h(t.vertexSpace)}function m(t,e){if(!h(t))return null;const[n,r,o]=t.origin;return new i.A({x:n,y:r,z:o,spatialReference:e})}function d(t,e){const{x:n,y:o,z:s,spatialReference:i}=t,a=[n,o,s??0];return void 0!==e?.geographic&&((0,r.io)(l(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),e.vertexSpace&&l().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(e?.vertexSpace??(h=e?.geographic,null==h?void 0:h?"local":"georeferenced")??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(i))?new u.A({origin:a}):new c.A({origin:a});var h}function g(t,e){return t.type===e.type&&(t.origin===e.origin||null!=t.origin&&null!=e.origin&&(0,s.p)(t.origin,e.origin))}},85747:function(t,e,n){n.d(e,{N3:function(){return s},Om:function(){return o}});var r=n(65977);class o{constructor(t=null,e={},n,r){this.geometry=t,this.attributes=e,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}static fromJSON(t,e){const n=t.geometry?r.A.fromJSON(t.geometry):null,s=t.centroid?r.A.fromJSON(t.centroid):null,i=t.attributes[e];return new o(n,t.attributes,s,i)}weakClone(){const t=new o(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}clone(){const t=this.geometry?.clone(),e=new o(t,{...this.attributes},this.centroid?.clone(),this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function s(t){return!!t.geometry?.coords?.length}},97011:function(t,e,n){n.d(e,{A:function(){return r}});class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new r;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}},65977:function(t,e,n){n.d(e,{A:function(){return r}});class r{constructor(t=[],e=[]){this.lengths=t??[],this.coords=e??[]}static fromJSON(t){return new r(t.lengths,t.coords)}static fromRect(t){const[e,n,o,s]=t,i=o-e,c=s-n;return new r([5],[e,n,i,0,0,c,-i,0,0,-c])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,e)=>t+e))}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)t(this.coords[2*(n+e)],this.coords[2*(n+e)+1]);e+=r}}deltaDecode(){const t=this.clone(),{coords:e,lengths:n}=t;let r=0;for(const t of n){for(let n=1;n<t;n++)e[2*(r+n)]+=e[2*(r+n)-2],e[2*(r+n)+1]+=e[2*(r+n)-1];r+=t}return t}clone(t){if(0===this.lengths.length)return new r([],[this.coords[0],this.coords[1]]);const e=2*(0===this.lengths.length?1:this.lengths.reduce(((t,e)=>t+e))),n=this.coords.slice(0,e);return t?(t.set(n),new r(this.lengths,t)):new r(Array.from(this.lengths),Array.from(n))}}},5525:function(t,e,n){n.d(e,{B2:function(){return _},BW:function(){return R},Ch:function(){return ot},DF:function(){return I},Di:function(){return L},E2:function(){return C},IE:function(){return w},Nl:function(){return Q},Q4:function(){return st},Rk:function(){return ct},Ux:function(){return V},Ye:function(){return O},ZF:function(){return D},eU:function(){return z},eY:function(){return H},jH:function(){return K},jQ:function(){return rt},kz:function(){return tt},oN:function(){return J},q3:function(){return $},qK:function(){return G},qN:function(){return T},z5:function(){return P},zv:function(){return U}});var r=n(62991),o=n(80861),s=n(57725),i=n(46373),c=n(2532),u=n(56053),l=n(85747),a=n(97011),h=n(65977);function f(t,e){return t?e?4:3:e?3:2}const m=()=>o.A.getLogger("esri.layers.graphics.featureConversionUtils"),d={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},g=(t,e,n,r,o,s)=>{t[n]=o,t[n+1]=s},p=(t,e,n,r,o,s)=>{t[n]=o,t[n+1]=s,t[n+2]=e[r+2]},y=(t,e,n,r,o,s)=>{t[n]=o,t[n+1]=s,t[n+2]=e[r+3]},x=(t,e,n,r,o,s)=>{t[n]=o,t[n+1]=s,t[n+2]=e[r+2],t[n+3]=e[r+3]};function M(t,e,n,r){if(t){if(n)return e&&r?x:p;if(e&&r)return y}else if(e&&r)return p;return g}function w({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function _({scale:t,translate:e},n){return Math.round((e[1]-n)/t[1])}function b({scale:t,translate:e},n,r){return n*t[r]+e[r]}function I(t,e,n){return t?e?n?Z(t):A(t):n?X(t):v(t):null}function v(t){const e=t.coords;return{x:e[0],y:e[1]}}function Y(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t}function A(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2]}}function N(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t}function X(t){const e=t.coords;return{x:e[0],y:e[1],m:e[2]}}function F(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.m,t}function Z(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2],m:e[3]}}function B(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t.coords[3]=e.m,t}function S(t,e){return t&&e?B:t?N:e?F:Y}function T(t,e,n=S(null!=e.z,null!=e.m)){return n(t,e)}function G(t,e,n){if(null==t)return null;const r=f(e,n),o=[];for(let e=0;e<t.coords.length;e+=r){const n=[];for(let o=0;o<r;o++)n.push(t.coords[e+o]);o.push(n)}return e?n?{points:o,hasZ:e,hasM:n}:{points:o,hasZ:e}:n?{points:o,hasM:n}:{points:o}}function k(t,e,n=f(e.hasZ,e.hasM)){t.lengths[0]=e.points.length;const r=t.coords;let o=0;for(const t of e.points)for(let e=0;e<n;e++)r[o++]=t[e];return t}function R(t,e,n){if(!t)return null;const r=f(e,n),{coords:o,lengths:s}=t,i=[];let c=0;for(const t of s){const e=[];for(let n=0;n<t;n++){const t=[];for(let e=0;e<r;e++)t.push(o[c++]);e.push(t)}i.push(e)}return e?n?{paths:i,hasZ:e,hasM:n}:{paths:i,hasZ:e}:n?{paths:i,hasM:n}:{paths:i}}function E(t,e,n=f(e.hasZ,e.hasM)){const{lengths:r,coords:o}=t;let s=0;for(const t of e.paths){for(const e of t)for(let t=0;t<n;t++)o[s++]=e[t];r.push(t.length)}return t}function P(t,e,n){if(!t)return null;const r=f(e,n),{coords:o,lengths:s}=t,i=[];let c=0;for(const t of s){const e=[];for(let n=0;n<t;n++){const t=[];for(let e=0;e<r;e++)t.push(o[c++]);e.push(t)}i.push(e)}return e?n?{rings:i,hasZ:e,hasM:n}:{rings:i,hasZ:e}:n?{rings:i,hasM:n}:{rings:i}}function O(t,e,n=e.hasZ,r=e.hasM){return z(t,e.rings,n,r)}function z(t,e,n,r){const o=f(n,r),{lengths:s,coords:i}=t;let c=0;ut(t);for(const t of e){for(const e of t)for(let t=0;t<o;t++)i[c++]=e[t];s.push(t.length)}return t}const q=[],j=[];function C(t,e,n,r,o){q[0]=t;const[s]=L(j,q,e,n,r,o);return lt(q),lt(j),s}function L(t,e,n,o,s,i){if(lt(t),!n){for(const n of e){const e=i?n.attributes[i]:void 0;t.push(new l.Om(null,n.attributes,null,e))}return t}switch(n){case"esriGeometryPoint":return function(t,e,n,r,o){const s=S(n,r);for(const{geometry:n,attributes:r}of e){const e=null!=n?s(new h.A,n):null;t.push(new l.Om(e,r,null,o?r[o]:void 0))}return t}(t,e,o,s,i);case"esriGeometryMultipoint":return function(t,e,n,r,o){const s=f(n,r);for(const{geometry:n,attributes:r}of e){const e=null!=n?k(new h.A,n,s):null;t.push(new l.Om(e,r,null,o?r[o]:void 0))}return t}(t,e,o,s,i);case"esriGeometryPolyline":return function(t,e,n,r,o){const s=f(n,r);for(const{geometry:n,attributes:r,centroid:i}of e){const e=null!=n?E(new h.A,n,s):null,c=null!=i?T(new h.A,i):null;t.push(new l.Om(e,r,c,o?r[o]:void 0))}return t}(t,e,o,s,i);case"esriGeometryPolygon":case"esriGeometryMultiPatch":return function(t,e,n,r,o){for(const{geometry:s,centroid:i,attributes:c}of e){const e=null!=s?O(new h.A,s,n,r):null,u=o?c[o]:void 0;null!=i?t.push(new l.Om(e,c,Y(new h.A,i),u)):t.push(new l.Om(e,c,null,u))}return t}(t,e,o,s,i);default:m().error("convertToFeatureSet:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${n}'`)),lt(t)}return t}function J(t,e,n,r){j[0]=t,W(q,j,e,n,r);const o=q[0];return lt(q),lt(j),o}function V(t,e,n){if(null==t)return null;const o=new h.A;return"hasZ"in t&&null==e&&(e=t.hasZ),"hasM"in t&&null==n&&(n=t.hasM),(0,u.fT)(t)?S(null!=e?e:null!=t.z,null!=n?n:null!=t.m)(o,t):(0,u.Bi)(t)?O(o,t,e,n):(0,u.Rg)(t)?E(o,t,f(e,n)):(0,u.U9)(t)?k(o,t,f(e,n)):void m().error("convertFromGeometry:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${t}'`))}function U(t,e,n,o){const s=t&&("coords"in t?t:t.geometry);if(null==s)return null;switch(e){case"esriGeometryPoint":{let t=v;return n&&o?t=Z:n?t=A:o&&(t=X),t(s)}case"esriGeometryMultipoint":return G(s,n,o);case"esriGeometryPolyline":return R(s,n,o);case"esriGeometryPolygon":return P(s,n,o);default:return m().error("convertToGeometry:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${e}'`)),null}}function W(t,e,n,o,s){if(lt(t),null==n)return function(t,e){for(const n of e)t.push({attributes:n.attributes});return t}(t,e);switch(n){case"esriGeometryPoint":return function(t,e,n,r){let o=v;n&&r?o=Z:n?o=A:r&&(o=X);for(const n of e){const{geometry:e,attributes:r}=n,s=null!=e?o(e):null;t.push({attributes:r,geometry:s})}return t}(t,e,o,s);case"esriGeometryMultipoint":return function(t,e,n,r){for(const{geometry:o,attributes:s}of e)t.push({attributes:s,geometry:null!=o?G(o,n,r):null});return t}(t,e,o,s);case"esriGeometryPolyline":return function(t,e,n,r){for(const{geometry:o,attributes:s}of e)t.push({attributes:s,geometry:null!=o?R(o,n,r):null});return t}(t,e,o,s);case"esriGeometryPolygon":return function(t,e,n,r){for(const{geometry:o,attributes:s,centroid:i}of e){const e=null!=o?P(o,n,r):null;if(null!=i){const n=v(i);t.push({attributes:s,centroid:n,geometry:e})}else t.push({attributes:s,geometry:e})}return t}(t,e,o,s);default:m().error("convertToFeatureSet:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${n}'`))}return t}function D(t){const{objectIdFieldName:e,spatialReference:n,transform:r,fields:o,hasM:s,hasZ:i,features:c,geometryType:u,exceededTransferLimit:l,uniqueIdField:a,queryGeometry:h,queryGeometryType:f}=t,m={features:W([],c,u,i,s),fields:o,geometryType:u,objectIdFieldName:e,spatialReference:n,uniqueIdField:a,queryGeometry:U(h,f,!1,!1)};return r&&(m.transform=r),l&&(m.exceededTransferLimit=l),s&&(m.hasM=s),i&&(m.hasZ=i),m}function $(t,e){const n=new a.A,{hasM:o,hasZ:s,features:i,objectIdFieldName:c,spatialReference:u,geometryType:l,exceededTransferLimit:h,transform:f,fields:d}=t;return d&&(n.fields=d),n.geometryType=l??null,n.objectIdFieldName=c??e??null,n.spatialReference=u??null,n.objectIdFieldName?(i&&L(n.features,i,l,s,o,n.objectIdFieldName),h&&(n.exceededTransferLimit=h),o&&(n.hasM=o),s&&(n.hasZ=s),f&&(n.transform=f),n):(m().error(new r.A("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function H(t){const{transform:e,features:n,hasM:r,hasZ:o}=t;if(!e)return t;for(const t of n)null!=t.geometry&&ot(t.geometry,t.geometry,r,o,e),null!=t.centroid&&ot(t.centroid,t.centroid,r,o,e);return t.transform=null,t}function K(t,e){const{geometryType:n,features:r,hasM:o,hasZ:s}=e;if(!t)return e;for(let e=0;e<r.length;e++){const i=r[e],c=i.weakClone();c.geometry=new h.A,Q(c.geometry,i.geometry,o,s,n,t),i.centroid&&(c.centroid=new h.A,Q(c.centroid,i.centroid,o,s,"esriGeometryPoint",t)),r[e]=c}return e.transform=t,e}function Q(t,e,n,r,o,s,i=n,c=r){if(ut(t),!e?.coords.length)return null;const u=d[o],{coords:l,lengths:a}=e,h=f(n,r),m=f(n&&i,r&&c),g=M(n,r,i,c);if(!a.length)return g(t.coords,l,0,0,w(s,l[0]),_(s,l[1])),ut(t,h,0),t;let p,y,x,b,I=0,v=0,Y=v;for(const e of a){if(e<u)continue;let n=0;v=Y,x=p=w(s,l[I]),b=y=_(s,l[I+1]),g(t.coords,l,v,I,x,b),n++,I+=h,v+=m;for(let r=1;r<e;r++,I+=h)x=w(s,l[I]),b=_(s,l[I+1]),x===p&&b===y||(g(t.coords,l,v,I,x-p,b-y),v+=m,n++,p=x,y=b);n>=u&&(t.lengths.push(n),Y=v)}return lt(t.coords,Y),t.coords.length?t:null}function tt(t,e,n,r,o,s,i=n,c=r){if(ut(t),!e?.coords.length)return null;const u=d[o],{coords:l,lengths:a}=e,h=f(n,r),m=f(n&&i,r&&c),g=M(n,r,i,c);if(!a.length)return g(t.coords,l,0,0,l[0],l[1]),ut(t,h,0),t;let p=0;const y=s*s;for(const e of a){if(e<u){p+=e*h;continue}const n=t.coords.length/m,r=p,o=p+(e-1)*h;g(t.coords,l,t.coords.length,r,l[r],l[r+1]),nt(t.coords,l,h,y,g,r,o),g(t.coords,l,t.coords.length,o,l[o],l[o+1]);const s=t.coords.length/m-n;s>=u?t.lengths.push(s):lt(t.coords,n*m),p+=e*h}return t.coords.length?t:null}function et(t,e,n,r){const o=t[e],s=t[e+1],i=t[n],c=t[n+1],u=t[r],l=t[r+1];let a=i,h=c,f=u-a,m=l-h;if(0!==f||0!==m){const t=((o-a)*f+(s-h)*m)/(f*f+m*m);t>1?(a=u,h=l):t>0&&(a+=f*t,h+=m*t)}return f=o-a,m=s-h,f*f+m*m}function nt(t,e,n,r,o,s,i){let c,u=r,l=0;for(let t=s+n;t<i;t+=n)c=et(e,t,s,i),c>u&&(l=t,u=c);u>r&&(l-s>n&&nt(t,e,n,r,o,s,l),o(t,e,t.length,l,e[l],e[l+1]),i-l>n&&nt(t,e,n,r,o,l,i))}function rt(t,e,n,r){if(!e?.coords?.length)return null;const o=f(n,r);let s=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY;if(e&&e.coords){const t=e.coords;for(let e=0;e<t.length;e+=o){const n=t[e],r=t[e+1];s=Math.min(s,n),l=Math.max(l,n),u=Math.min(u,r),a=Math.max(a,r)}}return(0,i.is)(t)?(0,i.BI)(t,s,u,l,a):(0,c.fA)(s,u,l,a,t),t}function ot(t,e,n,r,o){const{coords:i,lengths:c}=e,u=f(n,r);if(!i.length)return t!==e&&ut(t),t;(0,s.Lw)(o);const{originPosition:l,scale:a,translate:h}=o,m=at;m.originPosition=l;const d=m.scale;d[0]=a[0]??1,d[1]=-(a[1]??1),d[2]=a[2]??1,d[3]=a[3]??1;const g=m.translate;if(g[0]=h[0]??0,g[1]=h[1]??0,g[2]=h[2]??0,g[3]=h[3]??0,!c.length){for(let e=0;e<u;++e)t.coords[e]=b(m,i[e],e);return t!==e&&ut(t,u,0),t}let p=0;for(let e=0;e<c.length;e++){const n=c[e];t.lengths[e]=n;for(let e=0;e<u;++e)t.coords[p+e]=b(m,i[p+e],e);let r=t.coords[p],o=t.coords[p+1];p+=u;for(let e=1;e<n;e++,p+=u){r+=i[p]*d[0],o+=i[p+1]*d[1],t.coords[p]=r,t.coords[p+1]=o;for(let e=2;e<u;++e)t.coords[p+e]=b(m,i[p+e],e)}}return t!==e&&ut(t,i.length,c.length),t}function st(t,e,n,r,o,s){if(ut(t),t.lengths.push(...e.lengths),n===o&&r===s)for(let n=0;n<e.coords.length;n++)t.coords.push(e.coords[n]);else{const i=f(n,r),c=M(n,r,o,s),u=e.coords;for(let e=0;e<u.length;e+=i)c(t.coords,u,t.coords.length,e,u[e],u[e+1])}return t}function it(t,e,n,r){let o=0,s=t[r*e],i=t[r*(e+1)];for(let c=1;c<n;c++){const n=s+t[r*(e+c)],u=i+t[r*(e+c)+1],l=(n-s)*(u+i);s=n,i=u,o+=l}return.5*o}function ct(t,e){const{coords:n,lengths:r}=t;let o=0,s=0;for(let t=0;t<r.length;t++){const i=r[t];s+=it(n,o,i,e),o+=i}return Math.abs(s)}function ut(t,e=0,n=0){lt(t.lengths,n),lt(t.coords,e)}function lt(t,e=0){t.length!==e&&(t.length=e)}const at={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},96124:function(t,e,n){n.d(e,{EL:function(){return p},RS:function(){return y},gr:function(){return l},wP:function(){return h},wZ:function(){return f}});n(3313);var r=n(20857),o=(n(6273),n(15565)),s=n(62088),i=n(56053),c=n(82320),u=n(44153);function l(t){return"declaredClass"in t}function a(t){return"declaredClass"in t}function h(t,e){return t?"declaredClass"in t?t:new r.A({layer:e,sourceLayer:e,visible:t.visible,symbol:(0,o.o8)(t.symbol),attributes:(0,o.o8)(t.attributes),geometry:f(t.geometry)}):null}function f(t){return null==t?null:l(t)?t:(0,i.rS)(function(t){const{wkid:e,wkt:n,wkt2:r,latestWkid:o}=t.spatialReference,s={wkid:e,wkt:n,wkt2:r,latestWkid:o};switch(t.type){case"point":{const{x:e,y:n,z:r,m:o}=t;return{x:e,y:n,z:r,m:o,spatialReference:s}}case"polygon":{const{rings:e,hasZ:n,hasM:r}=t;return{rings:m(e),hasZ:n,hasM:r,spatialReference:s}}case"polyline":{const{paths:e,hasZ:n,hasM:r}=t;return{paths:m(e),hasZ:n,hasM:r,spatialReference:s}}case"extent":{const{xmin:e,xmax:n,ymin:r,ymax:o,zmin:i,zmax:c,mmin:u,mmax:l,hasZ:a,hasM:h}=t;return{xmin:e,xmax:n,ymin:r,ymax:o,zmin:i,zmax:c,mmin:u,mmax:l,hasZ:a,hasM:h,spatialReference:s}}case"multipoint":{const{points:e,hasZ:n,hasM:r}=t;return{points:g(e)?d(e):e,hasZ:n,hasM:r,spatialReference:s}}default:return}}(t))}function m(t){return function(t){for(const e of t)if(0!==e.length)return g(e);return!1}(t)?t.map((t=>d(t))):t}function d(t){return t.map((t=>Array.from(t)))}function g(t){return t.length>0&&((0,s.vZ)(t[0])||(0,s.aI)(t[0]))}function p(t,e){if(!t)return null;let n;if(a(t)){if(null==e)return t.clone();if(a(e))return e.copy(t)}return null!=e?(n=e,n.x=t.x,n.y=t.y,n.spatialReference=t.spatialReference,t.hasZ?(n.z=t.z,n.hasZ=t.hasZ):(n.z=void 0,n.hasZ=!1),t.hasM?(n.m=t.m,n.hasM=!0):(n.m=void 0,n.hasM=!1)):(n=(0,c.T)(t.x,t.y,t.z,t.spatialReference),t.hasM&&(n.m=t.m,n.hasM=!0)),n}function y(t){const{wkid:e,wkt:n,wkt2:r,latestWkid:o}=t,s={wkid:e,wkt:n,wkt2:r,latestWkid:o};return u.A.fromJSON(s)}},9891:function(t,e,n){n.d(e,{Fe:function(){return u},XT:function(){return h},hr:function(){return c},iC:function(){return i},lS:function(){return l},n3:function(){return a}});var r=n(3223),o=n(73411),s=n(33763);class i{constructor(t,e=null){this.geometry=t,this.textures=e}get material(){return this.geometry.material}get numTriangles(){return this.geometry instanceof o.J?this.geometry.indexCount/3:this.geometry.elementCount/3}}class c{constructor(t,e,n){this.components=t,this.minScreenSpaceRadius=e,this.pivotOffset=n;const i=(0,r.Am)(this.components.map((t=>t.geometry)));this.numVertices=i.reduce(((t,e)=>t+function(t){return t instanceof o.J?t.attributes.get(s.r.POSITION).indices.length:t.elementCount}(e)),0)}}class u{constructor(t){this.levels=t,this.levels.sort(((t,e)=>t.minScreenSpaceRadius===e.minScreenSpaceRadius?t.numVertices-e.numVertices:t.minScreenSpaceRadius-e.minScreenSpaceRadius))}}function l(t){const e=[];return t.levels.forEach((t=>t.components.forEach((t=>e.push(t.geometry.material))))),(0,r.Am)(e)}function a(t){const e=new Array;return t.levels.forEach((t=>t.components.forEach((t=>{null!=t.textures&&e.push(...t.textures)})))),(0,r.Am)(e)}function h(t){const e=new Array;return t.levels.forEach((t=>t.components.forEach((t=>{t.geometry instanceof o.J&&e.push(t.geometry)})))),(0,r.Am)(e)}}}]);
//# sourceMappingURL=1914.45cc451827eb69710e2a.js.map