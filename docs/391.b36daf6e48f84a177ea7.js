"use strict";(self.webpackChunkreact_redux_arcgis_boilerplate=self.webpackChunkreact_redux_arcgis_boilerplate||[]).push([[391],{80688:function(t,n,r){r.d(n,{A:function(){return d}});var i=r(82392),e=r(73783),o=r(3223),s=r(14755),c=r(23377),u=r(84977),a=r(81482),l=(r(6273),r(80861),r(26325));let g=0,f=class extends((0,u.Te)((0,s.O)((0,c.sA)(e.A)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${g++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){const n=this.parent;if(null!=n)switch(n.type){case"line-of-sight":case"dimension":case"viewshed":n.releaseAnalysis(this);break;case"2d":case"3d":n.analyses.includes(this)&&n.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(o.Ru)}};(0,i._)([(0,a.MZ)({type:String,constructOnly:!0,clonable:!1})],f.prototype,"id",void 0),(0,i._)([(0,a.MZ)({type:String})],f.prototype,"title",void 0),(0,i._)([(0,a.MZ)({clonable:!1,value:null})],f.prototype,"parent",null),(0,i._)([(0,a.MZ)({readOnly:!0})],f.prototype,"isEditable",null),f=(0,i._)([(0,l.$)("esri.analysis.Analysis")],f);const d=f},50254:function(t,n,r){r.d(n,{xH:function(){return s},N1:function(){return u}});r(80347);var i=r(19913),e=r(63918),o=(r(30165),r(25336),r(46373),r(3800),r(76388));r(2680);o.R6;o.HE;o.R6;o.R6;r(38952),r(62847);(0,i.vt)();function s(t,n){return c(t)===c(n)}function c(t){if(null==t)return null;const n=null!=t.layer?t.layer.id:"";let r=null;return r=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==r?null:`o-${n}-${r}`}const u={json:{write:{writer:function(t,n){null!=t?.layer?.objectIdField&&null!=t.attributes&&(n.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};(0,e.vt)(),(0,i.vt)()},7775:function(t,n,r){r.d(n,{a:function(){return y},b:function(){return X},c:function(){return q},f:function(){return A},g:function(){return j},h:function(){return R},u:function(){return M}});r(6273);var i=r(80861),e=r(4506),o=r(82444),s=r(25336),c=r(26110),u=r(80347),a=r(19913),l=r(2532),g=r(60929),f=r(94669),d=r(87368),b=r(63918),h=r(74695),p=r(11631);const v=()=>i.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");const I=class{constructor(){this.plane=(0,d.vt)(),this.origin=(0,a.vt)(),this.basis1=(0,a.vt)(),this.basis2=(0,a.vt)()}};function y(t=C){return{plane:(0,d.vt)(t.plane),origin:(0,a.o8)(t.origin),basis1:(0,a.o8)(t.basis1),basis2:(0,a.o8)(t.basis2)}}function q(t,n=y()){return A(t.origin,t.basis1,t.basis2,n)}function A(t,n,r,i=y()){return(0,u.c)(i.origin,t),(0,u.c)(i.basis1,n),(0,u.c)(i.basis2,r),M(i),function(t,n){Math.abs((0,u.f)(t.basis1,t.basis2)/((0,u.l)(t.basis1)*(0,u.l)(t.basis2)))>1e-6&&v().warn(n,"Provided basis vectors are not perpendicular"),Math.abs((0,u.f)(t.basis1,P(t)))>1e-6&&v().warn(n,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,u.f)(P(t),t.origin)-t.plane[3])>1e-6&&v().warn(n,"Plane offset is not consistent with plane origin")}(i,"fromValues()"),i}function M(t){(0,d.mR)(t.basis2,t.basis1,t.origin,t.plane)}function m(t,n,r){t!==r&&q(t,r);const i=(0,u.h)(p.rq.get(),P(t),n);return(0,u.g)(r.origin,r.origin,i),r.plane[3]-=n,r}function j(t,n=y()){const r=(t[2]-t[0])/2,i=(t[3]-t[1])/2;return(0,u.i)(n.origin,t[0]+r,t[1]+i,0),(0,u.i)(n.basis1,r,0,0),(0,u.i)(n.basis2,0,i,0),(0,d.fA)(0,0,1,0,n.plane),n}function E(t,n,r){return!!(0,d.Ui)(t.plane,n,r)&&S(t,r)}function _(t,n,r){const i=F.get();B(t,n,i,F.get());let o=Number.POSITIVE_INFINITY;for(const s of D){const c=k(t,s,V.get()),a=p.rq.get();if((0,d.T7)(i,c,a)){const t=(0,u.o)(p.rq.get(),n.origin,a),i=Math.abs((0,e.XM)((0,u.f)(n.direction,t)));i<o&&(o=i,(0,u.c)(r,a))}}return o===Number.POSITIVE_INFINITY?N(t,n,r):r}function N(t,n,r){if(E(t,n,r))return r;const i=F.get(),e=F.get();B(t,n,i,e);let o=Number.POSITIVE_INFINITY;for(const s of D){const c=k(t,s,V.get()),a=p.rq.get();if((0,d.gv)(i,c,a)){const t=(0,b.kb)(n,a);if(!(0,d.Tj)(e,a))continue;t<o&&(o=t,(0,u.c)(r,a))}}return O(t,n.origin)<o&&L(t,n.origin,r),r}function L(t,n,r){const i=(0,d._I)(t.plane,n,p.rq.get()),e=(0,f.H6)(x(t,t.basis1),i,-1,1,p.rq.get()),o=(0,f.H6)(x(t,t.basis2),i,-1,1,p.rq.get());return(0,u.d)(r,(0,u.g)(p.rq.get(),e,o),t.origin),r}function T(t,n,r){const{origin:i,basis1:e,basis2:o}=t,s=(0,u.d)(p.rq.get(),n,i),c=(0,h.gr)(e,s),a=(0,h.gr)(o,s),l=(0,h.gr)(P(t),s);return(0,u.i)(r,c,a,l)}function O(t,n){const r=T(t,n,p.rq.get()),{basis1:i,basis2:e}=t,o=(0,u.l)(i),s=(0,u.l)(e),c=Math.max(Math.abs(r[0])-o,0),a=Math.max(Math.abs(r[1])-s,0),l=r[2];return c*c+a*a+l*l}function R(t,n){return Math.sqrt(O(t,n))}function w(t,n){const r=-t.plane[3];return(0,h.gr)(P(t),n)-r}function P(t){return(0,d.Qj)(t.plane)}function S(t,n){const r=(0,u.d)(p.rq.get(),n,t.origin),i=(0,u.k)(t.basis1),e=(0,u.k)(t.basis2),o=(0,u.f)(t.basis1,r),s=(0,u.f)(t.basis2,r);return-o-i<0&&o-i<0&&-s-e<0&&s-e<0}function x(t,n){const r=V.get();return(0,u.c)(r.origin,t.origin),(0,u.c)(r.vector,n),r}function k(t,n,r){const{basis1:i,basis2:e,origin:o}=t,s=(0,u.h)(p.rq.get(),i,n.origin[0]),c=(0,u.h)(p.rq.get(),e,n.origin[1]);(0,u.g)(r.origin,s,c),(0,u.g)(r.origin,r.origin,o);const a=(0,u.h)(p.rq.get(),i,n.direction[0]),l=(0,u.h)(p.rq.get(),e,n.direction[1]);return(0,u.h)(r.vector,(0,u.g)(a,a,l),2),r}function B(t,n,r,i){const e=P(t);(0,d.mR)(e,n.direction,n.origin,r),(0,d.mR)((0,d.Qj)(r),e,n.origin,i)}const C={plane:(0,d.vt)(),origin:(0,a.fA)(0,0,0),basis1:(0,a.fA)(1,0,0),basis2:(0,a.fA)(0,1,0)},F=new o.I(d.vt),V=new o.I(f.vt),H=(0,a.vt)(),U=new o.I((()=>y())),D=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],Y=(0,c.vt)(),$=(0,c.vt)(),X=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:I,altitudeAt:w,axisAt:function(t,n,r,i){return function(t,n,r){switch(n){case g._.X:(0,u.c)(r,t.basis1),(0,u.n)(r,r);break;case g._.Y:(0,u.c)(r,t.basis2),(0,u.n)(r,r);break;case g._.Z:(0,u.c)(r,P(t))}return r}(t,r,i)},cameraFrustumCoverage:function(t,n){return(n-t)/n},closestPoint:N,closestPointOnSilhouette:_,copy:q,copyWithoutVerify:function(t,n){(0,u.c)(n.origin,t.origin),(0,u.c)(n.basis1,t.basis1),(0,u.c)(n.basis2,t.basis2),(0,d.C)(n.plane,t.plane)},create:y,distance:R,distance2:O,distanceToSilhouette:function(t,n){let r=Number.NEGATIVE_INFINITY;for(const i of D){const e=k(t,i,V.get()),o=(0,f.kb)(e,n);o>r&&(r=o)}return Math.sqrt(r)},elevate:m,equals:function(t,n){return(0,u.p)(t.basis1,n.basis1)&&(0,u.p)(t.basis2,n.basis2)&&(0,u.p)(t.origin,n.origin)},extrusionContainsPoint:function(t,n){return(0,d.Tj)(t.plane,n)&&S(t,n)},fromAABoundingRect:j,fromValues:A,getExtent:function(t,n){const r=t.basis1[0],i=t.basis2[1],[e,o]=t.origin;return(0,l.fA)(e-r,o-i,e+r,o+i,n)},intersectRay:E,intersectRayClosestSilhouette:function(t,n,r){if(E(t,n,r))return r;const i=_(t,n,p.rq.get());return(0,u.g)(r,n.origin,(0,u.h)(p.rq.get(),n.direction,(0,u.j)(n.origin,i)/(0,u.l)(n.direction))),r},normal:P,projectPoint:L,projectPointLocal:T,rotate:function(t,n,r,i){return t!==i&&q(t,i),(0,s.$0)($,n,r),(0,u.t)(i.basis1,t.basis1,$),(0,u.t)(i.basis2,t.basis2,$),M(i),i},setAltitudeAt:function(t,n,r,i){const e=w(t,n),o=(0,u.h)(H,P(t),r-e);return(0,u.g)(i,n,o),i},setExtent:function(t,n,r){return j(n,r),m(r,w(t,t.origin),r),r},transform:function(t,n,r){return t!==r&&q(t,r),(0,s.B8)(Y,n),(0,s.mg)(Y,Y),(0,u.t)(r.basis1,t.basis1,Y),(0,u.t)(r.basis2,t.basis2,Y),(0,u.t)((0,d.Qj)(r.plane),(0,d.Qj)(t.plane),Y),(0,u.t)(r.origin,t.origin,n),(0,d.mP)(r.plane,r.plane,r.origin),r},up:C,updateUnboundedPlane:M,wrap:function(t,n,r){const i=U.get();return i.origin=t,i.basis1=n,i.basis2=r,i.plane=(0,d.LV)(0,0,0,0),M(i),i}},Symbol.toStringTag,{value:"Module"}))},94669:function(t,n,r){r.d(n,{C:function(){return a},Cr:function(){return g},H6:function(){return h},_I:function(){return d},dz:function(){return p},fA:function(){return l},kb:function(){return f},ld:function(){return v},sd:function(){return b},vt:function(){return u}});var i=r(4506),e=r(82444),o=r(80347),s=r(19913),c=r(11631);function u(t){return t?{origin:(0,s.o8)(t.origin),vector:(0,s.o8)(t.vector)}:{origin:(0,s.vt)(),vector:(0,s.vt)()}}function a(t,n=u()){return l(t.origin,t.vector,n)}function l(t,n,r=u()){return(0,o.c)(r.origin,t),(0,o.c)(r.vector,n),r}function g(t,n,r=u()){return(0,o.c)(r.origin,t),(0,o.d)(r.vector,n,t),r}function f(t,n){const r=(0,o.d)(c.rq.get(),n,t.origin),e=(0,o.f)(t.vector,r),s=(0,o.f)(t.vector,t.vector),u=(0,i.qE)(e/s,0,1),a=(0,o.d)(c.rq.get(),(0,o.h)(c.rq.get(),t.vector,u),r);return(0,o.f)(a,a)}function d(t,n,r){return h(t,n,0,1,r)}function b(t,n,r){return(0,o.g)(r,t.origin,(0,o.h)(r,t.vector,n))}function h(t,n,r,e,s){const{vector:u,origin:a}=t,l=(0,o.d)(c.rq.get(),n,a),g=(0,o.f)(u,l)/(0,o.k)(u);return(0,o.h)(s,u,(0,i.qE)(g,r,e)),(0,o.g)(s,s,t.origin)}function p(t,n){if(I(t,function(t,n){const r=q.get();return r.origin=t,r.vector=n,r}(n.origin,n.direction),!1,y)){const{tA:n,pB:r,distance2:i}=y;if(n>=0&&n<=1)return i;if(n<0)return(0,o.s)(t.origin,r);if(n>1)return(0,o.s)((0,o.g)(c.rq.get(),t.origin,t.vector),r)}return null}function v(t,n,r){return!!I(t,n,!0,y)&&((0,o.c)(r,y.pA),!0)}function I(t,n,r,e){const s=1e-6,u=t.origin,a=(0,o.g)(c.rq.get(),u,t.vector),l=n.origin,g=(0,o.g)(c.rq.get(),l,n.vector),f=c.rq.get(),d=c.rq.get();if(f[0]=u[0]-l[0],f[1]=u[1]-l[1],f[2]=u[2]-l[2],d[0]=g[0]-l[0],d[1]=g[1]-l[1],d[2]=g[2]-l[2],Math.abs(d[0])<s&&Math.abs(d[1])<s&&Math.abs(d[2])<s)return!1;const b=c.rq.get();if(b[0]=a[0]-u[0],b[1]=a[1]-u[1],b[2]=a[2]-u[2],Math.abs(b[0])<s&&Math.abs(b[1])<s&&Math.abs(b[2])<s)return!1;const h=f[0]*d[0]+f[1]*d[1]+f[2]*d[2],p=d[0]*b[0]+d[1]*b[1]+d[2]*b[2],v=f[0]*b[0]+f[1]*b[1]+f[2]*b[2],I=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],y=(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])*I-p*p;if(Math.abs(y)<s)return!1;let q=(h*p-v*I)/y,A=(h+p*q)/I;r&&(q=(0,i.qE)(q,0,1),A=(0,i.qE)(A,0,1));const M=c.rq.get(),m=c.rq.get();return M[0]=u[0]+q*b[0],M[1]=u[1]+q*b[1],M[2]=u[2]+q*b[2],m[0]=l[0]+A*d[0],m[1]=l[1]+A*d[1],m[2]=l[2]+A*d[2],e.tA=q,e.tB=A,e.pA=M,e.pB=m,e.distance2=(0,o.s)(M,m),!0}const y={tA:0,tB:0,pA:(0,s.vt)(),pB:(0,s.vt)(),distance2:0},q=new e.I((()=>u()))},38952:function(t,n,r){r.d(n,{MQ:function(){return e}});r(30165);var i=r(76388);r(2680);class e extends i.R6{constructor(t,n,r){super(t,n),this.triangleNr=r}}},30165:function(t,n,r){var i,e;r.d(n,{H6:function(){return o},dz:function(){return i},oH:function(){return e}}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(i||(i={}));class o{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=e.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(e||(e={}))},76388:function(t,n,r){r.d(n,{B$:function(){return o},HE:function(){return s},R6:function(){return c}});var i=r(19913);class e{constructor(t,n,r){this.object=t,this.geometryId=n,this.triangleNr=r}}class o extends e{constructor(t,n,r,e){super(t,n,r),this.center=null!=e?(0,i.o8)(e):null}}class s{constructor(t){this.layerUid=t}}class c extends s{constructor(t,n){super(t),this.graphicUid=n}}},2680:function(t,n,r){r.d(n,{i3:function(){return e}});r(80347);var i=r(19913);r(7775),r(30165);function e(t){return null!=t?.dist}(0,i.vt)()},62847:function(t,n,r){r.d(n,{h:function(){return e}});r(30165);var i=r(76388);r(2680);class e extends i.R6{constructor(t,n,r,i,e,o){super(t,n),this.layerUid=t,this.graphicUid=n,this.geometryId=r,this.triangleNr=i,this.baseBoundingSphere=e,this.numLodLevels=o}}}}]);
//# sourceMappingURL=391.b36daf6e48f84a177ea7.js.map