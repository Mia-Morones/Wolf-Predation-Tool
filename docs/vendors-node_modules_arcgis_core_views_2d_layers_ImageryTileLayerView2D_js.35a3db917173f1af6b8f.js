"use strict";
(self["webpackChunkreact_redux_arcgis_boilerplate"] = self["webpackChunkreact_redux_arcgis_boilerplate"] || []).push([["vendors-node_modules_arcgis_core_views_2d_layers_ImageryTileLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/BrushRasterBitmap.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/BrushRasterBitmap.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _RasterBitmap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RasterBitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterBitmap.js");
/* harmony import */ var _colorizer_rasterColorizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./colorizer/rasterColorizer.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/rasterColorizer.js");
/* harmony import */ var _processor_rasterProcessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./processor/rasterProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/rasterProcessor.js");
/* harmony import */ var _webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _webgl_VertexStream_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webgl/VertexStream.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/VertexStream.js");
/* harmony import */ var _webgl_brushes_WGLBrush_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../webgl/brushes/WGLBrush.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../webgl/FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/rasterUtils.js */ "./node_modules/@arcgis/core/views/webgl/rasterUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class h extends _webgl_brushes_WGLBrush_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(){super(...arguments),this.name="raster",this._quad=null,this._rendererUniformInfos=new Map,this._fbo=null}dispose(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._quad),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._fbo)}prepareState(e){const{context:t,renderPass:r}=e,s="raster"===r;t.setBlendingEnabled(!s),t.setBlendFunctionSeparate(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.BlendFactor.ONE_MINUS_SRC_ALPHA,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.BlendFactor.ONE_MINUS_SRC_ALPHA),t.setColorMask(!0,!0,!0,!0),t.setStencilWriteMask(0),t.setStencilTestEnabled(!s)}draw(e,r){if(!(0,_RasterBitmap_js__WEBPACK_IMPORTED_MODULE_1__.hasSource)(r)||r.suspended)return;const{renderPass:s}=e;if("raster-bitmap"!==s)return"raster"===s?this._process(e,r):void this._drawBitmap(e,r,!0);this._drawBitmap(e,r)}_process(t,r){const{rasterFunction:i}=t,o="Reproject"===i.name;if(!(o?!(r.rasterTexture&&r.projected):!r.processed))return;const{timeline:n,context:a}=t;n.begin(this.name);const d=a.getBoundFramebufferObject(),c=a.getViewport();o||(r.processedTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(r.processedTexture)),a.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.CompareFunction.EQUAL,r.stencilRef,255),r.updateTexture(t),this._initQuad(a);const[f,u]=r.getRasterTextureSize(o),{isStandardRasterTileSize:p,fbo:h}=this._getRasterFBO(a,f,u);(0,_processor_rasterProcessor_js__WEBPACK_IMPORTED_MODULE_3__.process)(t,this._quad,h,r),p||h.dispose(),a.bindFramebuffer(d),a.setViewport(c.x,c.y,c.width,c.height),n.end(this.name)}_drawBitmap(e,t,s=!1){const{timeline:i,context:o}=e;if(i.begin(this.name),o.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.CompareFunction.EQUAL,t.stencilRef,255),t.updateTexture(e),s&&!t.processedTexture){if(t.updateProcessedTexture(),!t.processedTexture)return void i.end(this.name);t.processed=!0}this._initBitmapCommonUniforms(t);const a=t.symbolizerParameters.type,d=(0,_colorizer_rasterColorizer_js__WEBPACK_IMPORTED_MODULE_2__.getColorizer)(a),{requestRender:c,allowDelayedRender:f}=e,{defines:u,program:p}=d.createProgram(e,t,t.projected&&s);if(f&&null!=c&&!p.compiled)return void c();o.useProgram(p);const h=this._getUniformInfos(a,o,p,u);this._quad||(this._quad=new _webgl_VertexStream_js__WEBPACK_IMPORTED_MODULE_5__["default"](o,[0,0,1,0,0,1,1,1])),d.bindTextureAndUniforms(e,p,t,h,s),this._quad.draw(),i.end(this.name)}_initBitmapCommonUniforms(e){if(!e.commonUniforms){const t=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_9__.getBasicGridUniforms)(1,[0,0]),{transformGrid:r,width:s,height:i}=e,o=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_9__.getCommonUniforms)(r,[s,i],[e.source.width,e.source.height],1,!1);e.commonUniforms={...t,...o,u_coordScale:e.coordScale}}}_getRasterFBO(e,t,r){const s=t===_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize&&r===_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.tileSize;return s?(this._fbo||(this._fbo=this._createNewFBO(e,t,r)),{isStandardRasterTileSize:s,fbo:this._fbo}):{isStandardRasterTileSize:s,fbo:this._createNewFBO(e,t,r)}}_createNewFBO(e,t,r){const s=(0,_processor_rasterProcessor_js__WEBPACK_IMPORTED_MODULE_3__.createTextureDescriptor)(t,r);return new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_8__.FramebufferObject(e,s)}_initQuad(e){this._quad||(this._quad=new _webgl_VertexStream_js__WEBPACK_IMPORTED_MODULE_5__["default"](e,[0,0,1,0,0,1,1,1]))}_getUniformInfos(e,t,r,s){const i=s.length>0?e+"-"+s.join("-"):e;if(this._rendererUniformInfos.has(i))return this._rendererUniformInfos.get(i);const o=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUniformLocationInfos)(t,r);return this._rendererUniformInfos.set(i,o),o}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterBitmap.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterBitmap.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RasterBitmap: function() { return /* binding */ _; },
/* harmony export */   RasterBitmapWithSource: function() { return /* binding */ x; },
/* harmony export */   hasSource: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f32.js");
/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/rasterUtils.js */ "./node_modules/@arcgis/core/views/webgl/rasterUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const p={bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,stretchType:"none",type:"stretch"};class _ extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_4__.DisplayObject{constructor(e=null,t=null,s=null){super(),this._textureInvalidated=!0,this._colormapTextureInvalidated=!0,this._rasterTexture=null,this._rasterTextureBandIds=null,this._transformGridTexture=null,this._colormapTexture=null,this._colormap=null,this._supportsBilinearTexture=!0,this._processedTexture=null,this.functionTextures=[],this.projected=!1,this.stencilRef=0,this.coordScale=[1,1],this._processed=!1,this._symbolizerParameters=null,this.height=null,this.isRendereredSource=!1,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this.rawPixelData=null,this._suspended=!1,this._bandIds=null,this._interpolation=null,this._transformGrid=null,this.width=null,this.x=0,this.y=0,this.source=e,this.transformGrid=t,this.interpolation=s}destroy(){this._disposeTextures()}get processedTexture(){return this._processedTexture}set processedTexture(e){this._processedTexture!==e&&(this._disposeTextures(!0),this._processedTexture=e)}get rasterTexture(){return this._rasterTexture}set rasterTexture(e){this._rasterTexture!==e&&(this._rasterTexture?.dispose(),this._rasterTexture=e),null==e&&(this.projected=!1)}get processed(){return this._processed}set processed(t){this._processed=t,t||((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.processedTexture),this.invalidateTexture())}get symbolizerParameters(){return this._symbolizerParameters||p}set symbolizerParameters(e){this._symbolizerParameters!==e&&(this._symbolizerParameters=e,this._colormapTextureInvalidated=!0,this.commonUniforms=null)}get source(){return this._source}set source(e){this._source!==e&&(this._source=e,this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null),this.commonUniforms=null,this.projected=!1,this.invalidateTexture())}get suspended(){return this._suspended}set suspended(e){this._suspended&&!e&&this.stage&&(this.ready(),this.requestRender()),this._suspended=e}get bandIds(){return this._bandIds}set bandIds(e){this._bandIds=e,this._isBandIdsChanged(e)&&(this.projected=!1,this.invalidateTexture())}get interpolation(){return this._interpolation||"nearest"}set interpolation(e){this._interpolation=e,this._rasterTexture&&this._rasterTexture.setSamplingMode("bilinear"===this._getTextureSamplingMethod(e||"nearest")?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.TextureSamplingMode.LINEAR:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.TextureSamplingMode.NEAREST)}get transformGrid(){return this._transformGrid}set transformGrid(t){this._transformGrid!==t&&(this._transformGrid=t,this._transformGridTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._transformGridTexture))}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRender())}getRasterTextureSize(e=!1){const t=e||this.projected;return[t?this.width:this.source?.width||this.width,t?this.height:this.source?.height||this.height]}getRasterCellSize(){const e=this.rawPixelData?.srcPixelSize,{projected:t,resolution:s}=this;return e&&!t?[e.x,e.y]:[s,s]}_createTransforms(){return{displayViewScreenMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.create)()}}setTransform(e){const a=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.identity)(this.transforms.displayViewScreenMat3),[h,n]=e.toScreenNoRotation([0,0],[this.x,this.y]),l=this.resolution/this.pixelRatio/e.resolution,d=l*this.width,c=l*this.height,p=Math.PI*this.rotation/180;(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.translate)(a,a,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(h,n)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.translate)(a,a,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(d/2,c/2)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.rotate)(a,a,-p),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.translate)(a,a,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(-d/2,-c/2)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.scaleByVec2)(a,a,(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(d,c)),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.multiply)(this.transforms.displayViewScreenMat3,e.displayViewMat3,a)}getTextures({forProcessing:e=!1,useProcessedTexture:t=!1}={}){const s=t?this._processedTexture??this._rasterTexture:this._rasterTexture,r=[],i=[];return s?(this._transformGridTexture&&!this.projected&&(i.push(this._transformGridTexture),r.push("u_transformGrid")),t?(i.push(s),r.push("u_image"),this._colormapTexture&&(i.push(this._colormapTexture),r.push("u_colormap")),{names:r,textures:i}):(i.push(s),r.push("u_image"),this._colormapTexture&&!e&&(i.push(this._colormapTexture),r.push("u_colormap")),{names:r,textures:i})):{names:r,textures:i}}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}updateTexture({context:e}){if(!this.stage)return void this._disposeTextures();const t=this._isValidSource(this.source);t&&this._colormapTextureInvalidated&&(this._colormapTextureInvalidated=!1,this._updateColormapTexture(e)),this._textureInvalidated&&(this._textureInvalidated=!1,this._createOrDestroyRasterTexture(e),this._rasterTexture&&(t?this.transformGrid&&!this._transformGridTexture&&(this._transformGridTexture=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_6__.createTransformTexture)(e,this.transformGrid)):this._rasterTexture.setData(null)),this.suspended||(this.ready(),this.requestRender()))}updateProcessedTexture(){const{functionTextures:e}=this;0!==e.length&&(this.processedTexture=e.shift(),e.forEach((e=>e?.dispose())),e.length=0)}_createOrDestroyRasterTexture(e){const t=this.source?.extractBands(this.bandIds);if(!this._isValidSource(t))return void(this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null));const s=!this._isBandIdsChanged(this.bandIds);if(this._rasterTexture){if(s)return;this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null}this._supportsBilinearTexture=!!e.capabilities.textureFloatLinear;const r=this._getTextureSamplingMethod(this.interpolation),i=this.isRendereredSource;this._rasterTexture=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_6__.createRasterTexture)(e,t,r,i),this.projected=!1,this._processed=!1,this._rasterTextureBandIds=this.bandIds?[...this.bandIds]:null}_isBandIdsChanged(e){const t=this._rasterTextureBandIds;return!(null==t&&null==e||t&&e&&t.join("")===e.join(""))}_isValidSource(e){return null!=e&&e.pixels?.length>0}_getTextureSamplingMethod(e){const{type:t}=this.symbolizerParameters,s="lut"===t&&!this.symbolizerParameters.isClassBreaks||"hillshade"===t||"stretch"===t&&1===this.symbolizerParameters.bandCount;return!this._supportsBilinearTexture||s||"bilinear"!==e&&"cubic"!==e?"nearest":"bilinear"}_updateColormapTexture(e){const t=this._colormap,s=this.symbolizerParameters.colormap;return s?t?s.length!==t.length||s.some(((e,s)=>e!==t[s]))?(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),this._colormapTexture=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_6__.createColormapTexture)(e,s),void(this._colormap=s)):void 0:(this._colormapTexture=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_6__.createColormapTexture)(e,s),void(this._colormap=s)):(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),void(this._colormap=null))}_disposeTextures(e=!1){!this._transformGridTexture||e&&!this.projected||(this._transformGridTexture.dispose(),this._transformGridTexture=null),!e&&this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null,this._colormap=null,this._colormapTextureInvalidated=!0),!e&&this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null),this._processedTexture&&(this._processedTexture.dispose(),this._processedTexture=null)}}class x extends _{get source(){return this._source}}function m(e){return null!=e.source}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterTile.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterTile.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RasterTile: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f32.js");
/* harmony import */ var _RasterBitmap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RasterBitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterBitmap.js");
/* harmony import */ var _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl/TiledDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i extends _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__.TiledDisplayObject{constructor(t,e,i,a,r,l,n=null){super(t,e,i,a,r,l),this.bitmap=null,this.bitmap=new _RasterBitmap_js__WEBPACK_IMPORTED_MODULE_1__.RasterBitmap(n,null,null),this.bitmap.coordScale=[r,l],this.bitmap.once("isReady",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t){super.setTransform(t),this.bitmap.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}_createTransforms(){return{displayViewScreenMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.create)(),tileMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.create)()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterTileContainer.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterTileContainer.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RasterTileContainer: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _viewpointUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../viewpointUtils.js */ "./node_modules/@arcgis/core/views/2d/viewpointUtils.js");
/* harmony import */ var _BrushRasterBitmap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BrushRasterBitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/BrushRasterBitmap.js");
/* harmony import */ var _RasterTile_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RasterTile.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterTile.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class o extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_5__["default"]{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const r=this._getTileBounds(e),[s,i]=this.tileInfoView.tileInfo.size,n=this.tileInfoView.getTileResolution(e.level);return new _RasterTile_js__WEBPACK_IMPORTED_MODULE_3__.RasterTile(e,n,r[0],r[3],s,i)}prepareRenderPasses(e){const r=e.registerRenderPass({name:"imagery (tile)",brushes:[_BrushRasterBitmap_js__WEBPACK_IMPORTED_MODULE_2__["default"]],target:()=>this.children.map((e=>e.bitmap)),drawPhase:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.MAP});return[...super.prepareRenderPasses(e),r]}doRender(e){if(!this.visible||e.drawPhase!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.MAP)return;const{rasterFunctionChain:r}=this;if(!r)return e.renderPass="raster-bitmap",void super.doRender(e);if(!r.hasFocalFunction){const[s,t]=this.tileInfoView.tileInfo.size;e.renderPass="raster",e.rasterFunction={name:"Reproject",parameters:{targetImageSize:[s,t],requireNNEdge:r.isSourceSingleBand},pixelType:"f32",id:0,isNoopProcess:!1},super.doRender(e)}if(r?.functions.length){const{functions:s,hasBranches:t}=r;for(let r=0;r<s.length;r++){const i=s[r];"Constant"!==i.name&&"Identity"!==i.name&&(e.renderPass="raster",e.rasterFunction=i,e.hasBranches=t,super.doRender(e))}}e.rasterFunction=null,e.renderPass="bitmap",super.doRender(e)}_getTileBounds(s){const t=this.tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),s);if(this.isCustomTilingScheme&&s.world){const{tileInfo:e}=this.tileInfoView,i=(0,_viewpointUtils_js__WEBPACK_IMPORTED_MODULE_1__.getWorldWidth)(e.spatialReference);if(i){const r=e.lodAt(s.level);if(!r)return t;const{resolution:n}=r,o=n*e.size[0];t[0]=i*s.world+e.origin.x+s.col*o,t[2]=t[0]+o}}return t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTile.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTile.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RasterVFTile: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f32.js");
/* harmony import */ var _RasterVFDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RasterVFDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFDisplayObject.js");
/* harmony import */ var _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webgl/TiledDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r extends _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_3__.TiledDisplayObject{constructor(t,e,s,a,r,l,o=null){super(t,e,s,a,r,l),this.tileData=new _RasterVFDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__.RasterVFDisplayObject(o),this.tileData.coordScale=[r,l],this.tileData.once("isReady",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{displayViewScreenMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_1__.create)(),tileMat3:(0,_core_libs_gl_matrix_2_factories_mat3f32_js__WEBPACK_IMPORTED_MODULE_1__.create)()}}setTransform(s){super.setTransform(s);const i=this.resolution/(s.resolution*s.pixelRatio),a=this.transforms.tileMat3,[r,l]=this.tileData.offset,o=[this.x+r*this.resolution,this.y-l*this.resolution],[n,h]=s.toScreenNoRotation([0,0],o),{symbolTileSize:c}=this.tileData.symbolizerParameters,f=Math.round((this.width-this.tileData.offset[0])/c)*c,m=Math.round((this.height-this.tileData.offset[1])/c)*c,D=f/this.rangeX*i,d=m/this.rangeY*i;(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.set)(a,D,0,0,0,d,0,n,h,1),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(this.transforms.displayViewScreenMat3,s.displayViewMat3,a),this.tileData.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTileContainer.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTileContainer.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RasterVFTileContainer: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _BrushVectorField_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BrushVectorField.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/BrushVectorField.js");
/* harmony import */ var _RasterVFTile_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RasterVFTile.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTile.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class o extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_4__["default"]{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=["triangle"]}createTile(s){const t=this.tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),s),[i,o]=this.tileInfoView.tileInfo.size,n=this.tileInfoView.getTileResolution(s.level);return new _RasterVFTile_js__WEBPACK_IMPORTED_MODULE_2__.RasterVFTile(s,n,t[0],t[3],i,o)}prepareRenderPasses(e){const r=e.registerRenderPass({name:"imagery (vf tile)",brushes:[_BrushVectorField_js__WEBPACK_IMPORTED_MODULE_1__["default"]],target:()=>this.children.map((e=>e.tileData)),drawPhase:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLDrawPhase.MAP});return[...super.prepareRenderPasses(e),r]}doRender(e){this.visible&&e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLDrawPhase.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/lut.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/lut.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/utils.js");
/* harmony import */ var _webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/rasterUtils.js */ "./node_modules/@arcgis/core/views/webgl/rasterUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const s={vsPath:"raster/common",fsPath:"raster/lut",attributes:new Map([["a_position",0],["a_texcoord",1]])};function a(t,e,o){const a=o?[]:(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getProjectionDefines)(e.transformGrid);return{defines:a,program:t.painter.materialManager.getProgram(s,a)}}function n(r,s,a,n,m=!1){const{names:i,textures:c}=a.getTextures({useProcessedTexture:m});(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setTextures)(r.context,s,i,c),(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setUniforms)(s,n,a.commonUniforms),s.setUniformMatrix3fv("u_dvsMat3",a.transforms.displayViewScreenMat3);const{colormap:f,colormapOffset:u}=a.symbolizerParameters,l=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.getColormapUniforms)(f,u);(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setUniforms)(s,n,l)}const m={createProgram:a,bindTextureAndUniforms:n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/rasterColorizer.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/rasterColorizer.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getColorizer: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _lut_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lut.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/lut.js");
/* harmony import */ var _shadedrelief_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shadedrelief.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/shadedrelief.js");
/* harmony import */ var _stretch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stretch.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/stretch.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const s=new Map;function o(t){return s.get(t)}s.set("lut",_lut_js__WEBPACK_IMPORTED_MODULE_0__["default"]),s.set("hillshade",_shadedrelief_js__WEBPACK_IMPORTED_MODULE_1__["default"]),s.set("stretch",_stretch_js__WEBPACK_IMPORTED_MODULE_2__["default"]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/shadedrelief.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/shadedrelief.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/utils.js");
/* harmony import */ var _webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/rasterUtils.js */ "./node_modules/@arcgis/core/views/webgl/rasterUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n={vsPath:"raster/common",fsPath:"raster/hillshade",attributes:new Map([["a_position",0],["a_texcoord",1]])};function i(e,o,s){const{colormap:a}=o.symbolizerParameters,i=[...s?[]:(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getProjectionDefines)(o.transformGrid),...(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getInterpolationDefines)(o.interpolation,!0,e.context)];null!=a&&i.push("applyColormap");return{defines:i,program:e.painter.materialManager.getProgram(n,i)}}function m(r,t,n,i,m=!1){const{names:c,textures:l}=n.getTextures({useProcessedTexture:m});(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setTextures)(r.context,t,c,l),(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setUniforms)(t,i,n.commonUniforms),t.setUniformMatrix3fv("u_dvsMat3",n.transforms.displayViewScreenMat3);const f=n.symbolizerParameters,{colormap:p,colormapOffset:u}=f;if(null!=p){const r=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.getColormapUniforms)(p,u);(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setUniforms)(t,i,r)}const d=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.getShadedReliefUniforms)(f);(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setUniforms)(t,i,{...d,u_scaling:1})}const c={createProgram:i,bindTextureAndUniforms:m};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/stretch.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/stretch.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/utils.js");
/* harmony import */ var _webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/rasterUtils.js */ "./node_modules/@arcgis/core/views/webgl/rasterUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n={vsPath:"raster/common",fsPath:"raster/stretch",attributes:new Map([["a_position",0],["a_texcoord",1]])};function i(e,o,s){const{colormap:a,bandCount:i}=o.symbolizerParameters,m=[...s?[]:(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getProjectionDefines)(o.transformGrid),...(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getInterpolationDefines)(o.interpolation,1===i,e.context)];o.isRendereredSource&&!s?m.push("noop"):null!=a&&m.push("applyColormap");return{defines:m,program:e.painter.materialManager.getProgram(n,m)}}function m(r,t,n,i,m=!1){const{names:c,textures:l}=n.getTextures({useProcessedTexture:m});(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setTextures)(r.context,t,c,l),(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setUniforms)(t,i,n.commonUniforms),t.setUniformMatrix3fv("u_dvsMat3",n.transforms.displayViewScreenMat3);const p=n.symbolizerParameters,{colormap:u,colormapOffset:f}=p;if(null!=u){const r=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.getColormapUniforms)(u,f);(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setUniforms)(t,i,r)}const d=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.getStretchUniforms)(p);(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setUniforms)(t,i,d)}const c={createProgram:i,bindTextureAndUniforms:m};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/utils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/colorizer/utils.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getInterpolationDefines: function() { return /* binding */ n; },
/* harmony export */   getProjectionDefines: function() { return /* binding */ i; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function i(i){const n=[];return i&&(n.push("applyProjection"),1===i.spacing[0]&&n.push("lookupProjection")),n}function n(i,n,e){const u=!e.capabilities.textureFloatLinear,t=[];return"cubic"===i?t.push("bicubic"):"bilinear"===i&&(n?(t.push("bilinear"),t.push("nnedge")):u&&t.push("bilinear")),t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/aspectProcessor.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/aspectProcessor.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const r={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/aspect",attributes:new Map([["a_position",0],["a_texcoord",1]])};function a(t,e){return t.painter.materialManager.getProgram(r,[])}function s(r,a,s){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(r,a,s),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(a);const n=s.getRasterTextureSize();a.setUniform2fv("u_srcImageSize",n);const o=s.getRasterCellSize();a.setUniform2fv("u_cellSize",o)}const n={createProgram:a,bindTextureAndUniforms:s};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/bandArithmeticProcessor.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/bandArithmeticProcessor.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const a={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/bandarithmetic",attributes:new Map([["a_position",0],["a_texcoord",1]])};function e(t,r){const{painter:e,rasterFunction:n}=t,{indexType:s,isOutputRounded:o}=n.parameters,i=[s];return o&&i.push("roundOutput"),e.materialManager.getProgram(a,i)}function n(a,e,n){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(a,e,n),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(e);const{bandIndexMat3:s}=a.rasterFunction.parameters;e.setUniformMatrix3fv("u_bandIndexMat3",s)}const s={createProgram:e,bindTextureAndUniforms:n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/colormapToRGBProcessor.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/colormapToRGBProcessor.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const o={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/colormap2rgb",attributes:new Map([["a_position",0],["a_texcoord",1]])};function e(r){const{painter:t}=r;return t.materialManager.getProgram(o,[])}function a(o,e,a){const{indexedColormap:n,offset:s}=o.rasterFunction.parameters;(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(o,e,a,n),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(e),e.setUniform1f("u_colormapOffset",s),e.setUniform1f("u_colormapMaxIndex",n.length/4-1)}const n={createProgram:e,bindTextureAndUniforms:a};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/compositeBandProcessor.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/compositeBandProcessor.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/compositeband",attributes:new Map([["a_position",0],["a_texcoord",1]])};function a(t,r){const a=t.rasterFunction.parameters.rasters.filter((t=>"Constant"===t.name)),e=[];return a.length&&(e.push("oneConstant"),2===a.length&&e.push("twoConstant")),t.painter.materialManager.getProgram(n,e)}function e(n,a,e){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setMultipleImageTextures)(n,a,e),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(a)}const s={createProgram:a,bindTextureAndUniforms:e};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/computeChangeProcessor.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/computeChangeProcessor.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/computechange",attributes:new Map([["a_position",0],["a_texcoord",1]])};function r(t){const{painter:e,rasterFunction:r}=t,{method:a,rasters:s,isOutputRounded:o}=r.parameters,i=[a.includes("-")?a.slice(0,a.indexOf("-")):a];return s.filter((t=>"Constant"===t.name)).length&&i.push("oneConstant"),o&&i.push("roundOutput"),e.materialManager.getProgram(n,i)}function a(n,r,a){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setMultipleImageTextures)(n,r,a),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(r);const{domainRange:s}=n.rasterFunction.parameters;r.setUniform2fv("u_domainRange",s)}const s={createProgram:r,bindTextureAndUniforms:a};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/contrastProcessor.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/contrastProcessor.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const s={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/contrast",attributes:new Map([["a_position",0],["a_texcoord",1]])};function e(t,r){return t.painter.materialManager.getProgram(s,[])}function a(s,e,a){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(s,e,a),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(e);const{contrastOffset:n,brightnessOffset:o}=s.rasterFunction.parameters;e.setUniform1f("u_contrastOffset",n),e.setUniform1f("u_brightnessOffset",o)}const n={createProgram:e,bindTextureAndUniforms:a};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/convolutionProcessor.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/convolutionProcessor.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/convolution",attributes:new Map([["a_position",0],["a_texcoord",1]])};function a(e,r){const{painter:a,rasterFunction:n}=e,{kernelRows:o,kernelCols:s}=n.parameters,i=[{name:"rows",value:o},{name:"cols",value:s}];return a.materialManager.getProgram(t,i)}function n(t,a,n){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(t,a,n),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(a),a.setUniform2fv("u_srcImageSize",[n.width,n.height]);const{kernel:o,clampRange:s}=t.rasterFunction.parameters;a.setUniform1fv("u_kernel",o),a.setUniform2fv("u_clampRange",s)}const o={createProgram:a,bindTextureAndUniforms:n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/curvatureProcessor.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/curvatureProcessor.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const e={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/curvature",attributes:new Map([["a_position",0],["a_texcoord",1]])};function a(r,t){const{painter:a,rasterFunction:s}=r,{curvatureType:n}=s.parameters,o=[n];return a.materialManager.getProgram(e,o)}function s(e,a,s){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(e,a,s),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(a);const n=s.getRasterTextureSize();a.setUniform2fv("u_srcImageSize",n);const{zFactor:o}=e.rasterFunction.parameters,i=s.getRasterCellSize();a.setUniform1f("u_zlFactor",200*o/i[0]/i[1])}const n={createProgram:a,bindTextureAndUniforms:s};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/extractBandProcessor.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/extractBandProcessor.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const a={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/extractband",attributes:new Map([["a_position",0],["a_texcoord",1]])};function e(t,r){return t.painter.materialManager.getProgram(a,[])}function n(a,e,n){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(a,e,n),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(e);const{bandIndexMat3:o}=a.rasterFunction.parameters;e.setUniformMatrix3fv("u_bandIndexMat3",o)}const o={createProgram:e,bindTextureAndUniforms:n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/focalStatisticsProcessor.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/focalStatisticsProcessor.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const e={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/focalstatistics",attributes:new Map([["a_position",0],["a_texcoord",1]])};function r(t,a){const{painter:r,rasterFunction:s}=t,{kernelRows:n,kernelCols:o,fillNoDataOnly:i,statisticsType:c}=s.parameters,l=[{name:"rows",value:n},{name:"cols",value:o},c];return i&&l.push("fill"),r.materialManager.getProgram(e,l)}function s(e,r,s){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(e,r,s),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(r),r.setUniform2fv("u_srcImageSize",[s.width,s.height]);const{clampRange:n}=e.rasterFunction.parameters;r.setUniform2fv("u_clampRange",n)}const n={createProgram:r,bindTextureAndUniforms:s};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/grayscaleProcessor.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/grayscaleProcessor.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const a={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/grayscale",attributes:new Map([["a_position",0],["a_texcoord",1]])};function e(t,r){return t.painter.materialManager.getProgram(a,[])}function s(a,e,s){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(a,e,s),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(e);const{weights:n}=a.rasterFunction.parameters;e.setUniform3fv("u_weights",n)}const n={createProgram:e,bindTextureAndUniforms:s};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/hillshadeProcessor.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/hillshadeProcessor.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const s={vsPath:"raster/rfx/vs",fsPath:"raster/hillshade",attributes:new Map([["a_position",0],["a_texcoord",1]])};function r(e,t){const{indexedColormap:r}=e.rasterFunction.parameters,o=[];return r?.length&&o.push("applyColormap"),e.painter.materialManager.getProgram(s,o)}function o(s,r,o){const i=s.rasterFunction.parameters,{indexedColormap:n}=i;(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(s,r,o,n),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(r);const a=o.getRasterTextureSize();r.setUniform2fv("u_srcImageSize",a);const f=o.getRasterCellSize();r.setUniform2fv("u_cellSize",f);const{pixelSizeFactor:m}=i;if(0===m)r.setUniform2fv("u_factor",[i.factor[0]/f[0],i.factor[1]/f[1]]);else{const{zFactor:e,pixelSizePower:t,gcsFactor:s}=i,o=f[0]*s,n=f[1]*s,a=(e+o**t*m)/(8*o),c=(e+n**t*m)/(8*n);r.setUniform2fv("u_factor",[a,c])}r.setUniform1i("u_hillshadeType",i.hillshadeType),r.setUniform1fv("u_sinZcosAs",i.sinZcosAs),r.setUniform1fv("u_sinZsinAs",i.sinZsinAs),r.setUniform1fv("u_cosZs",i.cosZs),r.setUniform1fv("u_weights",i.weights),r.setUniform1f("u_opacity",1),r.setUniform1i("u_flipY",0),r.setUniform1f("u_scaling",255),r.setUniform1f("u_minValue",i.minValue),r.setUniform1f("u_maxValue",i.maxValue),n&&(r.setUniform1f("u_colormapOffset",i.offset),r.setUniform1f("u_colormapMaxIndex",n.length/4-1))}const i={createProgram:r,bindTextureAndUniforms:o};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/localProcessor.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/localProcessor.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const a={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/local",attributes:new Map([["a_position",0],["a_texcoord",1]])};function e(t){const{painter:n,rasterFunction:e}=t,{imageCount:r,operationName:o,rasters:s,isOutputRounded:u}=e.parameters,i=[o.toLowerCase()];2===r&&i.push("twoImages");const m=s.filter((t=>"Constant"===t.name));return m.length&&(i.push("oneConstant"),2===m.length&&i.push("twoConstant")),u&&i.push("roundOutput"),n.materialManager.getProgram(a,i)}function r(a,e,r){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setMultipleImageTextures)(a,e,r),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(e);const{domainRange:o}=a.rasterFunction.parameters;e.setUniform2fv("u_domainRange",o)}const o={createProgram:e,bindTextureAndUniforms:r};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/maskProcessor.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/maskProcessor.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const r={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/mask",attributes:new Map([["a_position",0],["a_texcoord",1]])};function n(t,a){const{painter:n,rasterFunction:e}=t,s=e.parameters.bandCount>1?["multiBand"]:[];return n.materialManager.getProgram(r,s)}function e(r,n,e){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(r,n,e),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(n);const{includedRanges:s,noDataValues:o}=r.rasterFunction.parameters;n.setUniform1fv("u_includedRanges",s),n.setUniform1fv("u_noDataValues",o)}const s={createProgram:n,bindTextureAndUniforms:e};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/ndviProcessor.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/ndviProcessor.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const a={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/ndvi",attributes:new Map([["a_position",0],["a_texcoord",1]])};function e(t,r){const{painter:e,rasterFunction:n}=t,s=n.parameters.scaled?["scaled"]:[];return e.materialManager.getProgram(a,s)}function n(a,e,n){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(a,e,n),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(e);const{bandIndexMat3:s}=a.rasterFunction.parameters;e.setUniformMatrix3fv("u_bandIndexMat3",s)}const s={createProgram:e,bindTextureAndUniforms:n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/rasterProcessor.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/rasterProcessor.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createTextureDescriptor: function() { return /* binding */ R; },
/* harmony export */   process: function() { return /* binding */ C; }
/* harmony export */ });
/* harmony import */ var _aspectProcessor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aspectProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/aspectProcessor.js");
/* harmony import */ var _bandArithmeticProcessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bandArithmeticProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/bandArithmeticProcessor.js");
/* harmony import */ var _colormapToRGBProcessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./colormapToRGBProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/colormapToRGBProcessor.js");
/* harmony import */ var _compositeBandProcessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./compositeBandProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/compositeBandProcessor.js");
/* harmony import */ var _computeChangeProcessor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./computeChangeProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/computeChangeProcessor.js");
/* harmony import */ var _contrastProcessor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./contrastProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/contrastProcessor.js");
/* harmony import */ var _convolutionProcessor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./convolutionProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/convolutionProcessor.js");
/* harmony import */ var _curvatureProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./curvatureProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/curvatureProcessor.js");
/* harmony import */ var _extractBandProcessor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./extractBandProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/extractBandProcessor.js");
/* harmony import */ var _focalStatisticsProcessor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./focalStatisticsProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/focalStatisticsProcessor.js");
/* harmony import */ var _grayscaleProcessor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./grayscaleProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/grayscaleProcessor.js");
/* harmony import */ var _hillshadeProcessor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hillshadeProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/hillshadeProcessor.js");
/* harmony import */ var _localProcessor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./localProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/localProcessor.js");
/* harmony import */ var _maskProcessor_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./maskProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/maskProcessor.js");
/* harmony import */ var _ndviProcessor_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ndviProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/ndviProcessor.js");
/* harmony import */ var _remapProcessor_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./remapProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/remapProcessor.js");
/* harmony import */ var _reprojectProcessor_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./reprojectProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/reprojectProcessor.js");
/* harmony import */ var _slopeProcessor_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./slopeProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/slopeProcessor.js");
/* harmony import */ var _stretchProcessor_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./stretchProcessor.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/stretchProcessor.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const F=new Map;function R(r,e){const o=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_21__.TextureDescriptor;return o.width=r,o.height=e,o.internalFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.SizedPixelFormat.RGBA32F,o.samplingMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureSamplingMode.NEAREST,o.dataType=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.PixelType.FLOAT,o.isImmutable=!0,o.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_19__.TextureWrapMode.CLAMP_TO_EDGE,o}function y(r,e,o,t){const{context:s,requestRender:c,allowDelayedRender:i}=r,n=t.createProgram(r,o);return i&&null!=c&&!n.compiled?(c(),null):(s.bindFramebuffer(e),s.setViewport(0,0,e.width,e.height),s.useProgram(n),n)}function B(r){return F.get(r.toLowerCase())}function C(r,e,o,t){const s=r.rasterFunction.name.toLowerCase(),c="reproject"===s?_reprojectProcessor_js__WEBPACK_IMPORTED_MODULE_16__["default"]:B(s);if(null==c)return;const i=y(r,o,t,c);if(!i)return;c.bindTextureAndUniforms(r,i,t);const{interpolation:n}=t;"reproject"===s&&(t.interpolation="nearest"),e.draw();const[m,a]=t.getRasterTextureSize("reproject"===s),p=R(m,a),l=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_20__.Texture(r.context,p);if(o.copyToTexture(0,0,m,a,0,0,l),"reproject"===s)t.rasterTexture=l,t.projected=!0,t.interpolation=n;else{const e=r.hasBranches?r.rasterFunction.id:0;t.functionTextures[e]=l}}F.set("arithmetic",_localProcessor_js__WEBPACK_IMPORTED_MODULE_12__["default"]),F.set("aspect",_aspectProcessor_js__WEBPACK_IMPORTED_MODULE_0__["default"]),F.set("bandarithmetic",_bandArithmeticProcessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]),F.set("colormaptorgb",_colormapToRGBProcessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]),F.set("computechange",_computeChangeProcessor_js__WEBPACK_IMPORTED_MODULE_4__["default"]),F.set("compositeband",_compositeBandProcessor_js__WEBPACK_IMPORTED_MODULE_3__["default"]),F.set("convolution",_convolutionProcessor_js__WEBPACK_IMPORTED_MODULE_6__["default"]),F.set("contrastbrightness",_contrastProcessor_js__WEBPACK_IMPORTED_MODULE_5__["default"]),F.set("curvature",_curvatureProcessor_js__WEBPACK_IMPORTED_MODULE_7__["default"]),F.set("extractband",_extractBandProcessor_js__WEBPACK_IMPORTED_MODULE_8__["default"]),F.set("statistics",_focalStatisticsProcessor_js__WEBPACK_IMPORTED_MODULE_9__["default"]),F.set("grayscale",_grayscaleProcessor_js__WEBPACK_IMPORTED_MODULE_10__["default"]),F.set("hillshade",_hillshadeProcessor_js__WEBPACK_IMPORTED_MODULE_11__["default"]),F.set("shadedrelief",_hillshadeProcessor_js__WEBPACK_IMPORTED_MODULE_11__["default"]),F.set("local",_localProcessor_js__WEBPACK_IMPORTED_MODULE_12__["default"]),F.set("mask",_maskProcessor_js__WEBPACK_IMPORTED_MODULE_13__["default"]),F.set("ndvi",_ndviProcessor_js__WEBPACK_IMPORTED_MODULE_14__["default"]),F.set("remap",_remapProcessor_js__WEBPACK_IMPORTED_MODULE_15__["default"]),F.set("slope",_slopeProcessor_js__WEBPACK_IMPORTED_MODULE_17__["default"]),F.set("stretch",_stretchProcessor_js__WEBPACK_IMPORTED_MODULE_18__["default"]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/remapProcessor.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/remapProcessor.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const r={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/remap",attributes:new Map([["a_position",0],["a_texcoord",1]])};function e(a,t){return a.painter.materialManager.getProgram(r,[])}function n(r,e,n){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(r,e,n),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(e);const{noDataRanges:s,rangeMaps:o,allowUnmatched:f,clampRange:i}=r.rasterFunction.parameters;e.setUniform1fv("u_noDataRanges",s),e.setUniform1fv("u_rangeMaps",o),e.setUniform1f("u_unmatchMask",f?1:0),e.setUniform2fv("u_clampRange",i)}const s={createProgram:e,bindTextureAndUniforms:n};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/reprojectProcessor.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/reprojectProcessor.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/rasterUtils.js */ "./node_modules/@arcgis/core/views/webgl/rasterUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const e={vsPath:"raster/common",fsPath:"raster/reproject",attributes:new Map([["a_position",0],["a_texcoord",1]])};function i(r,t){const{painter:i}=r,o=[],{interpolation:s,transformGrid:n}=t,a=r.rasterFunction?.parameters;return"cubic"===s?o.push("bicubic"):"bilinear"===s&&(o.push("bilinear"),a?.requireNNEdge&&o.push("nnedge")),n&&(o.push("applyProjection"),1===n.spacing[0]&&o.push("lookupProjection")),i.materialManager.getProgram(e,o)}function o(e,i,o){const{names:s,textures:n}=o.getTextures({forProcessing:!0});(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_1__.setTextures)(e.context,i,s,n),i.setUniform1f("u_scale",1),i.setUniform2fv("u_offset",[0,0]),i.setUniform2fv("u_coordScale",[1,1]),i.setUniformMatrix3fv("u_dvsMat3",[2,0,0,0,2,0,-1,-1,0]),i.setUniform1i("u_flipY",0),i.setUniform1f("u_opacity",1);const{width:a,height:f,source:c,transformGrid:m}=o;i.setUniform2fv("u_srcImageSize",[c.width,c.height]),i.setUniform2fv("u_targetImageSize",[a,f]),i.setUniform2fv("u_transformSpacing",m?m.spacing:_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS),i.setUniform2fv("u_transformGridSize",m?m.size:_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS)}const s={createProgram:i,bindTextureAndUniforms:o};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/slopeProcessor.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/slopeProcessor.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const r={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/slope",attributes:new Map([["a_position",0],["a_texcoord",1]])};function s(e,t){const{painter:s,rasterFunction:o}=e,{slopeType:a,isOutputRounded:i}=o.parameters,n=[];return"percent-rise"===a&&n.push("percentRise"),i&&n.push("roundOutput"),s.materialManager.getProgram(r,n)}function o(r,s,o){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(r,s,o),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(s);const a=o.getRasterTextureSize();s.setUniform2fv("u_srcImageSize",a);const i=o.getRasterCellSize();s.setUniform2fv("u_cellSize",i);const{zFactor:n,slopeType:u,pixelSizePower:p,pixelSizeFactor:c}=r.rasterFunction.parameters;s.setUniform1f("u_zFactor",n),s.setUniform1f("u_pixelSizePower","adjusted"===u?p:0),s.setUniform1f("u_pixelSizeFactor","adjusted"===u?c:0)}const a={createProgram:s,bindTextureAndUniforms:o};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/stretchProcessor.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/stretchProcessor.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const a={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/stretch",attributes:new Map([["a_position",0],["a_texcoord",1]])};function u(t,r){const{useGamma:u,bandCount:e,isOutputRounded:n}=t.rasterFunction.parameters,o=[];return u&&o.push("useGamma"),e>1&&o.push("multiBand"),n&&o.push("roundOutput"),t.painter.materialManager.getProgram(a,o)}function e(a,u,e){(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setSingleImageTextures)(a,u,e),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setCoordsAndTransforms)(u);const{width:n,height:o}=e,m=a.rasterFunction.parameters;u.setUniform2fv("u_srcImageSize",[n,o]),u.setUniform1f("u_minOutput",m.outMin),u.setUniform1f("u_maxOutput",m.outMax),u.setUniform1fv("u_factor",m.factor),u.setUniform1fv("u_minCutOff",m.minCutOff),u.setUniform1fv("u_maxCutOff",m.maxCutOff),u.setUniform1fv("u_gamma",m.gamma),u.setUniform1fv("u_gammaCorrection",m.gammaCorrection)}const n={createProgram:u,bindTextureAndUniforms:e};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   setCoordsAndTransforms: function() { return /* binding */ i; },
/* harmony export */   setMultipleImageTextures: function() { return /* binding */ r; },
/* harmony export */   setSingleImageTextures: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../webgl/rasterUtils.js */ "./node_modules/@arcgis/core/views/webgl/rasterUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n=[1,1],a=[2,0,0,0,2,0,-1,-1,0];function s(n,a,s,r){const{context:i,rasterFunction:o,hasBranches:f}=n,{raster:u}=o.parameters,m=f?u?.id??-1:0,c=[s.functionTextures[m]??s.rasterTexture],l=["u_image"];if(r){const e=(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_0__.createColormapTexture)(i,r);s.functionTextures[100]=e,c.push(e),l.push("u_colormap")}(0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_0__.setTextures)(i,a,l,c)}function r(t,n,a){const{rasters:r}=t.rasterFunction.parameters;if(!r)return;if(r.length<2)return s(t,n,a);const i=r.filter((t=>"Constant"!==t.name)).map((t=>null!=t.id&&"Identity"!==t.name?a.functionTextures[t.id]:a.rasterTexture));if((0,_webgl_rasterUtils_js__WEBPACK_IMPORTED_MODULE_0__.setTextures)(t.context,n,["u_image","u_image1","u_image2"].slice(0,i.length),i),i.length!==r.length)if(2===r.length){const t=r.findIndex((t=>"Constant"===t.name)),e=0===t?[0,1,0,1,0,0,0,0,0]:[1,0,0,0,1,0,0,0,0],{value:a}=r[t].parameters;n.setUniform1f("u_image1Const",a),n.setUniformMatrix3fv("u_imageSwap",e)}else if(3===r.length){const t=[];if(r.forEach(((e,n)=>"Constant"===e.name&&t.push(n))),1===t.length){const{value:e}=r[t[0]].parameters;n.setUniform1f("u_image1Const",e);const a=0===t[0]?[0,1,0,0,0,1,1,0,0]:1===t[0]?[1,0,0,0,0,1,0,1,0]:[1,0,0,0,1,0,0,0,1];n.setUniformMatrix3fv("u_imageSwap",a)}else if(2===t.length){const{value:e}=r[t[0]].parameters;n.setUniform1f("u_image1Const",e);const{value:a}=r[t[1]].parameters;n.setUniform1f("u_image2Const",a);const s=r.findIndex((t=>"Constant"!==t.name)),i=0===s?[1,0,0,0,1,0,0,0,1]:1===s?[0,1,0,1,0,0,0,0,1]:[0,0,1,1,0,0,0,1,0];n.setUniformMatrix3fv("u_imageSwap",i)}}}function i(t){t.setUniform2fv("u_coordScale",n),t.setUniformMatrix3fv("u_dvsMat3",a)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/* harmony import */ var _brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./brushes/WGLBrushStencil.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js");
/* harmony import */ var _brushes_WGLBrushTileDebugInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./brushes/WGLBrushTileDebugInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushTileDebugInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(),this.tileInfoView=e,this.sortFunction=n}renderChildren(e){this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this.tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this.tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:"stencil",brushes:[_brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_3__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.HIGHLIGHT|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.LABEL,target:()=>this.getStencilTarget()})),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")&&n.push(r.registerRenderPass({name:"tileInfo",brushes:[_brushes_WGLBrushTileDebugInfo_js__WEBPACK_IMPORTED_MODULE_4__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ g; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/rasterDatasets/multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _engine_flow_FlowView2D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../engine/flow/FlowView2D.js */ "./node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _imagery_ImageryTileView2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./imagery/ImageryTileView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js");
/* harmony import */ var _imagery_VectorFieldTileView2D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./imagery/VectorFieldTileView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js");
/* harmony import */ var _support_util_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/util.js */ "./node_modules/@arcgis/core/views/2d/layers/support/util.js");
/* harmony import */ var _layers_ImageryTileLayerView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/ImageryTileLayerView.js */ "./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let b=class extends((0,_layers_ImageryTileLayerView_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_16__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_10__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_15__["default"])))){constructor(){super(...arguments),this._useWebGLForProcessing=!0,this._useProgressiveUpdate=!0,this.subview=null}get useWebGLForProcessing(){return this._useWebGLForProcessing}set useWebGLForProcessing(e){this._useWebGLForProcessing=e,this.subview&&"useWebGLForProcessing"in this.subview&&(this.subview.useWebGLForProcessing=e)}get useProgressiveUpdate(){return this._useWebGLForProcessing}set useProgressiveUpdate(e){this._useProgressiveUpdate=e,this.subview&&"useProgressiveUpdate"in this.subview&&(this.subview.useProgressiveUpdate=e)}get displayParameters(){const{layer:e}=this,s=this._get("displayParameters");return e.renderer?{bandIds:e.bandIds,renderer:e.renderer,interpolation:e.interpolation,multidimensionalDefinition:e.multidimensionalDefinition,rasterFunction:"imagery-tile"===e.type?e.rasterFunction:null}:s}update(e){this.subview?.update(e),this.notifyChange("updating")}isUpdating(){return!this.subview||this.subview.updating}attach(){this.layer.increaseRasterJobHandlerUsage(),this._updateSubview(),this.addAttachHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.displayParameters),((e,t)=>{const r=e.interpolation!==t?.interpolation&&("majority"===e.interpolation||"majority"===t?.interpolation)&&(0,_support_util_js__WEBPACK_IMPORTED_MODULE_13__.canUseMajorityInterpolationOnDataSource)(this.layer),o=e.renderer!==t?.renderer&&this._getSubviewType(t?.renderer)!==this._getSubviewType(e.renderer);o&&this._updateSubview();const a=e.multidimensionalDefinition!==t?.multidimensionalDefinition,n=e.rasterFunction!==t?.rasterFunction,u=n&&!this._useWebGLForProcessing,h=a||r||o||u;this.subview.redrawOrRefetch({refetch:h,reprocess:n}).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(e)})),this.notifyChange("updating")})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.multidimensionalSubset??null),((e,t)=>{const{multidimensionalDefinition:r}=this.layer;null!=r&&(0,_layers_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_8__.hasExcludedVariableOrDimension)(r,e)!==(0,_layers_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_8__.hasExcludedVariableOrDimension)(r,t)&&(this.subview.redrawOrRefetch({refetch:!0}).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(e)})),this.notifyChange("updating"))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.timeExtent),(()=>{this.subview.timeExtent=this.timeExtent,this.subview.redrawOrRefetch({refetch:!0}).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(e)}))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null}viewChange(){this.requestUpdate()}moveEnd(){this.subview.moveEnd()}doRefresh(){return this.subview?this.subview.doRefresh():Promise.resolve()}_updateSubview(){const{renderer:e}=this.layer;if(!e)return;const s=this._getSubviewType(e);if(this.subview){if(this.subview.type===s)return void this._attachSubview(this.subview);this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null}const{layer:i}=this;let t;if(t="rasterVF"===s?new _imagery_VectorFieldTileView2D_js__WEBPACK_IMPORTED_MODULE_12__["default"]({layer:i,layerView:this,scheduler:this.scheduler}):"flow"===s?new _engine_flow_FlowView2D_js__WEBPACK_IMPORTED_MODULE_9__["default"]({layer:i,layerView:this,scheduler:this.scheduler}):new _imagery_ImageryTileView2D_js__WEBPACK_IMPORTED_MODULE_11__["default"]({layer:i,layerView:this,scheduler:this.scheduler}),"useWebGLForProcessing"in t&&(t.useWebGLForProcessing=this._useWebGLForProcessing),"useProgressiveUpdate"in t&&(t.useProgressiveUpdate=this._useProgressiveUpdate),"previousLOD"in t){const{subview:e}=this;t.previousLOD=e&&"previousLOD"in e?e.previousLOD:null}this._attachSubview(t),this.subview=t,this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0))}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}_getSubviewType(e){const s=e?.type;return"vector-field"===s?"rasterVF":"flow"===s?"flow":"raster"}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"subview",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"useWebGLForProcessing",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"useProgressiveUpdate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],b.prototype,"displayParameters",null),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.ImageryTileLayerView2D")],b);const g=b;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseImageryTileSubView2D: function() { return /* binding */ v; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _layers_support_PixelBlock_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/support/PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _layers_support_rasterDatasets_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../layers/support/rasterDatasets/RawBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../tiling/TileQueue.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileQueue.js");
/* harmony import */ var _tiling_TileStrategy_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../tiling/TileStrategy.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileStrategy.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const S=[0,0];let v=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(){super(...arguments),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__.UpdatingHandles,this._emptyTilePixelBlock=null,this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=[],this.previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._isCustomTilingScheme=!1,this._maxIndexedColormapSize=0,this._rasterFunctionState="na",this._globalUpdateRequested=!1,this.attached=!1,this.timeExtent=null,this.redrawOrRefetch=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.debounce)((async(e={})=>{const t=this._rasterFunctionState;if(e.reprocess&&(await this._updatingHandles.addPromise(this.layer.updateRasterFunction()),this.updateRasterFunctionParameters()),!this.previousLOD||this.layerView.suspended)return;const i=this._rasterFunctionState,{type:s}=this;return e.refetch||"raster"!==s&&!!e.reprocess||"cpu"===i||"cpu"===t?this._updatingHandles.addPromise(this.doRefresh()):this._updatingHandles.addPromise(this._redrawImage(e.signal))}))}destroy(){this._updatingHandles.destroy()}get useWebGLForProcessing(){return this._get("useWebGLForProcessing")??!0}set useWebGLForProcessing(e){this._set("useWebGLForProcessing",e)}get useProgressiveUpdate(){return this._get("useProgressiveUpdate")??!0}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this.container.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new _tiling_TileStrategy_js__WEBPACK_IMPORTED_MODULE_19__["default"]({cachePolicy:"purge",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set("useProgressiveUpdate",e),this.layerView.requestUpdate()}}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_23__["default"].fromJSON(t);(0,_layers_support_rasterDatasets_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_14__.update)(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,this.previousLOD?.level!==r.level&&(this.previousLOD=r,null==this._symbolizerParams||this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}}moveEnd(){!this.layerView.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=new AbortController,0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.layerView.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.layerView.requestUpdate()}get updating(){return this._globalUpdateRequested||this._updatingHandles?.updating}attach(){const e=(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_22__.getWebGLCapabilities)();this._maxIndexedColormapSize=4*(e.maxTextureSize||4096),this._initializeTileInfo(),this._tileInfoView=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_16__["default"](this.layerView.tileInfo,this.layerView.fullExtent);const t=this._computeFetchConcurrency();this._fetchQueue=new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_18__["default"]({tileInfoView:this._tileInfoView,concurrency:t,process:(e,t)=>this._fetchTile(e,t),priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_21__.TaskPriority.MAPVIEW_FETCH_QUEUE,scheduler:this.scheduler});const i=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new _tiling_TileStrategy_js__WEBPACK_IMPORTED_MODULE_19__["default"]({cachePolicy:"purge",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:i,tileInfoView:this._tileInfoView}),this._updateBlockCacheRegistry()}detach(){this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,(0,_layers_support_rasterDatasets_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_14__.unregister)(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryUrl=this._blockCacheRegistryId=null}acquireTile(e){const t=this.container.createTile(e);return this._updatingHandles.addPromise(this._enqueueTileFetch(t)),this.layerView.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this.container.removeChild(e),e.once("detach",(()=>{e.destroy(),this.layerView.requestUpdate()})),this.layerView.requestUpdate()}createEmptyTilePixelBlock(e=null){const t=null==e||e.join(",")===this._tileInfoView.tileInfo.size.join(",");if(t&&null!=this._emptyTilePixelBlock)return this._emptyTilePixelBlock;e=e||this._tileInfoView.tileInfo.size;const[i,s]=e,r=new _layers_support_PixelBlock_js__WEBPACK_IMPORTED_MODULE_12__["default"]({width:i,height:s,pixels:[new Uint8Array(i*s)],mask:new Uint8Array(i*s),pixelType:"u8"});return t&&(this._emptyTilePixelBlock=r),r}_getBandIds(){if(!("rasterFunctionChain"in this.container)||!this.container.rasterFunctionChain)return this.layer.bandIds;const{bandIds:e,raster:t}=this.layer,i="rasterFunction"in t?t.rasterFunction.rawInputBandIds:null;return e?.length&&i?.length&&1!==t.rasterInfo.bandCount?e.map((e=>i[Math.min(e,i.length-1)])):e||i}updateRasterFunctionParameters(){}_fetchTile(e,t){const i=this._getFetchOptions(e.level,t.signal);return this.fetchTile(e,i)}_getFetchOptions(e,t){const i=this.canUseWebGLForProcessing(),{layerView:s}=this,{tileInfo:r}=s,a=!r.isWrappable&&null!=(0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_15__.getWorldWidth)(s.view.spatialReference),o=i&&this.layer.raster.hasUniqueSourceStorageInfo;return{allowPartialFill:!0,datumTransformation:s.datumTransformation,interpolation:i?"nearest":this.layer.interpolation,registryId:this._blockCacheRegistryId,requestRawData:o,skipRasterFunction:"raster"===this.type&&null!=this.container.rasterFunctionChain,signal:t,srcResolution:this._srcResolutions[e],timeExtent:s.timeExtent,tileInfo:r,disableWrapAround:a}}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const{layerView:e}=this,t=e.view.spatialReference;if(this._canUseLayerLODs()){const{origin:i,lods:s}=this.layer.tileInfo,r=s.map((({scale:e})=>e)),a=_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].create({spatialReference:t,size:_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_20__.tileSize,scales:r,origin:i});return e.set("tileInfo",a),void(this._srcResolutions=s.map((({resolution:e})=>({x:e,y:e}))))}const{scales:i,srcResolutions:r,isCustomTilingScheme:a}=(0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_15__.computeProjectedScales)(this.layer.serviceRasterInfo,t,{tileSize:_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_20__.tileSize,alignGlobalDatasetWithAGOL:!0,limitToSrcResolution:!1}),o=_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].create({spatialReference:t,size:_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_20__.tileSize,scales:i}),l=0===o.origin.x;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.assertIsSome)(e.fullExtent);const{xmin:n,ymax:c}=e.fullExtent;(l||a&&o.origin.x>n)&&(o.origin=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]({x:n,y:c,spatialReference:t})),this._isCustomTilingScheme=a,e.set("tileInfo",o),this._srcResolutions=r??[]}_canUseLayerLODs(){const{layer:e,layerView:t}=this;if("Map"!==e.raster.tileType)return!1;const{lods:i}=e.tileInfo,s=t.view.constraints?.effectiveLODs;return s?.length===i.length&&s.every((({scale:e},t)=>Math.abs(e-i[t].scale)<.001))}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.serviceRasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),r=this._getBandIds();let o=!this.useProgressiveUpdate||this.layerView.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.layerView.moving&&0===this._fetchQueue.length){o=!1;try{await this._redrawImage(this._abortController?.signal)}catch(s){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(s)&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(s)}this._globalUpdateRequested=!1}!this.canUseWebGLForProcessing()&&"rasterVF"!==this.type||this.layerView.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const l=this._tileInfoView.getTileCoords(S,e.key),n=this._tileInfoView.getTileResolution(e.key);await this.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:o,bandIds:r,coords:l,resolution:n}),e.once("attach",(()=>this.layerView.requestUpdate())),this.container.addChild(e)}catch(s){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(s)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(s)}this.layerView.requestUpdate()}}async _redrawImage(e){if(0===this.container.children.length)return;await this.layer.updateRenderer(),this.layerView.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.container.children.map((async e=>this.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await Promise.allSettled(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t=this._getFetchOptions(this.previousLOD.level,e),i=await this.layer.fetchPixels(this.layerView.view.extent,this.layerView.view.width,this.layerView.view.height,{...t,interpolation:"nearest",requestRawData:!1,skipRasterFunction:!1});if(!i?.pixelBlock)return;const{resolution:s}=this.previousLOD,r=this._getBandIds(),a=this.layer.symbolizer.generateWebGLParameters({pixelBlock:i.pixelBlock.extractBands(r),isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:s,y:s},bandIds:r});!this.canUseWebGLForProcessing()&&a&&"stretch"===a.type&&this.layer.renderer&&"raster-stretch"===this.layer.renderer.type&&(a.factor=a.factor.map((e=>255*e)),a.outMin=Math.round(255*a.outMin),a.outMax=Math.round(255*a.outMax)),this._globalSymbolizerParams=a}_updateSymbolizerParams(){const{resolution:e}=this.previousLOD,t=this._getBandIds();this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:e,y:e},bandIds:t})}_updateBlockCacheRegistry(e=!1){const{layer:t,layerView:i}=this,{raster:s}=t,{multidimensionalDefinition:r}=t.normalizeRasterFetchOptions({multidimensionalDefinition:t.multidimensionalDefinition,timeExtent:i.timeExtent}),a=s.rasterInfo.multidimensionalInfo?s.getSliceIndex(r):null,o=(0,_layers_support_rasterDatasets_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_14__.getRasterId)(s.rasterId,a);if(o!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&(0,_layers_support_rasterDatasets_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_14__.unregister)(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=(0,_layers_support_rasterDatasets_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_14__.register)(o,s.rasterInfo),e){const{view:e}=i,t=this._tileInfoView.getClosestInfoForScale(e.scale),r=this._srcResolutions[t.level];(0,_layers_support_rasterDatasets_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_14__.update)(o,this._blockCacheRegistryId,e.extent,e.resolution,r,s.ioConfig.sampling)}this._blockCacheRegistryUrl=o}}async doRefresh(){if(!this.attached||!this.previousLOD||this.layerView.suspended)return;await this.layer.updateRenderer(),this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,this._tileStrategy.refresh((t=>e.push(this._enqueueTileFetch(t)))),await this._updatingHandles.addPromise(Promise.allSettled(e))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"_globalUpdateRequested",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"attached",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"scheduler",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"useWebGLForProcessing",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"useProgressiveUpdate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],v.prototype,"updating",null),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.imagery.BaseImageryTileSubView2D")],v);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _engine_imagery_RasterTileContainer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../engine/imagery/RasterTileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterTileContainer.js");
/* harmony import */ var _BaseImageryTileSubView2D_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseImageryTileSubView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js");
/* harmony import */ var _support_util_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/util.js */ "./node_modules/@arcgis/core/views/2d/layers/support/util.js");
/* harmony import */ var _layers_support_Geometry_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/support/Geometry.js */ "./node_modules/@arcgis/core/views/layers/support/Geometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let a=class extends _BaseImageryTileSubView2D_js__WEBPACK_IMPORTED_MODULE_7__.BaseImageryTileSubView2D{constructor(){super(...arguments),this.type="raster"}attach(){super.attach(),this.container=new _engine_imagery_RasterTileContainer_js__WEBPACK_IMPORTED_MODULE_6__.RasterTileContainer(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this.updateRasterFunctionParameters()}detach(){super.detach(),this.container.removeAllChildren(),this.container=null}canUseWebGLForProcessing(){const{symbolizer:e}=this.layer,t=e.lookup?.colormapLut?.indexedColormap,r=t&&t.length>this._maxIndexedColormapSize;return this.useWebGLForProcessing&&e.canRenderInWebGL&&!r&&!("majority"===this.layer.interpolation&&(0,_support_util_js__WEBPACK_IMPORTED_MODULE_8__.canUseMajorityInterpolationOnDataSource)(this.layer))}fetchTile(e,t){return this.layer.fetchTile(e.level,e.row,e.col,t)}updateRasterFunctionParameters(){const{clips:e,view:t}=this.layerView;null!=this._geometry&&e.remove(this._geometry);const{raster:r,type:s}=this.layer;if("Function"===r.datasetFormat){const s=r.getClippingGeometry(t.spatialReference);if(s){const t=new _layers_support_Geometry_js__WEBPACK_IMPORTED_MODULE_9__["default"]({geometry:s});e.add(t),this._geometry=t}}const{container:i}=this;if("Function"!==r.datasetFormat||"wcs"===s)return i.rasterFunctionChain=null,i.children.forEach((e=>{const{bitmap:t}=e;t&&(t.suspended=!0,t.processed=!1,t.projected&&(t.invalidateTexture(),t.rasterTexture=null))})),void(this._rasterFunctionState="na");const o=this._rasterFunctionState,{rasterFunction:a,primaryRasters:l}=r,c=a.supportsGPU&&(!l||l.rasters.length<=1),u=c?a.flatWebGLFunctionChain:null,{renderer:p}=this.layer,d=!c||!u?.functions.length||"raster-stretch"===p?.type&&p.dynamicRangeAdjustment||!this.canUseWebGLForProcessing();i.rasterFunctionChain=d?null:u;const h=null==a?"na":i.rasterFunctionChain?"gpu":"cpu";i.children.forEach((e=>{const{bitmap:t}=e;t&&(t.suspended=o!==h,t.processed=!1,t.processedTexture=null)})),this._rasterFunctionState=h}async updateTileSource(e,t){const r=this._getBandIds(),s=this._getLayerInterpolation(),i=this.canUseWebGLForProcessing(),{source:o,globalSymbolizerParams:n,suspended:a,coords:l,resolution:c}=t,u=this.layerView.hasTilingEffects?n:t.symbolizerParams,{bitmap:p}=e;if([p.x,p.y]=l,p.resolution=c,null!=o?.pixelBlock){const e={extent:o.extent,pixelBlock:o.pixelBlock,srcPixelSize:o.srcTilePixelSize};if(p.rawPixelData=e,i)p.source=o.pixelBlock,p.isRendereredSource=!1;else{const t=await this.layer.applyRenderer(e,"stretch"===n?.type?n:void 0);p.source=t,p.isRendereredSource=!0}p.symbolizerParameters=i?u:null,p.transformGrid=i?o.transformGrid:null}else{const e=this.createEmptyTilePixelBlock();p.source=e,p.symbolizerParameters=i?u:null,p.transformGrid=null}p.bandIds=i?r:null,p.width=this._tileInfoView.tileInfo.size[0],p.height=this._tileInfoView.tileInfo.size[1],p.interpolation=s,p.suspended=a,p.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:r,global:s}=t,i=this._getBandIds(),o=this._getLayerInterpolation(),n=this.canUseWebGLForProcessing(),{bitmap:a}=e,{rawPixelData:l}=a;n||null==l?(a.isRendereredSource&&null!=l&&(a.source=l.pixelBlock),a.isRendereredSource=!1):(a.source=await this.layer.applyRenderer(l,"stretch"===s?.type?s:void 0),a.isRendereredSource=!0),a.symbolizerParameters=n?this.layerView.hasTilingEffects?s:r:null,a.bandIds=n?i:null,a.interpolation=o,a.suspended=!1}_getLayerInterpolation(){const{interpolation:e,renderer:t}=this.layer;if(!t)return e;const r=t.type;return"raster-colormap"===r||"unique-value"===r?"nearest":"raster-stretch"===t.type&&null!=t.colorRamp?"bilinear"===e||"cubic"===e?"bilinear":"nearest":e}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],a.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],a.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],a.prototype,"type",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.2d.layers.imagery.ImageryTileView2D")],a);const l=a;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../layers/support/rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _engine_imagery_RasterVFTileContainer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../engine/imagery/RasterVFTileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTileContainer.js");
/* harmony import */ var _BaseImageryTileSubView2D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseImageryTileSubView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let a=class extends _BaseImageryTileSubView2D_js__WEBPACK_IMPORTED_MODULE_9__.BaseImageryTileSubView2D{constructor(){super(...arguments),this._handle=null,this.type="rasterVF"}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){t={...t,interpolation:"nearest",requestProjectedLocalDirections:!0};const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return"vector-magdir"===this.layer.serviceRasterInfo?.dataType&&i?.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,t){const i=t.symbolizerParams,{tileData:r}=e;r.key=e.key,r.width=this._tileInfoView.tileInfo.size[0],r.height=this._tileInfoView.tileInfo.size[1];const{symbolTileSize:o}=i,{source:s}=t;if(r.offset=this._getTileSymbolOffset(r.key,o),null!=s?.pixelBlock){const e={extent:s.extent,pixelBlock:s.pixelBlock};r.rawPixelData=e,r.symbolizerParameters=i,r.source=this._sampleVectorFieldData(s.pixelBlock,i,r.offset)}else{const e=[Math.round((this._tileInfoView.tileInfo.size[0]-r.offset[0])/o),Math.round((this._tileInfoView.tileInfo.size[1]-r.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);r.source=t,r.symbolizerParameters=i}return r.invalidateVAO(),Promise.resolve()}updateTileSymbolizerParameters(e,t){const i=t.local,{symbolTileSize:r}=i,{tileData:o}=e;o.offset=this._getTileSymbolOffset(o.key,r);const s=o.symbolizerParameters.symbolTileSize;o.symbolizerParameters=i;const l=o.rawPixelData?.pixelBlock;return null!=l&&s!==r&&(o.source=this._sampleVectorFieldData(l,o.symbolizerParameters,o.offset)),Promise.resolve()}attach(){super.attach(),this.container=new _engine_imagery_RasterVFTileContainer_js__WEBPACK_IMPORTED_MODULE_8__.RasterVFTileContainer(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>this.layer.renderer),(e=>this._updateSymbolType(e)))}detach(){super.detach(),this.container.removeAllChildren(),this._handle?.remove(),this._handle=null,this.container=null}_getTileSymbolOffset(e,t){const i=e.col*this._tileInfoView.tileInfo.size[0]%t,r=e.row*this._tileInfoView.tileInfo.size[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return (0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_7__.sampleVectorField)(e,"vector-uv",r,i)}_updateSymbolType(e){"vector-field"===e.type&&(this.container.symbolTypes="wind-barb"===e.style?["scalar","triangle"]:"simple-scalar"===e.style?["scalar"]:["triangle"])}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],a.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],a.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],a.prototype,"type",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.imagery.VectorFieldTileView2D")],a);const n=a;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/timeSupport.js */ "./node_modules/@arcgis/core/layers/support/timeSupport.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const u=u=>{let p=class extends u{constructor(){super(...arguments),this._rasterFieldPrefix="Raster.",this.layer=null,this.tileInfo=null}get fullExtent(){try{return this.layer.loaded?this._getFullExtent():null}catch{return null}}get timeExtent(){return (0,_layers_support_timeSupport_js__WEBPACK_IMPORTED_MODULE_8__.combineTimeExtent)(this.layer,this.view?.timeExtent,this._get("timeExtent"))}get hasTilingEffects(){return!!(this.layer.renderer&&"dynamicRangeAdjustment"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment)}get datumTransformation(){try{return this.layer.loaded?(0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.getDefaultDatumTransformationForDataset)(this.layer.fullExtent,this.view.spatialReference,!0):null}catch{return null}}supportsSpatialReference(e){try{return!this.layer.loaded||!!(0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.projectDatasetExtent)(this.layer.serviceRasterInfo,e)}catch{return!1}}async fetchPopupFeaturesAtLocation(e,s){const{layer:a}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageryTileLayerView:fetchPopupFeatures","Nothing to fetch without area",{layer:a});const{popupEnabled:i}=a,o=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__.getFetchPopupTemplate)(a,s);if(!i||null==o)return[];const n=[],{value:u,magdirValue:p,processedValue:c}=await a.identify(e,{timeExtent:this.timeExtent,signal:s?.signal});let m="";if(u?.length){m="imagery-tile"===a.type&&a.hasStandardTime()&&null!=u[0]?u.map((e=>a.getStandardTimeValue(e))).join(", "):u.join(", ");const e={ObjectId:0},r="Raster.ServicePixelValue";e[r]="imagery-tile"===a.type&&"Function"===a.raster.datasetFormat?c?.join(", "):m,e[r+".Raw"]=m;const s=a.raster?.rasterInfo??a.serviceRasterInfo,i=s?.attributeTable;if(null!=i){const{fields:t,features:s}=i,a=t.find((({name:e})=>"value"===e.toLowerCase())),o=e[r],n=a?s.find((e=>String(e.attributes[a.name])===o)):null;if(n)for(const r in n.attributes)if(n.attributes.hasOwnProperty(r)){e[this._rasterFieldPrefix+r]=n.attributes[r]}}const o=s?.dataType;"vector-magdir"!==o&&"vector-uv"!==o||(e["Raster.Magnitude"]=p?.[0],e["Raster.Direction"]=p?.[1]);const l=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({geometry:this.fullExtent?.clone(),attributes:e,layer:a,sourceLayer:a});n.push(l)}return n}_getFullExtent(){return (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.projectDatasetExtent)(this.layer.serviceRasterInfo,this.view.spatialReference)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"hasTilingEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"datumTransformation",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.ImageryTileLayerView")],p),p};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const i=i=>{let a=class extends i{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.RefreshableLayerView")],a),a};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/rasterUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/rasterUtils.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createColormapTexture: function() { return /* binding */ m; },
/* harmony export */   createRasterTexture: function() { return /* binding */ f; },
/* harmony export */   createTransformTexture: function() { return /* binding */ c; },
/* harmony export */   getBasicGridUniforms: function() { return /* binding */ g; },
/* harmony export */   getColormapUniforms: function() { return /* binding */ _; },
/* harmony export */   getCommonUniforms: function() { return /* binding */ l; },
/* harmony export */   getShadedReliefUniforms: function() { return /* binding */ A; },
/* harmony export */   getStretchUniforms: function() { return /* binding */ p; },
/* harmony export */   getUniformLocationInfos: function() { return /* binding */ T; },
/* harmony export */   setTextures: function() { return /* binding */ O; },
/* harmony export */   setUniforms: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function f(e,o,f="nearest",c=!1){const m=!(c&&"u8"===o.pixelType),l=m?_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.FLOAT:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.UNSIGNED_BYTE,_=null==o.pixels||0===o.pixels.length?null:m?o.getAsRGBAFloat():o.getAsRGBA(),g=e.capabilities.textureFloatLinear,p=new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.TextureDescriptor;return p.width=o.width,p.height=o.height,p.internalFormat=m?_enums_js__WEBPACK_IMPORTED_MODULE_1__.SizedPixelFormat.RGBA32F:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,p.samplingMode=!g||"bilinear"!==f&&"cubic"!==f?_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST:_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR,p.dataType=l,p.wrapMode=_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.CLAMP_TO_EDGE,new _Texture_js__WEBPACK_IMPORTED_MODULE_2__.Texture(e,p,_)}function c(e,r){const{spacing:o,offsets:f,coefficients:c,size:[m,l]}=r,_=o[0]>1,g=new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.TextureDescriptor;g.width=_?4*m:m,g.height=l,g.internalFormat=_enums_js__WEBPACK_IMPORTED_MODULE_1__.SizedPixelFormat.RGBA32F,g.dataType=_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.FLOAT,g.samplingMode=_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST,g.wrapMode=_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.CLAMP_TO_EDGE;const p=new Float32Array(_?m*l*16:2*f.length);if(_&&null!=c)for(let t=0,n=0;t<c.length;t++)p[n++]=c[t],t%3==2&&(p[n++]=1);else for(let t=0;t<l;t++)for(let e=0;e<m;e++){const n=4*(t*m+e),r=2*(e*l+t);p[n]=f[r],p[n+1]=f[r+1],p[n+3]=-1===f[r]?0:1}return new _Texture_js__WEBPACK_IMPORTED_MODULE_2__.Texture(e,g,p)}function m(e,t){const n=new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.TextureDescriptor;return n.internalFormat=_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,n.width=t.length/4,n.height=1,n.samplingMode=_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST,n.wrapMode=_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.CLAMP_TO_EDGE,new _Texture_js__WEBPACK_IMPORTED_MODULE_2__.Texture(e,n,t)}function l(t,n,r,a=1,i=!0){return{u_flipY:i,u_applyTransform:!!t,u_opacity:a,u_transformSpacing:t?t.spacing:_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS,u_transformGridSize:t?t.size:_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS,u_targetImageSize:n,u_srcImageSize:r}}function _(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}}function g(e,t){return{u_scale:e,u_offset:t}}function p(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function A(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function T(e,t){const n=e.gl,r=t.glName,a=new Map;if(null==r)return a;const i=n.getProgramParameter(r,n.ACTIVE_UNIFORMS);let o;for(let s=0;s<i;s++)o=n.getActiveUniform(r,s),o&&a.set(o.name,{location:n.getUniformLocation(r,o.name),info:o});return a}function h(e,t,n){Object.keys(n).forEach((r=>{const a=t.get(r)||t.get(r+"[0]");a&&E(e,r,n[r],a)}))}function O(e,t,n,r){n.length===r.length&&(r.some((e=>null==e))||n.some((e=>null==e))||n.forEach(((n,a)=>{t.setUniform1i(n,a),e.bindTexture(r[a],a)})))}function E(e,t,n,r){if(null===r||null==n)return!1;const{info:a}=r;switch(a.type){case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.FLOAT:a.size>1?e.setUniform1fv(t,n):e.setUniform1f(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.FLOAT_VEC2:e.setUniform2fv(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.FLOAT_VEC3:e.setUniform3fv(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.FLOAT_VEC4:e.setUniform4fv(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.FLOAT_MAT3:e.setUniformMatrix3fv(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.FLOAT_MAT4:e.setUniformMatrix4fv(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.INT:a.size>1?e.setUniform1iv(t,n):e.setUniform1i(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.BOOL:e.setUniform1i(t,n?1:0);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.INT_VEC2:case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.BOOL_VEC2:e.setUniform2iv(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.INT_VEC3:case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.BOOL_VEC3:e.setUniform3iv(t,n);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.INT_VEC4:case _enums_js__WEBPACK_IMPORTED_MODULE_1__.UniformType.BOOL_VEC4:e.setUniform4iv(t,n);break;default:return!1}return!0}


/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_arcgis_core_views_2d_layers_ImageryTileLayerView2D_js.35a3db917173f1af6b8f.js.map