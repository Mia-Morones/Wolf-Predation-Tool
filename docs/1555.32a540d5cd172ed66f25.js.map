{"version":3,"file":"1555.32a540d5cd172ed66f25.js","mappings":"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","sources":["webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/chunks/RibbonLine.glsl.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/layers/interfaces.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/support/ElevationProvider.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/support/engineContent/marker.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/testUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{RibbonVertexPosition as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{LineStipple as o,computePixelSize as r}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{MarkerSizing as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{PiUtils as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{alphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as p}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as c,addPixelRatio as m}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float4PassUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as h}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as S}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as u}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{LineMarkerSpace as x}from\"../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";import{outputColorHighlightOID as L}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{CapType as b}from\"../views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";const w=1;function y(y){const C=new S,{attributes:j,varyings:P,vertex:R,fragment:A}=C,{applyMarkerOffset:F,draped:z,output:T,capType:E,stippleEnabled:V,falloffEnabled:O,roundJoins:W,wireframe:I,innerColorEnabled:N}=y;C.include(s),C.include(n,y),C.include(o,y),C.include(t,y);const _=F&&!z;_&&(R.uniforms.add(new g(\"markerScale\",(e=>e.markerScale))),C.include(a,{space:x.World})),c(R,y),R.uniforms.add(new D(\"inverseProjectionMatrix\",((e,i)=>i.camera.inverseProjectionMatrix)),new v(\"nearFar\",((e,i)=>i.camera.nearFar)),new g(\"miterLimit\",(e=>\"miter\"!==e.join?0:e.miterLimit)),new f(\"viewport\",((e,i)=>i.camera.fullViewport))),R.constants.add(\"LARGE_HALF_FLOAT\",\"float\",65500),j.add(u.POSITION,\"vec3\"),j.add(u.PREVPOSITION,\"vec3\"),j.add(u.NEXTPOSITION,\"vec3\"),j.add(u.SUBDIVISIONFACTOR,\"float\"),j.add(u.UV0,\"vec2\"),P.add(\"vColor\",\"vec4\"),P.add(\"vpos\",\"vec3\"),P.add(\"vLineDistance\",\"float\"),P.add(\"vLineWidth\",\"float\");const M=y.terrainDepthTest&&T===e.Color;M&&P.add(\"depth\",\"float\");const U=V;U&&P.add(\"vLineSizeInv\",\"float\");const k=E===b.ROUND,$=V&&k,H=O||$;H&&P.add(\"vLineDistanceNorm\",\"float\"),k&&(P.add(\"vSegmentSDF\",\"float\"),P.add(\"vReverseSegmentSDF\",\"float\")),R.code.add(h`#define PERPENDICULAR(v) vec2(v.y, -v.x);\nfloat interp(float ncp, vec4 a, vec4 b) {\nreturn (-ncp - a.z) / (b.z - a.z);\n}\nvec2 rotate(vec2 v, float a) {\nfloat s = sin(a);\nfloat c = cos(a);\nmat2 m = mat2(c, -s, s, c);\nreturn m * v;\n}`),R.code.add(h`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),R.code.add(h`\n    void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {\n      float vnp = nearFar[0] * 0.99;\n\n      if(pos.z > -nearFar[0]) {\n        //current pos behind ncp --> we need to clip\n        if (!isStartVertex) {\n          if(prev.z < -nearFar[0]) {\n            //previous in front of ncp\n            pos = mix(prev, pos, interp(vnp, prev, pos));\n            next = pos;\n          } else {\n            pos = vec4(0.0, 0.0, 0.0, 1.0);\n          }\n        } else {\n          if(next.z < -nearFar[0]) {\n            //next in front of ncp\n            pos = mix(pos, next, interp(vnp, pos, next));\n            prev = pos;\n          } else {\n            pos = vec4(0.0, 0.0, 0.0, 1.0);\n          }\n        }\n      } else {\n        //current position visible\n        if (prev.z > -nearFar[0]) {\n          //previous behind ncp\n          prev = mix(pos, prev, interp(vnp, pos, prev));\n        }\n        if (next.z > -nearFar[0]) {\n          //next behind ncp\n          next = mix(next, pos, interp(vnp, next, pos));\n        }\n      }\n\n      ${M?\"depth = pos.z;\":\"\"}\n\n      pos = projectAndScale(pos);\n      next = projectAndScale(next);\n      prev = projectAndScale(prev);\n    }\n  `),m(R),R.constants.add(\"aaWidth\",\"float\",V?0:1).main.add(h`\n    // unpack values from uv0.y\n    bool isStartVertex = abs(abs(uv0.y)-3.0) == 1.0;\n\n    float coverage = 1.0;\n\n    // Check for special value of uv0.y which is used by the Renderer when graphics\n    // are removed before the VBO is recompacted. If this is the case, then we just\n    // project outside of clip space.\n    if (uv0.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      bool isJoin = abs(uv0.y) < 3.0;\n      float lineSize = getSize();\n\n      if (lineSize < 1.0) {\n        coverage = lineSize; // convert sub-pixel coverage to alpha\n        lineSize = 1.0;\n      }\n      lineSize += aaWidth;\n\n      float lineWidth = lineSize * pixelRatio;\n      vLineWidth = lineWidth;\n      ${U?h`vLineSizeInv = 1.0 / lineSize;`:\"\"}\n\n      vec4 pos  = view * vec4(position, 1.0);\n      vec4 prev = view * vec4(prevPosition, 1.0);\n      vec4 next = view * vec4(nextPosition, 1.0);\n  `),_&&R.main.add(h`vec4 other = isStartVertex ? next : prev;\nbool markersHidden = areWorldMarkersHidden(pos, other);\nif(!isJoin && !markersHidden) {\npos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos) * 0.5;\n}`),R.main.add(h`clipAndTransform(pos, prev, next, isStartVertex);\nvec2 left = (pos.xy - prev.xy);\nvec2 right = (next.xy - pos.xy);\nfloat leftLen = length(left);\nfloat rightLen = length(right);`);(V||k)&&R.main.add(h`\n      float isEndVertex = float(!isStartVertex);\n      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);\n      vec2 segment = mix(right, left, isEndVertex);\n      ${k?h`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);`:\"\"}\n    `),R.main.add(h`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);\nright = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);\nvec2 capDisplacementDir = vec2(0, 0);\nvec2 joinDisplacementDir = vec2(0, 0);\nfloat displacementLen = lineWidth;\nif (isJoin) {\nbool isOutside = (left.x * right.y - left.y * right.x) * uv0.y > 0.0;\njoinDisplacementDir = normalize(left + right);\njoinDisplacementDir = PERPENDICULAR(joinDisplacementDir);\nif (leftLen > 0.001 && rightLen > 0.001) {\nfloat nDotSeg = dot(joinDisplacementDir, left);\ndisplacementLen /= length(nDotSeg * left - joinDisplacementDir);\nif (!isOutside) {\ndisplacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\n}\n}\nif (isOutside && (displacementLen > miterLimit * lineWidth)) {`),W?R.main.add(h`\n        vec2 startDir = leftLen < 0.001 ? right : left;\n        startDir = PERPENDICULAR(startDir);\n\n        vec2 endDir = rightLen < 0.001 ? left : right;\n        endDir = PERPENDICULAR(endDir);\n\n        float factor = ${V?h`min(1.0, subdivisionFactor * ${h.float((w+2)/(w+1))})`:h`subdivisionFactor`};\n\n        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));\n        joinDisplacementDir = rotate(startDir, -sign(uv0.y) * factor * rotationAngle);\n      `):R.main.add(h`if (leftLen < 0.001) {\njoinDisplacementDir = right;\n}\nelse if (rightLen < 0.001) {\njoinDisplacementDir = left;\n}\nelse {\njoinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;\n}\njoinDisplacementDir = PERPENDICULAR(joinDisplacementDir);`);const J=E!==b.BUTT;return R.main.add(h`\n        displacementLen = lineWidth;\n      }\n    } else {\n      // CAP handling ---------------------------------------------------\n      joinDisplacementDir = isStartVertex ? right : left;\n      joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);\n\n      ${J?h`capDisplacementDir = isStartVertex ? -right : left;`:\"\"}\n    }\n  `),R.main.add(h`\n    // Displacement (in pixels) caused by join/or cap\n    vec2 dpos = joinDisplacementDir * sign(uv0.y) * displacementLen + capDisplacementDir * displacementLen;\n    float lineDistNorm = sign(uv0.y) * pos.w;\n\n    vLineDistance =  lineWidth * lineDistNorm;\n    ${H?h`vLineDistanceNorm = lineDistNorm;`:\"\"}\n\n    pos.xy += dpos;\n  `),k&&R.main.add(h`vec2 segmentDir = normalize(segment);\nvSegmentSDF = (isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir) * pos.w) ;\nvReverseSegmentSDF = (isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir) * pos.w);`),V&&(z?R.uniforms.add(new g(\"worldToScreenRatio\",((e,i)=>1/i.screenToPCSRatio))):R.main.add(h`vec3 segmentCenter = mix((nextPosition + position) * 0.5, (position + prevPosition) * 0.5, isEndVertex);\nfloat worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),R.main.add(h`float segmentLengthScreenDouble = length(segment);\nfloat segmentLengthScreen = segmentLengthScreenDouble * 0.5;\nfloat discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);\nfloat segmentLengthRender = length(mix(nextPosition - position, position - prevPosition, isEndVertex));\nvStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`),z?R.main.add(h`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;\nfloat startPseudoScreen = uv0.x * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`):R.main.add(h`float startPseudoScreen = mix(uv0.x, uv0.x - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;\nfloat segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),R.uniforms.add(new g(\"stipplePatternPixelSize\",(e=>r(e)))),R.main.add(h`float patternLength = lineSize * stipplePatternPixelSize;\nvStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);\nvStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);\nif (segmentLengthScreenDouble >= 0.001) {\nvec2 stippleDisplacement = pos.xy - segmentOrigin;\nfloat stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);\nvStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);\n}\nvStippleDistanceLimits *= pos.w;\nvStippleDistance *= pos.w;\nvStippleDistanceLimits = isJoin ?\nvStippleDistanceLimits :\nisStartVertex ?\nvec2(-1e34, vStippleDistanceLimits.y) :\nvec2(vStippleDistanceLimits.x, 1e34);`)),R.main.add(h`\n      // Convert back into NDC\n      pos.xy = (pos.xy / viewport.zw) * pos.w;\n\n      vColor = getColor();\n      vColor.a *= coverage;\n\n      ${I&&!z?\"pos.z -= 0.001 * pos.w;\":\"\"}\n\n      // transform final position to camera space for slicing\n      vpos = (inverseProjectionMatrix * pos).xyz;\n      gl_Position = pos;\n      forwardObjectAndLayerIdColor();\n    }`),M&&C.include(l,y),C.include(i,y),C.include(L,y),A.include(p),A.main.add(h`\n    discardBySlice(vpos);\n    ${M?\"terrainDepthTest(depth);\":\"\"}\n  `),I?A.main.add(h`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`):(k&&A.main.add(h`\n        float sdf = min(vSegmentSDF, vReverseSegmentSDF);\n        vec2 fragmentPosition = vec2(\n          min(sdf, 0.0),\n          vLineDistance\n        ) * gl_FragCoord.w;\n\n        float fragmentRadius = length(fragmentPosition);\n        float fragmentCapSDF = (fragmentRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n        float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);\n\n        if (capCoverage < ${h.float(d)}) {\n          discard;\n        }\n      `),$?A.main.add(h`\n      vec2 stipplePosition = vec2(\n        min(getStippleSDF() * 2.0 - 1.0, 0.0),\n        vLineDistanceNorm * gl_FragCoord.w\n      );\n      float stippleRadius = length(stipplePosition * vLineWidth);\n      float stippleCapSDF = (stippleRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);\n      float stippleAlpha = step(${h.float(d)}, stippleCoverage);\n      `):A.main.add(h`float stippleAlpha = getStippleAlpha();`),T!==e.ObjectAndLayerIdColor&&A.main.add(h`discardByStippleAlpha(stippleAlpha, ${h.float(d)});`),A.uniforms.add(new f(\"intrinsicColor\",(e=>e.color))),A.main.add(h`vec4 color = intrinsicColor * vColor;`),N&&(A.uniforms.add(new f(\"innerColor\",(e=>e.innerColor??e.color)),new g(\"innerWidth\",((e,i)=>e.innerWidth*i.camera.pixelRatio))),A.main.add(h`float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;\nfloat innerAA = clamp(0.5 - distToInner, 0.0, 1.0);\nfloat innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);\ncolor = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`)),A.main.add(h`vec4 finalColor = blendStipple(color, stippleAlpha);`),O&&(A.uniforms.add(new g(\"falloff\",(e=>e.falloff))),A.main.add(h`finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);`)),V||A.main.add(h`float featherStartDistance = max(vLineWidth - 2.0, 0.0);\nfloat value = abs(vLineDistance) * gl_FragCoord.w;\nfloat feather = (value - featherStartDistance) / (vLineWidth - featherStartDistance);\nfinalColor.a *= 1.0 - clamp(feather, 0.0, 1.0);`)),A.main.add(h`outputColorHighlightOID(finalColor, vpos);`),C}const C=Object.freeze(Object.defineProperty({__proto__:null,build:y,ribbonlineNumRoundJoinSubdivisions:w},Symbol.toStringTag,{value:\"Module\"}));export{C as R,y as b,w as r};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as t,supportsUnit as e}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as n,clone as s,setContextFeature as i,createFeature as r}from\"./featureExpressionInfoUtils.js\";class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=t(e)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=n(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=e(t.unit)?t.unit:\"meters\",this.offsetElevationInfoUnits=t.offset??0}updateFeatureExpressionInfoContext(t,e,n){if(null==t)return void(this._featureExpressionInfoContext=null);const o=t?.arcade;o&&null!=e&&null!=n?(this._featureExpressionInfoContext=s(t),i(this._featureExpressionInfoContext,r(o.modules,e,n))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}export{o as ElevationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as o}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as r}from\"../../../../geometry/projection/projectBuffer.js\";import{isDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedFeatureUtils.js\";import{isSamplePosition as a,getElevationAtPoint as s}from\"../../support/ElevationProvider.js\";import{VertexAttribute as l}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(e,t,n,o,i,a,s,l,u,c,f){const m=x[f.mode];let d,g,p=0;if(r(e,t,n,o,u.spatialReference,i,l))return m?.requiresAlignment(f)?(p=m.applyElevationAlignmentBuffer(o,i,a,s,l,u,c,f),d=a,g=s):(d=o,g=i),r(d,u.spatialReference,g,a,c.spatialReference,s,l)?p:void 0}function c(e,t,n,o,r){const l=(i(e)?e.z:a(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case\"on-the-ground\":{const n=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case\"relative-to-ground\":{const i=s(t,e,\"ground\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"relative-to-scene\":{const i=s(t,e,\"scene\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"absolute-height\":{const i=n.geometryZWithOffset(l,o),a=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function f(e,t,n,o){return c(e,t,n,o,D),D.z}function m(e,t,n){return\"on-the-ground\"===t&&\"on-the-ground\"===n?e.staysOnTheGround:t===n||\"on-the-ground\"!==t&&\"on-the-ground\"!==n?null==t||null==n?e.definedChanged:b.UPDATE:e.onTheGroundChanged}function d(e){return\"relative-to-ground\"===e||\"relative-to-scene\"===e}function g(e){return\"absolute-height\"!==e}function p(t,n,r,i,a){c(n,r,a,i,D),E(t,D.verticalDistanceToGround);const s=D.sampledElevation,l=e(C,t.transformation);O[0]=n.x,O[1]=n.y,O[2]=D.z;return o(n.spatialReference,O,l,i.spatialReference)?t.transformation=l:console.warn(\"Could not locate symbol object properly, it might be misplaced\"),s}function E(e,t){for(let n=0;n<e.geometries.length;++n){const o=e.geometries[n].getMutableAttribute(l.CENTEROFFSETANDDISTANCE);o&&o.data[3]!==t&&(o.data[3]=t,e.geometryVertexAttributeUpdated(e.geometries[n],l.CENTEROFFSETANDDISTANCE))}}function v(e,t,n,o,r,i){let a=0;const s=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],u=e[t+2],c=i.getElevation(r,l,u,s,\"ground\")??0;a+=c,n[o]=r,n[o+1]=l,n[o+2]=c,t+=3,o+=3}return a/r}function h(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"ground\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function A(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"scene\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function T(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function y(e,t,n,o,r,i,a,s){const l=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext;t*=3,o*=3;for(let c=0;c<r;++c){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==u?a+l:l,t+=3,o+=3}return 0}class R{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}var b;!function(e){e[e.NONE=0]=\"NONE\",e[e.UPDATE=1]=\"UPDATE\",e[e.RECREATE=2]=\"RECREATE\"}(b||(b={}));const x={\"absolute-height\":{applyElevationAlignmentBuffer:y,requiresAlignment:T},\"on-the-ground\":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},\"relative-to-ground\":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},\"relative-to-scene\":{applyElevationAlignmentBuffer:A,requiresAlignment:()=>!0}},C=t(),D=new R,O=n();export{R as SampleElevationInfo,b as SymbolUpdateType,p as applyElevationAlignmentForHUD,u as applyPerVertexElevationAlignment,m as elevationModeChangeUpdateType,f as evaluateElevationAlignmentAtPoint,c as evaluateElevationInfoAtPoint,d as needsElevationUpdates2D,g as needsElevationUpdates3D,E as updateVertexPointGroundDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as n}from\"../../../../support/arcadeOnDemand.js\";const c=()=>e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if(\"string\"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if(\"string\"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await n();t(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c().errorOncePerTick(\"Arcade support required but not provided\");const n=t;n._geometry&&(n._geometry=r(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||\"0\"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return\"0\"===e?0:null}export{o as clone,a as createContext,u as createContextWithoutExpressionSupport,s as createFeature,i as execute,d as extractExpressionInfo,l as setContextFeature,f as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar e,a,t;!function(e){e[e.RasterImage=0]=\"RasterImage\",e[e.Features=1]=\"Features\"}(e||(e={})),function(e){e[e.MapLayer=0]=\"MapLayer\",e[e.ViewLayer=1]=\"ViewLayer\",e[e.Outline=2]=\"Outline\",e[e.SnappingHint=3]=\"SnappingHint\"}(a||(a={})),function(e){e[e.WithRasterImage=0]=\"WithRasterImage\",e[e.WithoutRasterImage=1]=\"WithoutRasterImage\"}(t||(t={}));export{e as DrapeSourceType,t as DrapeTargetType,a as DrapedRenderGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isDehydratedPoint as e}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return\"array\"in e}function a(r,a,n=\"ground\"){if(e(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}export{r as SamplePosition,a as getElevationAtPoint,t as isSamplePosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{createPrimitive as r}from\"./sdfPrimitives.js\";import{PixelFormat as e,TextureWrapMode as t}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";const m=64,s=m/2,n=s/5,p=m/n,w=.25;function f(p,w){const f=r(p,m,s,n),u=new i;return u.internalFormat=e.RGBA,u.width=m,u.height=m,u.wrapMode=t.CLAMP_TO_EDGE,new o(w,u,f)}export{f as createMarkerTexture,p as markerSizePerLineWidth,s as markerSymbolSize,m as markerTextureSize,n as markerThickness,w as markerTipThicknessFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{VisualVariables as t}from\"../shading/VisualVariables.glsl.js\";import{Float3PassUniform as i}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as e}from\"../../shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as a}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{VertexAttribute as v}from\"../../../lib/VertexAttribute.js\";const o=8;function c(c,s){const l=c.vertex;l.uniforms.add(new e(\"intrinsicWidth\",(t=>t.width))),s.vvSize?(c.attributes.add(v.SIZEFEATUREATTRIBUTE,\"float\"),l.uniforms.add(new i(\"vvSizeMinSize\",(t=>t.vvSize.minSize)),new i(\"vvSizeMaxSize\",(t=>t.vvSize.maxSize)),new i(\"vvSizeOffset\",(t=>t.vvSize.offset)),new i(\"vvSizeFactor\",(t=>t.vvSize.factor))),l.code.add(r`float getSize() {\nreturn intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n}`)):(c.attributes.add(v.SIZE,\"float\"),l.code.add(r`float getSize(){\nreturn intrinsicWidth * size;\n}`)),s.vvOpacity?(c.attributes.add(v.OPACITYFEATUREATTRIBUTE,\"float\"),l.constants.add(\"vvOpacityNumber\",\"int\",8),l.uniforms.add(new a(\"vvOpacityValues\",(t=>t.vvOpacity.values),o),new a(\"vvOpacityOpacities\",(t=>t.vvOpacity.opacityValues),o)),l.code.add(r`float interpolateOpacity( float value ){\nif (value <= vvOpacityValues[0]) {\nreturn vvOpacityOpacities[0];\n}\nfor (int i = 1; i < vvOpacityNumber; ++i) {\nif (vvOpacityValues[i] >= value) {\nfloat f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\nreturn mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n}\n}\nreturn vvOpacityOpacities[vvOpacityNumber - 1];\n}\nvec4 applyOpacity( vec4 color ){\nreturn vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n}`)):l.code.add(r`vec4 applyOpacity( vec4 color ){\nreturn color;\n}`),s.vvColor?(c.include(t,s),c.attributes.add(v.COLORFEATUREATTRIBUTE,\"float\"),l.code.add(r`vec4 getColor(){\nreturn applyOpacity(interpolateVVColor(colorFeatureAttribute));\n}`)):(c.attributes.add(v.COLOR,\"vec4\"),l.code.add(r`vec4 getColor(){\nreturn applyOpacity(color);\n}`))}export{c as RibbonVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as t}from\"../../../../core/floatRGBA.js\";import{ProceduralTextureRepository as e}from\"./ProceduralTextureRepository.js\";import{PixelFormat as r,TextureWrapMode as o}from\"../../../webgl/enums.js\";import{Texture as n}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";function u(t,u){return new e((e=>{const{encodedData:u,textureSize:c}=a(e),f=new i;return f.internalFormat=r.RGBA,f.width=c,f.height=1,f.wrapMode=o.REPEAT,new n(t,f,u)}),(t=>`${t.pattern.join(\",\")}-r${t.pixelRatio}`),u)}function a(e){const r=c(e),o=1/e.pixelRatio,n=f(e),i=s(e),u=(Math.floor(.5*(i-1))+.5)*o,a=[];let l=1;for(const t of r){for(let e=0;e<t;e++){const r=l*(Math.min(e,t-1-e)+.5)*o/u*.5+.5;a.push(r)}l=-l}const p=Math.round(r[0]/2),m=[...a.slice(p),...a.slice(0,p)],d=new Uint8Array(4*n);let x=0;for(const c of m)t(c,d,x),x+=4;return{encodedData:d,textureSize:n}}function c(t){return t.pattern.map((e=>Math.round(e*t.pixelRatio)))}function f(t){if(null==t)return 1;const e=c(t);return Math.floor(e.reduce(((t,e)=>t+e)))}function s(t){return c(t).reduce(((t,e)=>Math.max(t,e)))}export{s as computeLongestPattern,f as computeTextureSize,u as createStippleTextureRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{s as r}from\"../../../../chunks/vec42.js\";import{ZEROS as o,create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";function s(t){return null==t?o:4===t.length?t:r(c,t[0],t[1],t[2],1)}const c=t();export{s as ensureColor4};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{RgbaFloatEncoding as e}from\"../util/RgbaFloatEncoding.glsl.js\";import{addCameraPosition as t,addPixelRatio as o}from\"../util/View.glsl.js\";import{Float4PassUniform as i}from\"../../shaderModules/Float4PassUniform.js\";import{FloatPassUniform as r}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../../shaderModules/interfaces.js\";import{Texture2DPassUniform as a}from\"../../shaderModules/Texture2DPassUniform.js\";import{computeLongestPattern as p,computeTextureSize as n}from\"../../../materials/stippleTextureRepository.js\";import{ensureColor4 as s}from\"../../../shaders/ensureColor4.js\";function d(e,t){t.stippleEnabled?c(e,t):f(e)}function c(p,n){const d=!(n.draped&&n.stipplePreferContinuous),{vertex:c,fragment:f}=p;f.include(e),n.draped||(t(c,n),c.uniforms.add(new r(\"worldToScreenPerDistanceRatio\",((e,t)=>1/t.camera.perScreenPixelRatio))),c.code.add(l`float computeWorldToScreenRatio(vec3 segmentCenter) {\nfloat segmentDistanceToCamera = length(segmentCenter - cameraPosition);\nreturn worldToScreenPerDistanceRatio / segmentDistanceToCamera;\n}`)),p.varyings.add(\"vStippleDistance\",\"float\"),p.varyings.add(\"vStippleDistanceLimits\",\"vec2\"),p.varyings.add(\"vStipplePatternStretch\",\"float\"),c.code.add(l`\n    float discretizeWorldToScreenRatio(float worldToScreenRatio) {\n      float step = ${u};\n\n      float discreteWorldToScreenRatio = log(worldToScreenRatio);\n      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;\n      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);\n      return discreteWorldToScreenRatio;\n    }\n  `),c.code.add(l`vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {`),c.code.add(l`\n    if (segmentLengthPseudoScreen >= ${d?\"patternLength\":\"1e4\"}) {\n  `),o(c),c.code.add(l`float repetitions = segmentLengthScreen / (patternLength * pixelRatio);\nfloat flooredRepetitions = max(1.0, floor(repetitions + 0.5));\nfloat segmentLengthScreenRounded = flooredRepetitions * patternLength;\nfloat stretch = repetitions / flooredRepetitions;\nvStipplePatternStretch = max(0.75, stretch);\nreturn vec2(0.0, segmentLengthScreenRounded);\n}\nreturn vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);\n}`),f.uniforms.add(new a(\"stipplePatternTexture\",(e=>e.stippleTexture)),new r(\"stipplePatternSDFNormalizer\",(e=>m(e.stipplePattern))),new r(\"stipplePatternPixelSizeInv\",(e=>1/S(e)))),f.code.add(l`float getStippleSDF(out bool isClamped) {\nfloat stippleDistanceClamped = clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y);\nvec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;\nisClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;\nfloat u = stippleDistanceClamped * gl_FragCoord.w * stipplePatternPixelSizeInv * vLineSizeInv;\nu = fract(u);\nfloat encodedSDF = rgba2float(texture(stipplePatternTexture, vec2(u, 0.5)));\nfloat sdf = (encodedSDF * 2.0 - 1.0) * stipplePatternSDFNormalizer;\nreturn (sdf - 0.5) * vStipplePatternStretch + 0.5;\n}\nfloat getStippleSDF() {\nbool ignored;\nreturn getStippleSDF(ignored);\n}\nfloat getStippleAlpha() {\nbool isClamped;\nfloat stippleSDF = getStippleSDF(isClamped);\nfloat antiAliasedResult = clamp(stippleSDF * vLineWidth + 0.5, 0.0, 1.0);\nreturn isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;\n}`),n.stippleOffColorEnabled?(f.uniforms.add(new i(\"stippleOffColor\",(e=>s(e.stippleOffColor)))),f.code.add(l`#define discardByStippleAlpha(stippleAlpha, threshold) {}\n#define blendStipple(color, stippleAlpha) mix(color, stippleOffColor, stippleAlpha)`)):f.code.add(l`#define discardByStippleAlpha(stippleAlpha, threshold) if (stippleAlpha < threshold) { discard; }\n#define blendStipple(color, stippleAlpha) vec4(color.rgb, color.a * stippleAlpha)`)}function f(e){e.fragment.code.add(l`float getStippleAlpha() { return 1.0; }\n#define discardByStippleAlpha(_stippleAlpha_, _threshold_) {}\n#define blendStipple(color, _stippleAlpha_) color`)}function m(e){return e?(Math.floor(.5*(p(e)-1))+.5)/e.pixelRatio:1}function S(e){const t=e.stipplePattern;return t?n(e.stipplePattern)/t.pixelRatio:1}const u=l.float(.4);export{d as LineStipple,S as computePixelSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{markerSizePerLineWidth as e}from\"../../../../support/engineContent/marker.js\";import{addPixelRatio as r}from\"../util/View.glsl.js\";import{FloatPassUniform as o}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";import{LineMarkerSpace as a}from\"../../../shaders/LineMarkerTechniqueConfiguration.js\";function n(n,i){const d=n.vertex;r(d),null==d.uniforms.get(\"markerScale\")&&d.constants.add(\"markerScale\",\"float\",1),d.constants.add(\"markerSizePerLineWidth\",\"float\",e).code.add(t`float getLineWidth() {\nreturn max(getSize(), 1.0) * pixelRatio;\n}\nfloat getScreenMarkerSize() {\nreturn markerSizePerLineWidth * markerScale * getLineWidth();\n}`),i.space===a.World&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new o(\"perRenderPixelRatio\",((e,r)=>r.camera.perRenderPixelRatio))),d.code.add(t`bool areWorldMarkersHidden(vec4 pos, vec4 other) {\nvec3 midPoint = mix(pos.xyz, other.xyz, 0.5);\nfloat distanceToCamera = length(midPoint);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nfloat worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;\nfloat segmentLen = length(pos.xyz - other.xyz);\nreturn worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n}\nfloat getWorldMarkerSize(vec4 pos) {\nfloat distanceToCamera = length(pos.xyz);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nreturn getScreenMarkerSize() * screenToWorldRatio;\n}`))}export{n as MarkerSizing};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{d as i}from\"../../../../chunks/vec32.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectBuffer as s}from\"../../../../geometry/projection/projectBuffer.js\";import{Attribute as e}from\"./Attribute.js\";import{ContentObjectType as n}from\"./ContentObjectType.js\";import{Geometry as a}from\"./Geometry.js\";import{fromValues as h}from\"./LocalOriginFactory.js\";import{Object3D as m}from\"./Object3D.js\";import{gridLocalOriginFactory as c}from\"./testUtils.js\";import{VertexAttribute as g}from\"./VertexAttribute.js\";import{WebGLLayer as d}from\"./WebGLLayer.js\";import{RibbonLineMaterial as f}from\"../materials/RibbonLineMaterial.js\";class _{constructor(i){this._originSR=i,this._rootOriginId=\"root/\"+t(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const r=this._origins.get(this._rootOriginId);if(null==r){const i=c.rootOrigin;if(null!=i)return this._origins.set(this._rootOriginId,h(i[0],i[1],i[2],this._rootOriginId)),this.getOrigin(t);const r=h(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),a=`${s}/${e}/${n}`;let m=this._origins.get(a);const g=.5*o;if(i(l,t,r.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]),l[0]<g&&l[1]<g&&l[2]<g){if(m){const r=Math.max(...l);i(l,t,m.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]);if(Math.max(...l)<r)return m}return r}return m||(m=h(s*o,e*o,n*o,a),this._origins.set(a,m)),m}_drawOriginBox(t,i=o(1,1,0,1)){const r=window.view,h=r._stage,c=i.toString();if(!this._objects.has(c)){this._material=new f({width:2,color:i}),h.add(this._material);const t=new d(h,{pickable:!1}),r=new m({castShadow:!1});h.add(r),t.add(r),this._objects.set(c,r)}const _=this._objects.get(c),l=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],p=l.length,j=new Array(3*p),b=new Array,u=.5*this._gridSize;for(let o=0;o<p;o++)j[3*o]=t[0]+(1&l[o]?u:-u),j[3*o+1]=t[1]+(2&l[o]?u:-u),j[3*o+2]=t[2]+(4&l[o]?u:-u),o>0&&b.push(o-1,o);s(j,this._originSR,0,j,r.renderSpatialReference,0,p);const M=new a(this._material,[[g.POSITION,new e(j,b,3,!0)]],null,n.Line);h.add(M),_.addGeometry(M)}get test(){}}const l=r();export{_ as GridLocalOriginFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class s{constructor(r,s){this.vec3=r,this.id=s}}function t(t,o,c,e){return new s(r(t,o,c),e)}export{s as LocalOrigin,t as fromValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{copy as t,multiply as e,hasIdentityRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as s,create as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{m as o,t as a,j as n,i as m,g as h,p as c,c as l}from\"../../../../chunks/vec32.js\";import{fromValues as d,create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as g,c as f}from\"../../../../chunks/sphere.js\";import{maxScale as b}from\"../../support/mathUtils.js\";import{Object3DState as _}from\"./basicInterfaces.js\";import{ContentObject as p}from\"./ContentObject.js\";import{ContentObjectType as v}from\"./ContentObjectType.js\";import{Object3DOccludeeStateID as j,Object3DHighlightStateID as y}from\"./Object3DStateID.js\";import{assert as S}from\"./Util.js\";import{affectsGeometry as x}from\"./VertexAttribute.js\";import{addObject3DStateID as V,removeObject3DStateID as O}from\"../materials/renderers/utils.js\";class A extends p{get geometries(){return this._geometries}get transformation(){return this._transformation??s}set transformation(e){this._transformation=t(this._transformation??r(),e),this._invalidateBoundingVolume(),this._emit(\"transformationChanged\",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(e){this._shaderTransformation=e?t(this._shaderTransformation??r(),e):null,this._invalidateBoundingVolume(),this._emit(\"shaderTransformationChanged\",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}constructor(t={}){super(),this.type=v.Object,this._shaderTransformation=null,this._parentLayer=null,this._visible=!0,this.castShadow=t.castShadow??!0,this.usesVerticalDistanceToGround=t.usesVerticalDistanceToGround??!1,this.graphicUid=t.graphicUid,this.layerUid=t.layerUid,t.isElevationSource&&(this.lastValidElevationBB=new L),this._geometries=t.geometries?Array.from(t.geometries):new Array}dispose(){this._geometries.length=0}get parentLayer(){return this._parentLayer}set parentLayer(t){S(null==this._parentLayer||null==t,\"Object3D can only be added to a single Layer\"),this._parentLayer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t),this._emit(\"geometryAdded\",{object:this,geometry:t}),this._invalidateBoundingVolume()}removeGeometry(t){const e=this._geometries.splice(t,1)[0];e&&(this._emit(\"geometryRemoved\",{object:this,geometry:e}),this._invalidateBoundingVolume())}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,e,i=!1){this._emit(\"attributesChanged\",{object:this,geometry:t,attribute:e,sync:i}),x(e)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit(\"visibilityChanged\",this)}}maskOccludee(){const t=new j;for(const e of this._geometries)e.occludees=V(e.occludees,t);return this._emit(\"occlusionChanged\",this),t}removeOcclude(t){for(const e of this._geometries)e.occludees=O(e.occludees,t);this._emit(\"occlusionChanged\",this)}highlight(t){const e=new y(t);for(const i of this._geometries)i.addHighlight(e);return this._emit(\"highlightChanged\",this),e}removeHighlight(t){for(const e of this._geometries)e.removeHighlight(t);this._emit(\"highlightChanged\",this)}removeStateID(t){t.channel===_.Highlight?this.removeHighlight(t):this.removeOcclude(t)}getCombinedStaticTransformation(t,i){return e(i,this.transformation,t.transformation)}getCombinedShaderTransformation(t,i=r()){return e(i,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new M,this._validateBoundingVolume(this._bvWorldSpace,E.WorldSpace)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new M,this._validateBoundingVolume(this._bvObjectSpace,E.ObjectSpace)),this._bvObjectSpace}_validateBoundingVolume(t,e){const i=e===E.ObjectSpace;for(const s of this._geometries){const e=s.boundingInfo;e&&T(e,t,i?s.transformation:this.getCombinedShaderTransformation(s))}o(g(t.bounds),t.min,t.max,.5);for(const s of this._geometries){const e=s.boundingInfo;if(null==e)continue;const r=i?s.transformation:this.getCombinedShaderTransformation(s),o=b(r);a(W,e.center,r);const m=n(W,g(t.bounds)),h=e.radius*o;t.bounds[3]=Math.max(t.bounds[3],m+h)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this._parentLayer&&t&&this._parentLayer.notifyObjectBBChanged(this,t)}_emit(t,e){this._parentLayer&&this._parentLayer.events.emit(t,e)}get test(){}}class L{constructor(){this.min=d(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.max=d(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)}isEmpty(){return this.max[0]<this.min[0]&&this.max[1]<this.min[1]&&this.max[2]<this.min[2]}}class M extends L{constructor(){super(...arguments),this.bounds=f()}}function T(t,e,s){const r=t.bbMin,o=t.bbMax;if(i(s)){const t=m(C,s[12],s[13],s[14]);h(B,r,t),h(U,o,t);for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],U[i])}else if(a(B,r,s),c(r,o))for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],B[i]);else{a(U,o,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t]);for(let t=0;t<3;++t){l(B,r),l(U,o),B[t]=o[t],U[t]=r[t],a(B,B,s),a(U,U,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t])}}}const C=u(),B=u(),U=u(),W=u();var E;!function(t){t[t.WorldSpace=0]=\"WorldSpace\",t[t.ObjectSpace=1]=\"ObjectSpace\"}(E||(E={}));export{A as Object3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar C;!function(C){C[C.ASYNC=0]=\"ASYNC\",C[C.SYNC=1]=\"SYNC\"}(C||(C={}));export{C as UpdatePolicy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e=[\"layerObjectAdded\",\"layerObjectRemoved\",\"layerObjectsAdded\",\"layerObjectsRemoved\",\"transformationChanged\",\"shaderTransformationChanged\",\"visibilityChanged\",\"occlusionChanged\",\"highlightChanged\",\"geometryAdded\",\"geometryRemoved\",\"attributesChanged\"];export{e as DirtyEventNames};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{ContentObject as r}from\"./ContentObject.js\";import{ContentObjectType as o}from\"./ContentObjectType.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import d from\"./Octree.js\";import{UpdatePolicy as c}from\"./UpdatePolicy.js\";class a extends r{constructor(s,r,d=\"\"){super(),this.stage=s,this.apiLayerUid=d,this.type=o.Layer,this.events=new e,this.visible=!0,this.sliceable=!1,this._objectsAdded=new i,this._handles=new t,this._objects=new i,this._pickable=!0,this.visible=r?.visible??!0,this._pickable=r?.pickable??!0,this.updatePolicy=r?.updatePolicy??c.ASYNC,this._disableOctree=r?.disableOctree??!1,s.add(this);for(const e of h)this._handles.add(this.events.on(e,(t=>s.handleEvent(e,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.remove(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit(\"layerObjectAdded\",{layer:this,object:e}),null!=this._octree&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit(\"layerObjectRemoved\",{layer:this,object:e}),null!=this._octree&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit(\"layerObjectsAdded\",{layer:this,objects:e}),null!=this._octree&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit(\"layerObjectsRemoved\",{layer:this,objects:t}),null!=this._octree){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){this.updatePolicy!==c.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.length>50&&!this._disableOctree?(this._octree=new d((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}invalidateSpatialQueryAccelerator(){this._octree=s(this._octree),this._objectsAdded.clear()}}function l(e){return null!=e&&e.type===o.Layer}export{a as WebGLLayer,l as isWebGLLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst n={stableRendering:!1},e={rootOrigin:null};export{e as gridLocalOriginFactory,n as textTextureAtlas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as r}from\"../lib/OITPass.js\";import{blending as l,oitDepthTest as s,depthWrite as n,getDrawBuffers as o,OITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as c,stencilToolMaskBaseParams as a,stencilBaseAllZerosParams as f,depthCompareAlways as d,stencilToolTransparentOccluderParams as T,stencilWriteMaskOff as h,stencilToolMaskOccluderParams as O,depthCompareLess as m}from\"../lib/StencilUtils.js\";import{VertexAttribute as E}from\"../lib/VertexAttribute.js\";import{R as P}from\"../../../../chunks/RibbonLine.glsl.js\";import{PrimitiveType as R,SpecialDrawBuffers as I}from\"../../../webgl/enums.js\";import{makePipelineState as b,defaultColorWrite as N,premultipliedAlphaToPremultipliedAlpha as S}from\"../../../webgl/renderState.js\";class g extends i{constructor(e,i,r){super(e,i,new t(P,(()=>import(\"./RibbonLine.glsl.js\"))),r,_),this.primitiveType=i.wireframe?R.LINES:R.TRIANGLE_STRIP}_makePipelineState(t,i){const{oitPass:p,output:d,hasOccludees:T,hasPolygonOffset:h}=t,O=p===r.NONE,m=p===r.FrontFace;return b({blending:t.output===e.Color?l(p):null,depthTest:{func:s(p)},depthWrite:n(t),drawBuffers:d===e.Depth?{buffers:[I.NONE]}:o(p,d),colorWrite:N,stencilWrite:T?c:null,stencilTest:T?i?a:f:null,polygonOffset:O||m?h?A:null:u})}initializePipeline(t){if(t.occluder){const i=t.hasPolygonOffset?A:null;this._occluderPipelineTransparent=b({blending:S,polygonOffset:i,depthTest:d,depthWrite:null,colorWrite:N,stencilWrite:null,stencilTest:T,drawBuffers:t.output===e.Depth?{buffers:[I.NONE]}:null}),this._occluderPipelineOpaque=b({blending:S,polygonOffset:i,depthTest:d,depthWrite:null,colorWrite:N,stencilWrite:h,stencilTest:O,drawBuffers:t.output===e.Depth?{buffers:[I.NONE]}:null}),this._occluderPipelineMaskWrite=b({blending:null,polygonOffset:i,depthTest:m,depthWrite:null,colorWrite:null,stencilWrite:c,stencilTest:a,drawBuffers:t.output===e.Depth?{buffers:[I.NONE]}:null})}return this._occludeePipeline=this._makePipelineState(t,!0),this._makePipelineState(t,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case p.TRANSPARENT_OCCLUDER_MATERIAL:return this._occluderPipelineTransparent??super.getPipeline();case p.OCCLUDER_MATERIAL:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const A={factor:0,units:-4},_=new Map([[E.POSITION,0],[E.PREVPOSITION,1],[E.NEXTPOSITION,2],[E.SUBDIVISIONFACTOR,3],[E.UV0,4],[E.COLOR,5],[E.COLORFEATUREATTRIBUTE,5],[E.SIZE,6],[E.SIZEFEATUREATTRIBUTE,6],[E.OPACITYFEATUREATTRIBUTE,7],[E.OBJECTANDLAYERIDCOLOR,8]]);export{g as RibbonLineTechnique,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{copy as i}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{i as s,d as a,f as n,h as o,g as l,c,l as p,j as h,t as u}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as m}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PlaneIndex as T}from\"../../../../geometry/support/frustum.js\";import{create as d,distance2 as _,fromPoints as E,closestLineSegmentPoint as A}from\"../../../../geometry/support/lineSegment.js\";import{create as R,fromPoints as O,signedDistance as g,getNormal as I}from\"../../../../geometry/support/plane.js\";import{newLayout as S}from\"../../support/buffer/InterleavedLayout.js\";import{isHighlightOrOID as v,isColor as P,isDepth as N,isColorHighlightOIDOrDepth as L,ShaderOutput as C,is2DGeometryOutput as b}from\"../core/shaderLibrary/ShaderOutput.js\";import{alphaCutoff as U}from\"../core/shaderLibrary/util/AlphaCutoff.js\";import{olidEnabled as y}from\"../effects/geometry/olidUtils.js\";import D from\"../lib/GLMaterial.js\";import{Material as j,RenderOccludedFlag as F}from\"../lib/Material.js\";import{RenderSlot as w}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as M}from\"../lib/Util.js\";import{VertexAttribute as x}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as B}from\"./VisualVariablePassParameters.js\";import{LineMarkerAnchor as J}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{r as H}from\"../../../../chunks/RibbonLine.glsl.js\";import{vertexAttributeLocations as z,RibbonLineTechnique as G}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as k,CapType as V}from\"../shaders/RibbonLineTechniqueConfiguration.js\";var Z;!function(e){e[e.LEFT_JOIN_START=-2]=\"LEFT_JOIN_START\",e[e.LEFT_JOIN_END=-1]=\"LEFT_JOIN_END\",e[e.LEFT_CAP_START=-4]=\"LEFT_CAP_START\",e[e.LEFT_CAP_END=-5]=\"LEFT_CAP_END\",e[e.RIGHT_JOIN_START=2]=\"RIGHT_JOIN_START\",e[e.RIGHT_JOIN_END=1]=\"RIGHT_JOIN_END\",e[e.RIGHT_CAP_START=4]=\"RIGHT_CAP_START\",e[e.RIGHT_CAP_END=5]=\"RIGHT_CAP_END\"}(Z||(Z={}));class W extends j{constructor(e){super(e,q),this._configuration=new k,this.vertexAttributeLocations=z,this.produces=new Map([[w.OPAQUE_MATERIAL,e=>v(e)||P(e)&&this.parameters.renderOccluded===F.OccludeAndTransparentStencil],[w.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>N(e)],[w.OCCLUDER_MATERIAL,e=>L(e)&&this.parameters.renderOccluded===F.OccludeAndTransparentStencil],[w.TRANSPARENT_OCCLUDER_MATERIAL,e=>L(e)&&this.parameters.renderOccluded===F.OccludeAndTransparentStencil],[w.TRANSPARENT_MATERIAL,e=>e===C.Color&&this.parameters.writeDepth&&this.parameters.renderOccluded!==F.OccludeAndTransparentStencil],[w.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>e===C.Color&&!this.parameters.writeDepth&&this.parameters.renderOccluded!==F.OccludeAndTransparentStencil],[w.DRAPED_MATERIAL,e=>b(e)]])}getConfiguration(e,t){this._configuration.output=e,this._configuration.oitPass=t.oitPass,this._configuration.draped=t.slot===w.DRAPED_MATERIAL;const r=null!=this.parameters.stipplePattern&&e!==C.Highlight;return this._configuration.stippleEnabled=r,this._configuration.stippleOffColorEnabled=r&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=r&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.roundJoins=\"round\"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&$(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.hasOccludees=t.hasOccludees,this._configuration.occluder=this.parameters.renderOccluded===F.OccludeAndTransparentStencil,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.wireframe=this.parameters.wireframe,this._configuration}get visible(){return this.parameters.color[3]>=U||null!=this.parameters.stipplePattern&&(this.parameters.stippleOffColor?.[3]??0)>U}intersectDraped({attributes:e,screenToWorldRatio:r},i,s,a,n,o){if(!s.options.selectionMode)return;const l=e.get(x.SIZE);let c=this.parameters.width;if(this.parameters.vvSize){const r=e.get(x.SIZEFEATUREATTRIBUTE).data[0];c*=t(this.parameters.vvSize.offset[0]+r*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else l&&(c*=l.data[0]);const p=a[0],h=a[1],u=(c/2+4)*r;let f=Number.MAX_VALUE,m=0;const T=e.get(x.POSITION).data,d=K(this.parameters,e)?T.length-2:T.length-5;for(let _=0;_<d;_+=3){const e=T[_],r=T[_+1],i=(_+3)%T.length,s=p-e,a=h-r,n=T[i]-e,o=T[i+1]-r,l=t((n*s+o*a)/(n*n+o*o),0,1),c=n*l-s,u=o*l-a,d=c*c+u*u;d<f&&(f=d,m=_/3)}f<u*u&&n(o.dist,o.normal,m,!1)}intersect(r,u,f,m,d,R){if(!f.options.selectionMode||!r.visible)return;if(!M(u))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");const S=r.attributes,v=S.get(x.POSITION).data;let P=this.parameters.width;if(this.parameters.vvSize){const e=S.get(x.SIZEFEATUREATTRIBUTE).data[0];P*=t(this.parameters.vvSize.offset[0]+e*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else S.has(x.SIZE)&&(P*=S.get(x.SIZE).data[0]);const N=f.camera,L=se;i(L,f.point);const C=P*N.pixelRatio/2+4*N.pixelRatio;s(me[0],L[0]-C,L[1]+C,0),s(me[1],L[0]+C,L[1]+C,0),s(me[2],L[0]+C,L[1]-C,0),s(me[3],L[0]-C,L[1]-C,0);for(let e=0;e<4;e++)if(!N.unprojectFromRenderScreen(me[e],Te[e]))return;O(N.eye,Te[0],Te[1],de),O(N.eye,Te[1],Te[2],_e),O(N.eye,Te[2],Te[3],Ee),O(N.eye,Te[3],Te[0],Ae);let b=Number.MAX_VALUE,U=0;const y=K(this.parameters,S)?v.length-2:v.length-5;for(let e=0;e<y;e+=3){ee[0]=v[e]+u[12],ee[1]=v[e+1]+u[13],ee[2]=v[e+2]+u[14];const t=(e+3)%v.length;if(te[0]=v[t]+u[12],te[1]=v[t+1]+u[13],te[2]=v[t+2]+u[14],g(de,ee)<0&&g(de,te)<0||g(_e,ee)<0&&g(_e,te)<0||g(Ee,ee)<0&&g(Ee,te)<0||g(Ae,ee)<0&&g(Ae,te)<0)continue;if(N.projectToRenderScreen(ee,ae),N.projectToRenderScreen(te,ne),ae[2]<0&&ne[2]>0){a(re,ee,te);const e=N.frustum,t=-g(e[T.NEAR],ee)/n(re,I(e[T.NEAR]));o(re,re,t),l(ee,ee,re),N.projectToRenderScreen(ee,ae)}else if(ae[2]>0&&ne[2]<0){a(re,te,ee);const e=N.frustum,t=-g(e[T.NEAR],te)/n(re,I(e[T.NEAR]));o(re,re,t),l(te,te,re),N.projectToRenderScreen(te,ne)}else if(ae[2]<0&&ne[2]<0)continue;ae[2]=0,ne[2]=0;const r=_(E(ae,ne,ce),L);r<b&&(b=r,c(oe,ee),c(le,te),U=e/3)}const D=f.rayBegin,j=f.rayEnd;if(b<C*C){let e=Number.MAX_VALUE;if(A(E(oe,le,ce),E(D,j,pe),ie)){a(ie,ie,D);const t=p(ie);o(ie,ie,1/t),e=t/h(D,j)}R(e,ie,U,!1)}}get _layout(){const e=S().vec3f(x.POSITION).vec3f(x.PREVPOSITION).vec3f(x.NEXTPOSITION).f32(x.SUBDIVISIONFACTOR).vec2f(x.UV0);return this.parameters.vvSize?e.f32(x.SIZEFEATUREATTRIBUTE):e.f32(x.SIZE),this.parameters.vvColor?e.f32(x.COLORFEATUREATTRIBUTE):e.vec4f(x.COLOR),this.parameters.vvOpacity&&e.f32(x.OPACITYFEATUREATTRIBUTE),y()&&e.vec4u8(x.OBJECTANDLAYERIDCOLOR),e}createBufferWriter(){return new X(this._layout,this.parameters)}createGLMaterial(e){return new Y(e)}validateParameters(e){\"miter\"!==e.join&&(e.miterLimit=0),null!=e.markerParameters&&(e.markerScale=e.markerParameters.width/e.width)}}class Y extends D{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextures.release(this._stipplePattern),this._stipplePattern=null}beginSlot(e){const t=this._material.parameters.stipplePattern;return this._stipplePattern!==t&&(this._material.setParameters({stippleTexture:this._stippleTextures.swap(t,this._stipplePattern)}),this._stipplePattern=t),this.acquireTechnique(G,e)}}class q extends B{constructor(){super(...arguments),this.width=0,this.color=m,this.join=\"miter\",this.cap=V.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.wireframe=!1}get transparent(){return this.color[3]<1||null!=this.stipplePattern&&(this.stippleOffColor?.[3]??0)<1}}class X{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t,this.numJoinSubdivisions=0;const r=t.stipplePattern?1:0;switch(this._parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=r;break;case\"round\":this.numJoinSubdivisions=H+r}}_isClosed(e){return K(this._parameters,e)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.get(x.POSITION).indices.length/2+1,i=this._isClosed(e);let s=i?2:2*t;return s+=((i?r:r-1)-(i?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(e,t,r,i,a,n){const o=he,l=ue,p=fe,f=r.get(x.POSITION),m=f.indices,T=f.data.length/3,d=r.get(x.DISTANCETOSTART)?.data;m&&m.length!==2*(T-1)&&console.warn(\"RibbonLineMaterial does not support indices\");const _=r.get(x.SIZEFEATUREATTRIBUTE)?.data[0]??r.get(x.SIZE)?.data[0]??1;let E=[1,1,1,1],A=0;const R=this.vertexBufferLayout.fields.has(x.COLORFEATUREATTRIBUTE);R?A=r.get(x.COLORFEATUREATTRIBUTE).data[0]:r.has(x.COLOR)&&(E=r.get(x.COLOR).data);const O=this.vertexBufferLayout.fields.has(x.OPACITYFEATUREATTRIBUTE),g=O?r.get(x.OPACITYFEATUREATTRIBUTE).data[0]:0,I=new Float32Array(a.buffer),S=y()?new Uint8Array(a.buffer):null,v=this.vertexBufferLayout.stride/4;let P=n*v;const N=P;let L=0;const C=d?(e,t,r)=>L=d[r]:(e,t,r)=>L+=h(e,t),b=(e,t,r,s,a,n,o)=>{if(I[P++]=t[0],I[P++]=t[1],I[P++]=t[2],I[P++]=e[0],I[P++]=e[1],I[P++]=e[2],I[P++]=r[0],I[P++]=r[1],I[P++]=r[2],I[P++]=s,I[P++]=o,I[P++]=a,I[P++]=_,R)I[P++]=A;else{const e=Math.min(4*n,E.length-4);I[P++]=E[e],I[P++]=E[e+1],I[P++]=E[e+2],I[P++]=E[e+3]}O&&(I[P++]=g),y()&&(i&&(S[4*P]=i[0],S[4*P+1]=i[1],S[4*P+2]=i[2],S[4*P+3]=i[3]),P++)};P+=v,s(l,f.data[0],f.data[1],f.data[2]),e&&u(l,l,e);const U=this._isClosed(r);if(U){const t=f.data.length-3;s(o,f.data[t],f.data[t+1],f.data[t+2]),e&&u(o,o,e)}else s(p,f.data[3],f.data[4],f.data[5]),e&&u(p,p,e),b(l,l,p,1,Z.LEFT_CAP_START,0,0),b(l,l,p,1,Z.RIGHT_CAP_START,0,0),c(o,l),c(l,p);const D=U?0:1,j=U?T:T-1;for(let h=D;h<j;h++){const t=(h+1)%T*3;s(p,f.data[t],f.data[t+1],f.data[t+2]),e&&u(p,p,e),C(o,l,h),b(o,l,p,0,Z.LEFT_JOIN_END,h,L),b(o,l,p,0,Z.RIGHT_JOIN_END,h,L);const r=this.numJoinSubdivisions;for(let e=0;e<r;++e){const t=(e+1)/(r+1);b(o,l,p,t,Z.LEFT_JOIN_END,h,L),b(o,l,p,t,Z.RIGHT_JOIN_END,h,L)}b(o,l,p,1,Z.LEFT_JOIN_START,h,L),b(o,l,p,1,Z.RIGHT_JOIN_START,h,L),c(o,l),c(l,p)}U?(s(p,f.data[3],f.data[4],f.data[5]),e&&u(p,p,e),L=C(o,l,j),b(o,l,p,0,Z.LEFT_JOIN_END,D,L),b(o,l,p,0,Z.RIGHT_JOIN_END,D,L)):(L=C(o,l,j),b(o,l,l,0,Z.LEFT_CAP_END,j,L),b(o,l,l,0,Z.RIGHT_CAP_END,j,L)),Q(I,N+v,I,N,v);P=Q(I,P-v,I,P,v),this._parameters.wireframe&&this._addWireframeVertices(a,N,P,v)}_addWireframeVertices(e,t,r,i){const s=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=Q(a,e,s,n,i);for(let l=0;l<a.length-1;l+=2*i)o(l),o(l+2*i),o(l+1*i),o(l+2*i),o(l+1*i),o(l+3*i)}}function Q(e,t,r,i,s){for(let a=0;a<s;a++)r[i++]=e[t++];return i}function K(e,t){if(!e.isClosed)return!1;return t.get(x.POSITION).indices.length>2}function $(e){return e.anchor===J.Tip&&e.hideOnShortSegments&&\"begin-end\"===e.placement&&e.worldSpace}const ee=f(),te=f(),re=f(),ie=f(),se=f(),ae=r(),ne=r(),oe=f(),le=f(),ce=d(),pe=d(),he=f(),ue=f(),fe=f(),me=[r(),r(),r(),r()],Te=[f(),f(),f(),f()],de=R(),_e=R(),Ee=R(),Ae=R();export{q as Parameters,W as RibbonLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";var s,p;!function(e){e[e.Draped=0]=\"Draped\",e[e.Screen=1]=\"Screen\",e[e.World=2]=\"World\",e[e.COUNT=3]=\"COUNT\"}(s||(s={})),function(e){e[e.Center=0]=\"Center\",e[e.Tip=1]=\"Tip\",e[e.COUNT=2]=\"COUNT\"}(p||(p={}));class a extends r{constructor(){super(...arguments),this.space=s.Screen,this.anchor=p.Center,this.occluder=!1,this.hasSlicePlane=!1,this.writeDepth=!1,this.hideOnShortSegments=!1,this.hasCap=!1,this.hasTip=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0,this.objectAndLayerIdColorInstanced=!1}get draped(){return this.space===s.Draped}}e([i({count:s.COUNT})],a.prototype,\"space\",void 0),e([i({count:p.COUNT})],a.prototype,\"anchor\",void 0),e([i()],a.prototype,\"occluder\",void 0),e([i()],a.prototype,\"hasSlicePlane\",void 0),e([i()],a.prototype,\"writeDepth\",void 0),e([i()],a.prototype,\"hideOnShortSegments\",void 0),e([i()],a.prototype,\"hasCap\",void 0),e([i()],a.prototype,\"hasTip\",void 0),e([i()],a.prototype,\"vvSize\",void 0),e([i()],a.prototype,\"vvColor\",void 0),e([i()],a.prototype,\"vvOpacity\",void 0),e([i()],a.prototype,\"hasOccludees\",void 0),e([i()],a.prototype,\"terrainDepthTest\",void 0),e([i()],a.prototype,\"cullAboveTerrain\",void 0);export{p as LineMarkerAnchor,s as LineMarkerSpace,a as LineMarkerTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as e}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";var s;!function(o){o[o.BUTT=0]=\"BUTT\",o[o.SQUARE=1]=\"SQUARE\",o[o.ROUND=2]=\"ROUND\",o[o.COUNT=3]=\"COUNT\"}(s||(s={}));class p extends r{constructor(){super(...arguments),this.capType=s.BUTT,this.hasSlicePlane=!1,this.hasPolygonOffset=!1,this.writeDepth=!1,this.draped=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stipplePreferContinuous=!0,this.roundJoins=!1,this.applyMarkerOffset=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.hasOccludees=!1,this.occluder=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.wireframe=!1,this.discardInvisibleFragments=!1,this.objectAndLayerIdColorInstanced=!1,this.textureCoordinateType=t.None,this.emissionSource=e.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0}}o([i({count:s.COUNT})],p.prototype,\"capType\",void 0),o([i()],p.prototype,\"hasSlicePlane\",void 0),o([i()],p.prototype,\"hasPolygonOffset\",void 0),o([i()],p.prototype,\"writeDepth\",void 0),o([i()],p.prototype,\"draped\",void 0),o([i()],p.prototype,\"stippleEnabled\",void 0),o([i()],p.prototype,\"stippleOffColorEnabled\",void 0),o([i()],p.prototype,\"stipplePreferContinuous\",void 0),o([i()],p.prototype,\"roundJoins\",void 0),o([i()],p.prototype,\"applyMarkerOffset\",void 0),o([i()],p.prototype,\"vvSize\",void 0),o([i()],p.prototype,\"vvColor\",void 0),o([i()],p.prototype,\"vvOpacity\",void 0),o([i()],p.prototype,\"falloffEnabled\",void 0),o([i()],p.prototype,\"innerColorEnabled\",void 0),o([i()],p.prototype,\"hasOccludees\",void 0),o([i()],p.prototype,\"occluder\",void 0),o([i()],p.prototype,\"terrainDepthTest\",void 0),o([i()],p.prototype,\"cullAboveTerrain\",void 0),o([i()],p.prototype,\"wireframe\",void 0),o([i()],p.prototype,\"discardInvisibleFragments\",void 0),o([i()],p.prototype,\"objectAndLayerIdColorInstanced\",void 0);export{s as CapType,p as RibbonLineTechniqueConfiguration};\n"],"names":["w","y","C","attributes","j","varyings","P","vertex","R","fragment","A","applyMarkerOffset","F","draped","z","output","T","capType","E","stippleEnabled","V","falloffEnabled","O","roundJoins","W","wireframe","I","innerColorEnabled","N","include","_","uniforms","add","e","markerScale","space","World","i","camera","inverseProjectionMatrix","nearFar","join","miterLimit","fullViewport","constants","POSITION","PREVPOSITION","NEXTPOSITION","SUBDIVISIONFACTOR","UV0","M","terrainDepthTest","Color","U","k","ROUND","$","H","code","main","float","J","BUTT","screenToPCSRatio","ObjectAndLayerIdColor","color","innerColor","innerWidth","pixelRatio","falloff","Object","freeze","defineProperty","__proto__","build","ribbonlineNumRoundJoinSubdivisions","Symbol","toStringTag","value","o","constructor","this","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","centerPointInElevationSR","mode","featureExpressionInfoContext","meterUnitOffset","unit","requiresSampledElevationInfo","reset","offsetMeters","t","offsetElevationInfoUnits","addOffsetRenderUnits","geometryZWithOffset","n","calculateOffsetRenderUnits","s","unitInMeters","setFromElevationInfo","offset","updateFeatureExpressionInfoContext","arcade","modules","fromElevationInfo","b","u","a","l","c","f","m","x","d","g","p","spatialReference","requiresAlignment","applyElevationAlignmentBuffer","r","array","verticalDistanceToGround","sampledElevation","D","staysOnTheGround","definedChanged","UPDATE","onTheGroundChanged","transformation","geometries","length","getMutableAttribute","CENTEROFFSETANDDISTANCE","data","geometryVertexAttributeUpdated","NONE","RECREATE","getElevation","getLogger","cachedResult","func","context","arcadeUtils","createExecContext","sr","async","expression","createSyntaxTree","dependsOnView","error","createFunction","createFeature","geometry","errorOncePerTick","_geometry","updateExecContext","executeFunction","featureExpressionInfo","RasterImage","Features","MapLayer","ViewLayer","Outline","SnappingHint","WithRasterImage","WithoutRasterImage","width","vvSize","SIZEFEATUREATTRIBUTE","minSize","maxSize","factor","SIZE","vvOpacity","OPACITYFEATUREATTRIBUTE","values","opacityValues","vvColor","COLORFEATUREATTRIBUTE","COLOR","pattern","map","Math","round","floor","reduce","max","stipplePreferContinuous","perScreenPixelRatio","stippleTexture","stipplePattern","S","stippleOffColorEnabled","stippleOffColor","get","perRenderPixelRatio","_originSR","_rootOriginId","_origins","Map","_objects","_gridSize","getOrigin","rootOrigin","set","random","vec3","abs","_drawOriginBox","window","view","h","_stage","toString","has","_material","pickable","castShadow","Array","push","renderSpatialReference","Line","addGeometry","test","id","_geometries","_transformation","_invalidateBoundingVolume","_emit","shaderTransformation","_shaderTransformation","effectiveTransformation","super","type","_parentLayer","_visible","usesVerticalDistanceToGround","graphicUid","layerUid","isElevationSource","lastValidElevationBB","L","from","dispose","parentLayer","visible","object","removeGeometry","splice","removeAllGeometries","attribute","sync","maskOccludee","occludees","removeOcclude","highlight","addHighlight","removeHighlight","removeStateID","channel","Highlight","getCombinedStaticTransformation","getCombinedShaderTransformation","boundingVolumeWorldSpace","_bvWorldSpace","_validateBoundingVolume","WorldSpace","boundingVolumeObjectSpace","_bvObjectSpace","ObjectSpace","boundingInfo","bounds","min","center","radius","notifyObjectBBChanged","events","emit","Number","MAX_VALUE","isEmpty","arguments","bbMin","bbMax","B","ASYNC","SYNC","stage","apiLayerUid","Layer","sliceable","_objectsAdded","_handles","_pickable","updatePolicy","_disableOctree","disableOctree","on","handleEvent","destroy","size","remove","invalidateSpatialQueryAccelerator","objects","layer","_octree","removeUnordered","addMany","pushArray","removeMany","removeUnorderedMany","syncLayer","includes","update","getSpatialQueryAccelerator","clear","stableRendering","primitiveType","LINES","TRIANGLE_STRIP","_makePipelineState","oitPass","hasOccludees","hasPolygonOffset","FrontFace","blending","depthTest","depthWrite","drawBuffers","Depth","buffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","occluder","_occluderPipelineTransparent","_occluderPipelineOpaque","_occluderPipelineMaskWrite","_occludeePipeline","getPipeline","TRANSPARENT_OCCLUDER_MATERIAL","OCCLUDER_MATERIAL","units","OBJECTANDLAYERIDCOLOR","Z","LEFT_JOIN_START","LEFT_JOIN_END","LEFT_CAP_START","LEFT_CAP_END","RIGHT_JOIN_START","RIGHT_JOIN_END","RIGHT_CAP_START","RIGHT_CAP_END","q","_configuration","vertexAttributeLocations","produces","OPAQUE_MATERIAL","parameters","renderOccluded","OccludeAndTransparentStencil","OPAQUE_MATERIAL_WITHOUT_NORMALS","TRANSPARENT_MATERIAL","writeDepth","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","slot","hasSlicePlane","cap","markerParameters","anchor","Tip","hideOnShortSegments","placement","worldSpace","cullAboveTerrain","intersectDraped","screenToWorldRatio","options","selectionMode","K","dist","normal","intersect","v","se","point","me","unprojectFromRenderScreen","Te","eye","de","_e","Ee","Ae","ee","te","projectToRenderScreen","ae","ne","re","frustum","NEAR","ce","oe","le","rayBegin","rayEnd","pe","ie","_layout","vec3f","f32","vec2f","vec4f","vec4u8","createBufferWriter","X","createGLMaterial","Y","validateParameters","_stipplePattern","_stippleTextures","release","beginSlot","setParameters","swap","acquireTechnique","vvFastUpdate","isClosed","transparent","vertexBufferLayout","_parameters","numJoinSubdivisions","_isClosed","allocate","createBuffer","elementCount","indices","write","he","ue","fe","DISTANCETOSTART","fields","Float32Array","buffer","Uint8Array","stride","Q","_addWireframeVertices","BYTES_PER_ELEMENT","Draped","Screen","COUNT","Center","hasCap","hasTip","textureCoordinateType","None","emissionSource","discardInvisibleFragments","occlusionPass","hasVvInstancing","hasSliceTranslatedView","objectAndLayerIdColorInstanced","count","prototype","SQUARE"],"sourceRoot":""}