"use strict";
(self["webpackChunkreact_redux_arcgis_boilerplate"] = self["webpackChunkreact_redux_arcgis_boilerplate"] || []).push([["vendors-node_modules_arcgis_core_geometry_projection_projectVectorToPoint_js-node_modules_arc-9e09ac"],{

/***/ "./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: function() { return /* binding */ H; },
/* harmony export */   b: function() { return /* binding */ T; },
/* harmony export */   c: function() { return /* binding */ E; },
/* harmony export */   s: function() { return /* binding */ L; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUDOcclusionPass_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUDVisibility_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const L={occludedFadeFactor:.6};function T(o){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_23__.ShaderBuilder,T=o.signedDistanceFieldEnabled;if(r.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_8__.HUD,o),r.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_5__.SliceDraw,o),o.occlusionPass)return r.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUDOcclusionPass_glsl_js__WEBPACK_IMPORTED_MODULE_9__.HUDOcclusionPass,o),r;const{vertex:M,fragment:H}=r;r.include(_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_16__.ScreenSizePerspective),r.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_12__.VisualVariables,o),r.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_6__.ObjectAndLayerIdColor,o),r.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUDVisibility_glsl_js__WEBPACK_IMPORTED_MODULE_10__.HUDVisibility),H.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_15__.RgbaFloatEncoding),H.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_14__.ColorConversion),r.varyings.add("vcolor","vec4"),r.varyings.add("vtc","vec2"),r.varyings.add("vsize","vec2"),r.varyings.add("voccluded","float"),M.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__.Float4PassUniform("viewport",((e,o)=>o.camera.fullViewport)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float2PassUniform("screenOffset",((o,r)=>(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(R,2*o.screenOffset[0]*r.camera.pixelRatio,2*o.screenOffset[1]*r.camera.pixelRatio))),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float2PassUniform("anchorPosition",(e=>E(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__.Float4PassUniform("materialColor",(e=>e.color)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_21__.FloatPassUniform("materialRotation",(e=>e.rotation))),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_17__.addPixelRatio)(M),T&&(M.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__.Float4PassUniform("outlineColor",(e=>e.outlineColor))),H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__.Float4PassUniform("outlineColor",(e=>B(e)?e.outlineColor:_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.ZEROS)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_21__.FloatPassUniform("outlineSize",(e=>B(e)?e.outlineSize:0)))),o.horizonCullingEnabled&&M.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_19__.Float4DrawUniform("pointDistanceSphere",((e,o)=>{const r=o.camera.eye,i=e.origin;return (0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.fromValues)(i[0]-r[0],i[1]-r[1],i[2]-r[2],_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__.earth.radius)}))),o.pixelSnappingEnabled&&M.include(_views_3d_webgl_engine_core_shaderLibrary_hud_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_7__.AlignPixel),o.hasScreenSizePerspective&&((0,_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addScreenSizePerspective)(M),(0,_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addScreenSizePerspectiveAlignment)(M)),o.debugDrawLabelBorder&&r.varyings.add("debugBorderCoords","vec4"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.UV0,"vec2"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.COLOR,"vec4"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.SIZE,"vec2"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.ROTATION,"float"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.FEATUREATTRIBUTE,"vec4"),M.code.add(o.horizonCullingEnabled?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`bool behindHorizon(vec3 posModel) {
vec3 camToEarthCenter = pointDistanceSphere.xyz - localOrigin;
vec3 camToPos = pointDistanceSphere.xyz + posModel;
float earthRadius = pointDistanceSphere.w;
float a = dot(camToPos, camToPos);
float b = dot(camToPos, camToEarthCenter);
float c = dot(camToEarthCenter, camToEarthCenter) - earthRadius * earthRadius;
return  b > 0.0 && b < a && b * b  > a * c;
}`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`bool behindHorizon(vec3 posModel) { return false; }`),M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      ProjectHUDAux projectAux;
      vec4 posProj = projectPositionHUD(projectAux);
      forwardObjectAndLayerIdColor();

      if (rejectBySlice(projectAux.posModel)) {
        // Project outside of clip plane
        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
        return;
      }

      if (behindHorizon(projectAux.posModel)) {
        // Project outside of clip plane
        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
        return;
      }

      vec2 inputSize;
      ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.hasScreenSizePerspective,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
          inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);
          vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);`,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
          inputSize = size;
          vec2 screenOffsetScaled = screenOffset;`)}
      ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.vvSize,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`inputSize *= vvScale(featureAttribute).xx;`)}

      vec2 combinedSize = inputSize * pixelRatio;
      vec4 quadOffset = vec4(0.0);
      bool visible = testHUDVisibility(posProj);
      voccluded = visible ? 0.0 : 1.0;
    `);const U=(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      vec2 uv01 = floor(uv0);
      vec2 uv = uv0 - uv01;
      quadOffset.xy = (uv01 - anchorPosition) * 2.0 * combinedSize;

      ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.hasRotation,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
          float angle = radians(materialRotation + rotation);
          float cosAngle = cos(angle);
          float sinAngle = sin(angle);
          mat2 rotate = mat2(cosAngle, -sinAngle, sinAngle,  cosAngle);

          quadOffset.xy = rotate * quadOffset.xy;
        `)}

      quadOffset.xy = (quadOffset.xy + screenOffsetScaled) / viewport.zw * posProj.w;
  `,V=o.pixelSnappingEnabled?T?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`posProj += quadOffset;
if (inputSize.x == size.x) {
posProj = alignToPixelOrigin(posProj, viewport.zw);
}`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`posProj += quadOffset;`;M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.occlusionTestEnabled,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      if (!visible) {
        vtc = vec2(0.0);
        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.debugDrawLabelBorder,"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);")}
        return;
      }`)}
    ${U}
    ${o.vvColor?"vcolor = interpolateVVColor(featureAttribute.y) * materialColor;":"vcolor = color / 255.0 * materialColor;"}

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.ObjectAndLayerIdColor,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`vcolor.a = 1.0;`)}

    bool alphaDiscard = vcolor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff)};
    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(T,`alphaDiscard = alphaDiscard && outlineColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff)};`)}
    if (alphaDiscard) {
      // "early discard" if both symbol color (= fill) and outline color (if applicable) are transparent
      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
      return;
    } else {
      ${V}
      gl_Position = posProj;
    }

    vtc = uv;

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.debugDrawLabelBorder,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`debugBorderCoords = vec4(uv01, 1.5 / combinedSize);`)}
    vsize = inputSize;
  `),H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_24__.Texture2DPassUniform("tex",(e=>e.texture))),o.occludedFragmentFade&&(H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_24__.Texture2DPassUniform("depthMap",((e,o)=>o.mainDepth))),H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_21__.FloatPassUniform("fadeFactor",(()=>L.occludedFadeFactor))));const _=o.debugDrawLabelBorder?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`(isBorder > 0.0 ? 0.0 : ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff)})`:_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff),I=o.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Highlight,q=(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.debugDrawLabelBorder,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`)}

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.sampleSignedDistanceFieldTexelCenter,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      float txSize = float(textureSize(tex, 0).x);
      float texelSize = 1.0 / txSize;

      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel
      vec2 scaleFactor = (vsize - txSize) * texelSize;
      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;`,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`vec2 samplePos = vtc;`)}

    ${T?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      vec4 fillPixelColor = vcolor;

      // Get distance and map it into [-0.5, 0.5]
      float d = rgba2float(texture(tex, samplePos)) - 0.5;

      // Distance in output units (i.e. pixels)
      float dist = d * vsize.x;

      // Create smooth transition from the icon into its outline
      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);
      fillPixelColor.a *= fillAlphaFactor;

      if (outlineSize > 0.25) {
        vec4 outlinePixelColor = outlineColor;
        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);

        // Create smooth transition around outline
        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);
        outlinePixelColor.a *= outlineAlphaFactor;

        if (
          outlineAlphaFactor + fillAlphaFactor < ${_} ||
          fillPixelColor.a + outlinePixelColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff)}
        ) {
          discard;
        }

        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)
        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);
        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +
          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);

        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(!I,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor = vec4(compositeColor, compositeAlpha);`)}
      } else {
        if (fillAlphaFactor < ${_}) {
          discard;
        }

        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(!I,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor = premultiplyAlpha(fillPixelColor);`)}
      }

      // visualize SDF:
      // fragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);
      `:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
          vec4 texColor = texture(tex, vtc, -0.5);
          if (texColor.a < ${_}) {
            discard;
          }
          ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(!I,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor = texColor * premultiplyAlpha(vcolor);`)}
          `}

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.occludedFragmentFade&&!I,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
        float zSample = texelFetch(depthMap, ivec2(gl_FragCoord.xy), 0).x;
        if (zSample < gl_FragCoord.z) {
          fragColor *= fadeFactor;
        }
        `)}

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(!I&&o.debugDrawLabelBorder,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor = mix(fragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder * 0.5);`)}
  `;switch(o.output){case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Color:o.oitPass===_views_3d_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_25__.OITPass.ColorAlpha&&(r.outputs.add("fragColor","vec4",0),r.outputs.add("fragAlpha","float",1)),H.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
        ${q}
        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.oitPass===_views_3d_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_25__.OITPass.FrontFace,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor.rgb /= fragColor.a;`)}
        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.oitPass===_views_3d_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_25__.OITPass.ColorAlpha,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragAlpha = fragColor.a;`)}`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.ObjectAndLayerIdColor:H.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
        ${q}
        outputObjectAndLayerIdColor();`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Highlight:r.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_11__.OutputHighlight,o),H.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
        ${q}
        outputHighlight(voccluded == 1.0);`)}return r}function B(e){return e.outlineColor[3]>0&&e.outlineSize>0}function E(e,r=R){return e.textureIsSignedDistanceField?M(e.anchorPosition,e.distanceFieldBoundingBox,r):(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.copy)(r,e.anchorPosition),r}function M(o,r,i){null!=r?(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(i,o[0]*(r[2]-r[0])+r[0],o[1]*(r[3]-r[1])+r[1]):(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(i,0,0)}const R=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),H=Object.freeze(Object.defineProperty({__proto__:null,build:T,calculateAnchorPosForRendering:E,shaderSettings:L},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/NestedMap.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/NestedMap.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NestedMap: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,r){const o=this._outer.get(t);o?o.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}forAll(t){for(const e of this._outer.values())for(const r of e.values())t(r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMat4: function() { return /* binding */ t; },
/* harmony export */   isMat4f32: function() { return /* binding */ n; },
/* harmony export */   isMat4f64: function() { return /* binding */ r; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   projectVectorToPoint: function() { return /* binding */ t; },
/* harmony export */   projectVectorToPointAsync: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _projection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(r,e,t){return!!(0,_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_2__.projectVectorToVector)(r,e,i,t.spatialReference)&&(t.x=i[0],t.y=i[1],t.z=i[2],!0)}async function c(r,o,c,i){return await (0,_projection_js__WEBPACK_IMPORTED_MODULE_1__.initializeProjection)(o,c.spatialReference,null,i),t(r,o,c)}const i=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   glLayout: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(e,t=0){const n=e.stride;return Array.from(e.fields.keys()).map((s=>{const i=e.fields.get(s),u=i.constructor.ElementCount,f=o(i.constructor.ElementType),c=i.offset,m=i.optional?.glNormalized??!1;return new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_1__.VertexElementDescriptor(s,u,f,c,n,m,t)}))}function o(e){const r=n[e];if(r)return r;throw new Error("BufferType not supported in WebGL")}const n={u8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_BYTE,u16:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_SHORT,u32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_INT,i8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.BYTE,i16:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.SHORT,i32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.INT,f32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.FLOAT};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HUDOcclusionPass: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlignPixel.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js");
/* harmony import */ var _shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function r(r,i){const{vertex:p,fragment:s}=r;r.include(_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_1__.terrainDepthTest,i),p.include(_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__.AlignPixel),i.terrainDepthTest&&r.varyings.add("depth","float"),p.main.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`
    vec4 posProjCenter;
    if (dot(position, position) > 0.0) {
      // Render single point to center of the pixel to avoid subpixel filtering to affect the marker color
      ProjectHUDAux projectAux;
      vec4 posProj = projectPositionHUD(projectAux);
      posProjCenter = alignToPixelCenter(posProj, viewport.zw);

      ${i.terrainDepthTest?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`depth = projectAux.posView.z;`:""}
      vec3 vpos = projectAux.posModel;
      if (rejectBySlice(vpos)) {
        // Project out of clip space
        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
      }

    } else {
      // Project out of clip space
      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
    }

    gl_Position = posProjCenter;
    gl_PointSize = 1.0;
  `),s.main.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`fragColor = vec4(1);
if(terrainDepthTest(depth)) {
fragColor.g = 0.5;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AsyncRenderPlugin: function() { return /* binding */ o; },
/* harmony export */   ConsumesDepth: function() { return /* binding */ s; },
/* harmony export */   ConsumesNone: function() { return /* binding */ t; },
/* harmony export */   SyncRenderPlugin: function() { return /* binding */ u; },
/* harmony export */   releaseTechniques: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t={required:[]},s={required:[_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth]};class n extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__["default"]{precompile(e){const r=this.acquireTechniques(e);return c(r),null!=r}consumes(){return t}get usedMemory(){return 0}get isDecoration(){return!1}get running(){return!1}modify(e){}get numGeometries(){return 0}get hasOccludees(){return!1}get hasEmissions(){return!1}forEachGeometry(e){}queryRenderOccludedState(e){return!1}}class u extends n{}class o extends n{}function c(e){Array.isArray(e)?e.forEach((e=>e?.release())):e?.release()}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChangeSet: function() { return /* binding */ s; },
/* harmony export */   MaterialChangeSet: function() { return /* binding */ t; },
/* harmony export */   RenderGeometryUpdate: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(){this.adds=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.removes=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.updates=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({allocator:e=>e||new r,deallocator:e=>(e.renderGeometry=null,e)})}clear(){this.adds.clear(),this.removes.clear(),this.updates.clear()}prune(){this.adds.prune(),this.removes.prune(),this.updates.prune()}get empty(){return 0===this.adds.length&&0===this.removes.length&&0===this.updates.length}}class r{}class t{constructor(){this.adds=new Array,this.removes=new Array,this.updates=new Array}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLMaterials: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(s,t){this._material=s,this._repository=t,this._map=new Map}dispose(){this._map.forEach(((s,t)=>{null!=s&&this._repository.release(this._material,t)}))}load(t,e,r){const i=this._material.produces.get(e);if(!i?.(r))return null;this._map.has(r)||this._map.set(r,this._repository.acquire(this._material,e,r));const a=this._map.get(r);if(null!=a){if(a.ensureResources(t)===_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.ResourceState.LOADED)return a;this._repository.requestRender()}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DirtyOperation: function() { return /* binding */ E; },
/* harmony export */   DirtyState: function() { return /* binding */ I; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var E,I;!function(E){E[E.ADD=0]="ADD",E[E.UPDATE=1]="UPDATE",E[E.REMOVE=2]="REMOVE"}(E||(E={})),function(E){E[E.NONE=0]="NONE",E[E.VISIBILITY=1]="VISIBILITY",E[E.GEOMETRY=2]="GEOMETRY",E[E.TRANSFORMATION=4]="TRANSFORMATION",E[E.HIGHLIGHT=8]="HIGHLIGHT",E[E.OCCLUDEE=16]="OCCLUDEE"}(I||(I={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexArrayObject: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r extends _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_0__.VertexArrayObject{}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fovd2fovx: function() { return /* binding */ n; },
/* harmony export */   fovd2fovy: function() { return /* binding */ r; },
/* harmony export */   fovx2fovd: function() { return /* binding */ t; },
/* harmony export */   fovy2fovd: function() { return /* binding */ a; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(t,a,n){return 2*Math.atan(Math.sqrt(a*a+n*n)*Math.tan(.5*t)/a)}function a(t,a,n){return 2*Math.atan(Math.sqrt(a*a+n*n)*Math.tan(.5*t)/n)}function n(t,a,n){return 2*Math.atan(a*Math.tan(.5*t)/Math.sqrt(a*a+n*n))}function r(t,a,n){return 2*Math.atan(n*Math.tan(.5*t)/Math.sqrt(a*a+n*n))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PaddingSide: function() { return /* binding */ t; },
/* harmony export */   RendererTarget: function() { return /* binding */ r; },
/* harmony export */   splitRenderGeometryChangeSetByMaterial: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _ChangeSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChangeSet.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var r,t;function n(r){const t=new Map,n=r=>{let n=t.get(r);return n||(n=new _ChangeSet_js__WEBPACK_IMPORTED_MODULE_0__.MaterialChangeSet,t.set(r,n)),n};return r.removes.forAll((e=>{o(e)&&n(e.material).removes.push(e)})),r.adds.forAll((e=>{o(e)&&n(e.material).adds.push(e)})),r.updates.forAll((e=>{o(e.renderGeometry)&&n(e.renderGeometry.material).updates.push(e)})),t}function o(e){return e.geometry.indexCount>=1}!function(e){e[e.Default=0]="Default",e[e.Screenshot=1]="Screenshot",e[e.ObjectAndLayerID=2]="ObjectAndLayerID"}(r||(r={})),function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawParameters: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/VertexNormal.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i extends _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_1__.VertexNormalDrawParameters{constructor(e=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()){super(),this.origin=e}get slicePlaneLocalOrigin(){return this.origin}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HUDMaterial: function() { return /* binding */ ae; },
/* harmony export */   Parameters: function() { return /* binding */ ye; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_types_mat4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/types/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/support/FastSymbolUpdates.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/shaderLibrary/hud/HUD.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../lib/GLTextureMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../lib/screenSizePerspectiveUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/screenSizePerspectiveUtils.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _ScaleInfo_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ScaleInfo.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js");
/* harmony import */ var _chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../chunks/HUDMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js");
/* harmony import */ var _shaders_HUDMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../shaders/HUDMaterialTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js");
/* harmony import */ var _shaders_HUDMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../shaders/HUDMaterialTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class ae extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_21__.Material{constructor(e,t){super(e,ye),this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.HUD_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isColorHighlightOrOID)(e)&&!this.parameters.drawInSecondSlot],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.LABEL_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isColorHighlightOrOID)(e)&&this.parameters.drawInSecondSlot],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OCCLUSION_PIXELS,()=>this.parameters.occlusionTest],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.DRAPED_MATERIAL,e=>this.parameters.draped&&(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isColorHighlightOrOID)(e)]]),this._visible=!0,this._configuration=new _shaders_HUDMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_31__.HUDMaterialTechniqueConfiguration(t)}getConfiguration(e,t){return this._configuration.output=e,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVerticalOffset=!!this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this._configuration.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits,this._configuration.hasPolygonOffset=this.parameters.polygonOffset,this._configuration.draped=this.parameters.draped,this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.pixelSnappingEnabled=this.parameters.pixelSnappingEnabled,this._configuration.signedDistanceFieldEnabled=this.parameters.textureIsSignedDistanceField,this._configuration.sampleSignedDistanceFieldTexelCenter=this.parameters.sampleSignedDistanceFieldTexelCenter,this._configuration.hasRotation=this.parameters.hasRotation,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.occlusionPass=t.slot===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OCCLUSION_PIXELS,this._configuration.occludedFragmentFade=this.parameters.occludedFragmentFade,this._configuration.horizonCullingEnabled=this.parameters.horizonCullingEnabled,this._configuration.depthTestEnabled=this.parameters.depthEnabled||t.slot===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OCCLUSION_PIXELS,e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.ShaderOutput.Color&&(this._configuration.debugDrawLabelBorder=!!_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__.debugFlags.LABELS_SHOW_BORDER),this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}intersect(e,t,i,a,o,n){const{options:{selectionMode:c,hud:l,excludeLabels:O},point:T,camera:b}=i,{parameters:A}=this;if(!c||!l||O&&A.isLabel||!e.visible||!T)return;const{scaleX:E,scaleY:I}=this._getScreenScale(e,b.pixelRatio);(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.fromMat4)(Te,t),e.attributes.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE)&&le(Te);const _=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION),R=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.SIZE),C=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.NORMAL),x=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.ROTATION),P=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.CENTEROFFSETANDDISTANCE);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_24__.assert)(_.size>=3);const y=(0,_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_29__.c)(A),D="screen"===this.parameters.centerOffsetUnits;for(let s=0;s<_.data.length/_.size;s++){const e=s*_.size;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.i)(pe,_.data[e],_.data[e+1],_.data[e+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(pe,pe,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(pe,pe,b.viewMatrix);const a=s*P.size;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.i)(Ae,P.data[a],P.data[a+1],P.data[a+2]),!D&&(pe[0]+=Ae[0],pe[1]+=Ae[1],0!==Ae[2])){const e=Ae[2];(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.n)(Ae,pe),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.d)(pe,pe,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(Ae,Ae,e))}const o=s*C.size;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.i)(me,C.data[o],C.data[o+1],C.data[o+2]),ce(me,Te,b,_e),this._applyVerticalOffsetTransformationView(pe,_e,b,he),b.applyProjection(pe,ue),ue[0]>-1){D&&(Ae[0]||Ae[1])&&(ue[0]+=Ae[0]*b.pixelRatio,0!==Ae[1]&&(ue[1]+=(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__.applyScaleFactor)(Ae[1],he.factorAlignment)*b.pixelRatio),b.unapplyProjection(ue,pe)),ue[0]+=this.parameters.screenOffset[0]*b.pixelRatio,ue[1]+=this.parameters.screenOffset[1]*b.pixelRatio,ue[0]=Math.floor(ue[0]),ue[1]=Math.floor(ue[1]);const e=s*R.size;xe[0]=R.data[e],xe[1]=R.data[e+1],(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__.applyPrecomputedScaleFactor)(xe,he.factor,xe);const t=Re*b.pixelRatio;let a=0;if(A.textureIsSignedDistanceField){a=Math.min(A.outlineSize,.5*xe[0])*b.pixelRatio/2}xe[0]*=E,xe[1]*=I;const o=s*x.size,c=A.rotation+x.data[o];if(fe(T,ue[0],ue[1],xe,t,a,c,A,y)){const e=i.ray;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(ge,pe,(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.invert)(ve,b.viewMatrix)),ue[0]=T[0],ue[1]=T[1],b.unprojectFromRenderScreen(ue,pe)){const t=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,e.direction);const s=1/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(t);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(t,t,s);n((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.j)(e.origin,pe)*s,t,-1,!0,1,ge)}}}}}intersectDraped(e,t,s,i,r,a){const o=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION),n=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.SIZE),c=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.ROTATION),l=this.parameters,f=(0,_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_29__.c)(l),{scaleX:h,scaleY:p}=this._getScreenScale(e,e.screenToWorldRatio),m=Ce*e.screenToWorldRatio;for(let u=0;u<o.data.length/o.size;u++){const t=u*o.size,s=o.data[t],d=o.data[t+1],g=u*n.size;xe[0]=n.data[g],xe[1]=n.data[g+1];let S=0;if(l.textureIsSignedDistanceField){S=Math.min(l.outlineSize,.5*xe[0])*e.screenToWorldRatio/2}xe[0]*=h,xe[1]*=p;const O=u*c.size,T=l.rotation+c.data[O];fe(i,s,d,xe,m,S,T,l,f)&&r(a.dist,a.normal,-1,!1)}}createBufferWriter(){return new Fe}_updateScaleInfo(e,t,s){const i=this.parameters;null!=i.screenSizePerspective?(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__.precomputeScaleFactor)(s,t,i.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minScaleFactor=0),null!=i.screenSizePerspectiveAlignment?(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__.precomputeScaleFactor)(s,t,i.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minScaleFactor=e.factor.minScaleFactor)}applyShaderOffsetsView(e,t,s,i,r,a,o){const n=ce(t,s,r,_e);return this._applyVerticalGroundOffsetView(e,n,r,o),this._applyVerticalOffsetTransformationView(o,n,r,a),this._applyPolygonOffsetView(o,n,i[3],r,o),this._applyCenterOffsetView(o,i,o),o}applyShaderOffsetsNDC(e,t,s,i,r){return this._applyCenterOffsetNDC(e,t,s,i),null!=r&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(r,i),this._applyPolygonOffsetNDC(i,t,s,i),i}_applyPolygonOffsetView(t,s,i,r,a){const o=r.aboveGround?1:-1;let n=Math.sign(i);0===n&&(n=o);const c=o*n;if(this.parameters.shaderPolygonOffset<=0)return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(a,t);const l=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.abs(s.cosAngle),.01,1),f=1-Math.sqrt(1-l*l)/l/r.viewport[2];return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(a,t,c>0?f:1/f),a}_applyVerticalGroundOffsetView(e,t,s,i){const r=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(e),a=s.aboveGround?1:-1,o=s.computeRenderPixelSizeAtDist(r)*_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_17__.HUDVerticalPixelOffset,n=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(pe,t.normal,a*o);return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.g)(i,e,n),i}_applyVerticalOffsetTransformationView(e,t,s,i){const r=this.parameters;if(!r.verticalOffset?.screenLength){if(r.screenSizePerspective||r.screenSizePerspectiveAlignment){const s=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(e);this._updateScaleInfo(i,s,t.cosAngle)}else i.factor.scale=1,i.factorAlignment.scale=1;return e}const a=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(e),o=r.screenSizePerspectiveAlignment??r.screenSizePerspective,n=(0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_28__.verticalOffsetAtDistance)(s,a,r.verticalOffset,t.cosAngle,o);return this._updateScaleInfo(i,a,t.cosAngle),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(t.normal,t.normal,n),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.g)(e,e,t.normal)}_applyCenterOffsetView(e,t,s){const i="screen"!==this.parameters.centerOffsetUnits;return s!==e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,e),i&&(s[0]+=t[0],s[1]+=t[1],t[2]&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.n)(me,s),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.g)(s,s,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(me,me,t[2])))),s}_applyCenterOffsetNDC(e,t,s,i){const r="screen"!==this.parameters.centerOffsetUnits;return i!==e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(i,e),r||(i[0]+=t[0]/s.fullWidth*2,i[1]+=t[1]/s.fullHeight*2),i}_applyPolygonOffsetNDC(e,t,s,i){const r=this.parameters.shaderPolygonOffset;if(e!==i&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(i,e),r){const e=s.aboveGround?1:-1,a=e*Math.sign(t[3]);i[2]-=(a||e)*r}return i}set visible(e){this._visible=e}get visible(){const{color:e,outlineSize:t,outlineColor:s}=this.parameters,i=e[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_18__.alphaCutoff||t>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_18__.alphaCutoff&&s[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_18__.alphaCutoff;return this._visible&&i}createGLMaterial(e){return new oe(e)}calculateRelativeScreenBounds(e,t,s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.create)()){return ne(this.parameters,e,t,s),s[2]=s[0]+e[0],s[3]=s[1]+e[1],s}_getScreenScale(e,t){const s=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE);if(null==s)return{scaleX:t,scaleY:t};const i=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.fromArray)(s.data,Ie);return (0,_layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__.evaluateModelTransformScale)(Ee,this.parameters,i),{scaleX:Ee[0]*t,scaleY:Ee[1]*t}}}class oe extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_20__.GLTextureMaterial{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(_shaders_HUDMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_30__.HUDMaterialTechnique,e)}}function ne(e,t,s,i){i[0]=e.anchorPosition[0]*-t[0]+e.screenOffset[0]*s,i[1]=e.anchorPosition[1]*-t[1]+e.screenOffset[1]*s}function ce(e,t,i,r){return (0,_core_libs_gl_matrix_2_types_mat4_js__WEBPACK_IMPORTED_MODULE_10__.isMat4)(t)&&(t=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.fromMat4)(be,t)),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.q)(r.normal,e,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(r.normal,r.normal,i.viewInverseTransposeMatrix),r.cosAngle=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.f)(de,Pe),r}function le(e){const t=e[0],s=e[1],i=e[2],r=e[3],a=e[4],o=e[5],n=e[6],c=e[7],l=e[8],f=1/Math.sqrt(t*t+s*s+i*i),h=1/Math.sqrt(r*r+a*a+o*o),p=1/Math.sqrt(n*n+c*c+l*l);return e[0]=t*f,e[1]=s*f,e[2]=i*f,e[3]=r*h,e[4]=a*h,e[5]=o*h,e[6]=n*p,e[7]=c*p,e[8]=l*p,e}function fe(e,s,i,r,a,c,l,f,h){let p=s-a-r[0]*h[0],m=p+r[0]+2*a,u=i-a-r[1]*h[1],d=u+r[1]+2*a;const g=f.distanceFieldBoundingBox;return f.textureIsSignedDistanceField&&null!=g&&(p+=r[0]*g[0],u+=r[1]*g[1],m-=r[0]*(1-g[2]),d-=r[1]*(1-g[3]),p-=c,m+=c,u-=c,d+=c),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_5__.set)(Oe,s,i),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_5__.rotate)(Se,e,Oe,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(l)),Se[0]>p&&Se[0]<m&&Se[1]>u&&Se[1]<d}const he=new _ScaleInfo_js__WEBPACK_IMPORTED_MODULE_26__.ScaleInfo,pe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),me=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),ue=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),de=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),ge=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),Se=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),Oe=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),Te=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),be=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),ve=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),Ae=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),Ee=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),Ie=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),_e={normal:de,cosAngle:0},Re=1,Ce=2,xe=[0,0],Pe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(0,0,1);class ye extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_20__.GLTextureMaterialBindParameters{constructor(){super(...arguments),this.renderOccluded=_lib_Material_js__WEBPACK_IMPORTED_MODULE_21__.RenderOccludedFlag.Occlude,this.isDecoration=!1,this.color=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.freeze)(1,1,1,1),this.polygonOffset=!1,this.anchorPosition=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__.fromValues)(.5,.5),this.screenOffset=[0,0],this.shaderPolygonOffset=1e-5,this.textureIsSignedDistanceField=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.outlineColor=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.freeze)(1,1,1,1),this.outlineSize=0,this.rotation=0,this.hasRotation=!1,this.vvSizeEnabled=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.hasSlicePlane=!1,this.pixelSnappingEnabled=!0,this.occlusionTest=!0,this.occludedFragmentFade=!1,this.horizonCullingEnabled=!1,this.centerOffsetUnits="world",this.drawInSecondSlot=!1,this.depthEnabled=!0,this.draped=!1,this.isLabel=!1}}const De=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_15__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.NORMAL).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.UV0).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.COLOR).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.SIZE).f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.ROTATION).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.CENTEROFFSETANDDISTANCE).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE),je=De.clone().vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.OBJECTANDLAYERIDCOLOR);class Fe{constructor(){this.vertexBufferLayout=(0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_19__.olidEnabled)()?je:De}elementCount(e){return 6*e.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION).indices.length}write(e,t,s,i,r,a){(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writePosition)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION),e,r.position,a,6),(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeNormal)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.NORMAL),t,r.normal,a,6);const o=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.UV0)?.data;let n=0,c=0,l=1,f=1;o&&o.length>=4&&(n=o[0],c=o[1],l=o[2],f=o[3]),l=Math.min(1.99999,l+1),f=Math.min(1.99999,f+1);let h=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION).indices.length,p=a;const m=r.uv0;for(let S=0;S<h;++S)m.set(p,0,n),m.set(p,1,c),p++,m.set(p,0,l),m.set(p,1,c),p++,m.set(p,0,l),m.set(p,1,f),p++,m.set(p,0,l),m.set(p,1,f),p++,m.set(p,0,n),m.set(p,1,f),p++,m.set(p,0,n),m.set(p,1,c),p++;(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeColor)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.COLOR),4,r.color,a,6);const{data:u,indices:d}=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.SIZE);h=d.length;const g=r.size;p=a;for(let S=0;S<h;++S){const e=u[2*d[S]],t=u[2*d[S]+1];for(let s=0;s<6;++s)g.set(p,0,e),g.set(p,1,t),p++}if((0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferFloat)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.ROTATION),r.rotation,a,6),s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.CENTEROFFSETANDDISTANCE)?(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferVec4)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.CENTEROFFSETANDDISTANCE),r.centerOffsetAndDistance,a,6):(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferVec4Zeros)(r.centerOffsetAndDistance,a,6*h),s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE)?(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferVec4)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE),r.featureAttribute,a,6):(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferVec4Zeros)(r.featureAttribute,a,6*h),null!=i){const e=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION)?.indices;if(e){const t=e.length,s=r.getField(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.OBJECTANDLAYERIDCOLOR,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec4u8);(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeObjectAndLayerIdColor)(i,s,t,a,6)}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScaleFactor: function() { return /* binding */ c; },
/* harmony export */   ScaleInfo: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(){this.factor=new c,this.factorAlignment=new c}}class c{constructor(){this.scale=0,this.factor=0,this.minScaleFactor=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferRange: function() { return /* binding */ t; },
/* harmony export */   mergeAdjacentRanges: function() { return /* binding */ o; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t=0,o=0){this.from=t,this.to=o}get numElements(){return this.to-this.from}}function o(t){const o=new Map;t.forAll((t=>o.set(t.from,t)));let e=!0;for(;e;){e=!1;for(let r=0;r<t.length;++r){const n=t.data[r],s=o.get(n.to);if(!s)return;n.to=s.to,o.delete(s.from),t.removeUnordered(s),e=!0}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/DrawCommand.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/DrawCommand.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawCommand: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(){this.first=0,this.count=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Instance: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BufferRange.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i extends _BufferRange_js__WEBPACK_IMPORTED_MODULE_0__.BufferRange{constructor(e,i,s){super(i,s),this.geometry=e}get isVisible(){return this.geometry.visible}get hasHighlights(){return this.isVisible&&this.geometry.hasHighlights}foreachHighlightGroup(e){this.isVisible&&this.geometry.foreachHighlightGroup(e)}get hasOccludees(){return null!=this.geometry.occludees}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MergedRenderer: function() { return /* binding */ x; },
/* harmony export */   sizeForVao: function() { return /* binding */ V; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/NestedMap.js */ "./node_modules/@arcgis/core/core/NestedMap.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../lib/GLMaterials.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js");
/* harmony import */ var _lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _DrawParameters_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DrawParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js");
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./BufferRange.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js");
/* harmony import */ var _Instance_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Instance.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js");
/* harmony import */ var _PerBufferData_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./PerBufferData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerBufferData.js");
/* harmony import */ var _PerOriginData_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./PerOriginData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerOriginData.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let x=class extends _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_15__.SyncRenderPlugin{get _hasAnyHighlight(){return this._highlightGroups.size>0}constructor(e){super(e),this._dataByOrigin=new Map,this._drawParameters=new _DrawParameters_js__WEBPACK_IMPORTED_MODULE_20__.DrawParameters,this._highlightGroups=new Set,this.drapedPriority=0,this._produces=new Map,this._hasOccludees=!1}destroy(){this._glMaterials=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._glMaterials),this._dataByOrigin.forEach((e=>e.dispose())),this._dataByOrigin.clear(),this._vaoCache=null}initialize(){this.material.produces.forEach(((e,t)=>{this._produces.set(t,(t=>!(0===this._dataByOrigin.size||!(t!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.Highlight&&t!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowHighlight||this._hasAnyHighlight))&&e(t)))}))}initializeRenderContext(e,t){this._glMaterials=new _lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_16__.GLMaterials(this.material,t??e.materials),this._bufferWriter=this.material.createBufferWriter(),this._vaoCache=e.renderContext.rctx.getVaoCache(this.material.vertexAttributeLocations,(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_13__.glLayout)(this._bufferWriter.vertexBufferLayout))}uninitializeRenderContext(){}get produces(){return this._produces}get hasOccludees(){return this._hasOccludees}get hasEmissions(){return this.material.hasEmissions}get isDecoration(){return this.material.parameters.isDecoration}queryRenderOccludedState(e){return this.material.queryRenderOccludedState(e)}get numGeometries(){let e=0;return this._dataByOrigin.forEach((t=>e+=t.buffers.reduce(((e,t)=>e+t.instances.size),0))),e}get usedMemory(){let e=0;return this._dataByOrigin.forEach((t=>e+=t.buffers.reduce(((e,t)=>e+t.vao.usedMemory),0))),e}forEachGeometry(e){this._dataByOrigin.forEach((t=>t.buffers.forEach((t=>t.instances.forEach((({geometry:t})=>e(t)))))))}modify(e){this._updateGeometries(e.updates),this._addAndRemoveGeometries(e.adds,e.removes),this._updateDrawCommands()}_updateGeometries(e){const t=this._bufferWriter;if(null==t)return;const r=t.vertexBufferLayout.stride/4;for(const i of e){const e=i.renderGeometry,s=this._dataByOrigin.get(e.localOrigin.id),o=s?.findBuffer(e.id);if(null==o)return;const a=o.instances.get(e.id);if(i.updateType&(_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.GEOMETRY|_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.TRANSFORMATION)){const i=W(t.elementCount(a.geometry.geometry.attributes)*r),s=t.vertexBufferLayout.createView(i.buffer);this._writeGeometry(e,s,0),o.vao.vertexBuffers.get("geometry").setSubData(i,a.from*r,0,a.numElements*r)}i.updateType&(_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.HIGHLIGHT|_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.OCCLUDEE|_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.VISIBILITY)&&(o.drawCommandsDirty=!0)}}_computeDeltas(e,t){const r=new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_5__.NestedMap;for(const i of e){const e=i.localOrigin;if(null==e)continue;let t=r.get(e.id,null);null==t&&(t=new D(e.vec3),r.set(e.id,null,t)),t.changes.push(i)}for(const i of t){const e=i.localOrigin;if(null==e)continue;const t=this._dataByOrigin.get(e.id),s=t?.findBuffer(i.id);if(null==s)continue;let o=r.get(e.id,s);null==o&&(o=new D(e.vec3),r.set(e.id,s,o)),o.changes.push(i)}return r}_addAndRemoveGeometries(e,r){if(null==this._bufferWriter||null==this._vaoCache)return;const{_bufferWriter:i,_dataByOrigin:s}=this,o=i.vertexBufferLayout.stride/4,a=this._computeDeltas(e,r);a.forEach(((e,r)=>{const n=e.get(null),l=n?.changes??[];a.delete(r,null);let u=s.get(r);if(e.forEach(((e,n)=>{if(a.delete(r,n),null==n)return void (0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_19__.assert)(!1,"No VAO for removed geometries");if(n.instances.size===e.changes.length)return this._vaoCache.deleteVao(n.vao),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.removeUnordered)(u.buffers,n),void(0===u.buffers.length&&0===l.length&&s.delete(r));const h=n.numElements,f=n.vao.byteSize/4,c=l.reduce(((e,t)=>e+i.elementCount(t.geometry.attributes)),0),m=e.changes.reduce(((e,t)=>e+i.elementCount(t.geometry.attributes)),0),d=Math.min((h+c-m)*o,z),g=d>f;d>H&&d<f/2?(e.changes.forEach((({id:e})=>n.deleteInstance(e))),n.instances.forEach((({geometry:e})=>l.push(e))),this._vaoCache.deleteVao(n.vao),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.removeUnordered)(u.buffers,n)):g?this._applyAndRebuild(n,l,e):this._applyRemoves(n,e)})),l.length>0)for(null==u&&(u=new _PerOriginData_js__WEBPACK_IMPORTED_MODULE_24__.PerOriginData(n.origin),s.set(r,u)),u.buffers.forEach((e=>this._applyAdds(e,l)));l.length>0;)u.buffers.push(this._applyAndRebuild(new _PerBufferData_js__WEBPACK_IMPORTED_MODULE_23__.PerBufferData,l,null))}))}_updateDrawCommands(){this._highlightGroups.clear(),this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.buffers.forEach((e=>{e.updateIfDrawCommandsDirty(this._bufferWriter.vertexBufferLayout.stride),e.hasHighlights&&(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.addMany)(this._highlightGroups,e.highlightGroups),this._hasOccludees=this._hasOccludees||e.hasOccludees}))}))}_applyAndRebuild(e,t,r){if(r)for(const m of r.changes)e.deleteInstance(m.id);const i=this._bufferWriter,s=i.vertexBufferLayout.stride,o=s/4,a=Math.floor(z/o);let n=e.numElements;for(;t.length>0;){const r=t.pop(),s=i.elementCount(r.geometry.attributes);if(n+s>a&&n>0){t.push(r);break}n+=s;const o=new _Instance_js__WEBPACK_IMPORTED_MODULE_22__.Instance(r,0,0);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_19__.assert)(null==e.instances.get(r.id)),e.addInstance(r.id,o)}const l=n*o,u=W(l),h=i.vertexBufferLayout.createView(u.buffer);let f=0;e.resetInstanceSummary(),e.instances.forEach(((t,r)=>{this._writeGeometry(t.geometry,h,f);const s=f;f+=i.elementCount(t.geometry.geometry.attributes),e.updateInstance(r,s,f),e.updateDrawState(t)})),this._vaoCache.deleteVao(e.vao),e.vao=this._vaoCache.newVao(V(l)),e.vao.vertexBuffers.get("geometry").setSubData(u,0,0,f*o),e.holes.clear();const c=e.holes.pushNew();return c.from=f,c.to=Math.floor(e.vao.byteSize/s),e.updateDrawCommands(s),e}_applyRemoves(e,t){if(0===t.changes.length||null==this._bufferWriter)return;for(const a of t.changes){const t=a.id,r=e.instances.get(t);if(!r)continue;e.deleteInstance(t);const i=G.back();if(i){if(i.to===r.from){i.to=r.to;continue}if(i.from===r.to){i.from=r.from;continue}}const s=G.pushNew();s.from=r.from,s.to=r.to}(0,_BufferRange_js__WEBPACK_IMPORTED_MODULE_21__.mergeAdjacentRanges)(G);const r=this._bufferWriter.vertexBufferLayout.stride/4,i=G.reduce(((e,t)=>Math.max(e,t.numElements)),0)*r,s=W(i);s.fill(0,0,i);const o=e.vao.vertexBuffers.get("geometry");G.forAll((e=>o.setSubData(s,e.from*r,0,e.numElements*r))),e.holes.pushArray(G.data,G.length),G.forAll(((e,t)=>G.data[t]=null)),G.clear(),e.drawCommandsDirty=!0}_applyAdds(e,t){if(0===t.length||null==this._bufferWriter)return;if(!(0,_PerBufferData_js__WEBPACK_IMPORTED_MODULE_23__.hasVao)(e))return void this._applyAndRebuild(e,t,null);const i=this._bufferWriter,s=i.vertexBufferLayout.stride/4,o=e.numElements,a=t.reduce(((e,t)=>e+i.elementCount(t.geometry.attributes)),0),n=Math.min((o+a)*s,z),l=4*n;if(e.vao.byteSize<V(z-H)&&l>e.vao.byteSize)return void this._applyAndRebuild(e,t,null);(0,_BufferRange_js__WEBPACK_IMPORTED_MODULE_21__.mergeAdjacentRanges)(e.holes);const u=new Array;for(const r of t){const t=i.elementCount(r.geometry.attributes),s=R(e.holes,t);u.push(s)}const h=e.vao.vertexBuffers.get("geometry");let f=0,c=0,m=0;const d=W(n),g=i.vertexBufferLayout.createView(d.buffer);t.forEach(((t,r)=>{const o=u[r];if(null==o)return;if(!(m===o)){const e=m-c;e>0&&h.setSubData(d,c*s,0,e*s),c=o,f=0}const a=i.elementCount(t.geometry.attributes);this._writeGeometry(t,g,f),f+=a,m=o+a;const n=new _Instance_js__WEBPACK_IMPORTED_MODULE_22__.Instance(t,o,o+a);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_19__.assert)(null==e.instances.get(t.id)),e.addInstance(t.id,n),e.drawCommandsDirty=!0}));const p=m-c;p>0&&h.setSubData(d,c*s,0,p*s),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.filterInPlace)(t,((e,t)=>null==u[t]))}_writeGeometry(e,t,r){null!=this._bufferWriter&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.copy)(j,e.transformation),j[12]-=e.localOrigin.vec3[0],j[13]-=e.localOrigin.vec3[1],j[14]-=e.localOrigin.vec3[2],(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.invert)(M,j),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.transpose)(M,M),this._bufferWriter.write(j,M,e.geometry.attributes,e.geometry.objectAndLayerIdColor,t,r))}updateAnimation(e){return this.material.update(e)}acquireTechniques(e){if(!this.material.shouldRender(e))return null;const{output:t,bind:r}=e,i=this.material.produces.get(r.slot);if(!i?.(t))return null;const{highlightGroupName:s,slot:o}=r,a=t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowHighlight,n=t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.Highlight,l=n||a,u=e=>l&&(0===this._highlightGroups.size||n&&!!s&&!e.has(s));if(u(this._highlightGroups))return null;const h=t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowExcludeHighlight,f=!(l||h);for(const{buffers:c}of this._dataByOrigin.values())for(const i of c){if(u(i.highlightGroups))continue;const n=a?i.drawCommandsHighlights.size>0:l?s?i.drawCommandsHighlights.get(s):i.drawCommandsHighlights.size>0:((h&&i.needsMultipleCommands()?i.drawCommandsShadowHighlightRest:i.drawCommandsDefault)||null)?.length??!1,c=f&&i.drawCommandsOccludees||null;if(n||c?.length){const i=this._glMaterials.load(e.rctx,o,t),s=i?.beginSlot(r);if(s)return s}}return null}render(e,t){const{output:r,bind:i}=e,{slot:s,highlightGroupName:o}=i,a=r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.Highlight;if(a&&!o)return;const n=r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowHighlight,l=a||n,u=r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowExcludeHighlight,h=!(l||u),f=s===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_18__.RenderSlot.OCCLUDER_MATERIAL||s===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_18__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL?s:null,{rctx:c}=e;c.runAppleAmdDriverHelper();const m=c.bindTechnique(t,i,this.material.parameters);for(const d of this._dataByOrigin.values())for(const e of d.buffers){if(a&&(!e.hasHighlights||!e.drawCommandsHighlights.has(o)))continue;if(n&&!e.hasHighlights)continue;const r=()=>{const t=[];for(const r of e.drawCommandsHighlights.values())t.push(r);return t},s=l&&!n?e.drawCommandsHighlights.get(o)??null:null,g=n?r():l?s?[s]:N:(u&&e.needsMultipleCommands()?[e.drawCommandsShadowHighlightRest]:[e.drawCommandsDefault])||N,p=g.some((e=>e.length>0)),y=h&&e.drawCommandsOccludees||null;if(p||y?.length){if(this._drawParameters.origin=d.origin,m.bindDraw(i,this.material.parameters,this._drawParameters),t.ensureAttributeLocations(e.vao),c.bindVAO(e.vao),p)for(const e of g)c.setPipelineState(t.getPipeline(!1,f)),e.forAll((e=>c.drawArrays(t.primitiveType,e.first,e.count)));y?.length&&(c.setPipelineState(t.getPipeline(!0,f)),y.forAll((e=>c.drawArrays(t.primitiveType,e.first,e.count))))}}}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],x.prototype,"material",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.webgl-engine.materials.renderers.MergedRenderer")],x);class D{constructor(e){this.origin=e,this.changes=new Array}}function R(e,t){const r=e.find((e=>e.numElements>=t));if(null==r)return null;const i=r.from;return r.from+=t,r.from>=r.to&&e.removeUnordered(r),i}const j=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),M=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),G=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_6__["default"]({allocator:e=>e||new _BufferRange_js__WEBPACK_IMPORTED_MODULE_21__.BufferRange,deallocator:null}),H=65536,L=4*H,I=1024,T=16777216,z=T/4;let P=new Float32Array(H);function W(e){return P.length<e&&(P=new Float32Array(e)),P}function V(e){const t=4*e;return t<=I?I:t<L?(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.nextHighestPowerOfTwo)(t):Math.max(Math.min(Math.ceil(1.5*t/L)*L,T),t)}const N=[];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerBufferData.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerBufferData.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PerBufferData: function() { return /* binding */ n; },
/* harmony export */   PerVaoData: function() { return /* binding */ i; },
/* harmony export */   hasVao: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferRange.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js");
/* harmony import */ var _DrawCommand_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DrawCommand.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/DrawCommand.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{constructor(){this._numElements=0,this._instances=new Map,this.holes=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({allocator:s=>s||new _BufferRange_js__WEBPACK_IMPORTED_MODULE_1__.BufferRange,deallocator:null}),this.hasHiddenInstances=!1,this.hasOccludees=!1,this.drawCommandsDirty=!0,this.highlightGroups=new Set,this.drawCommandsDefault=h(),this.drawCommandsHighlights=new Map,this.drawCommandsOccludees=h(),this.drawCommandsShadowHighlightRest=h()}get numElements(){return this._numElements}get instances(){return this._instances}get hasHighlights(){return this.highlightGroups.size>0}resetInstanceSummary(){this.hasHiddenInstances=!1,this.hasOccludees=!1,this.highlightGroups.clear()}updateIfDrawCommandsDirty(s){if(this.drawCommandsDirty){this.resetInstanceSummary();for(const s of this.instances.values())this.updateDrawState(s);this.updateDrawCommands(s)}}addInstance(s,t){this.deleteInstance(s),this._instances.set(s,t),this._numElements+=t.numElements}deleteInstance(s){const t=this._instances.get(s);t&&(this._numElements-=t.numElements,this._instances.delete(s))}updateInstance(s,t,e){const n=this._instances.get(s);n&&(this._numElements-=n.numElements,n.from=t,n.to=e,this._numElements+=n.numElements)}updateDrawState(s){s.isVisible?(s.foreachHighlightGroup((s=>this.highlightGroups.add(s))),s.hasOccludees&&(this.hasOccludees=!0)):this.hasHiddenInstances=!0}updateDrawCommands(s){if(this.drawCommandsDefault.clear(),this.drawCommandsHighlights.clear(),this.drawCommandsOccludees.clear(),this.drawCommandsShadowHighlightRest.clear(),this.drawCommandsDirty=!1,0===this._instances.size)return;if(!this.needsMultipleCommands()){const t=this.drawCommandsDefault.pushNew(),e=this.holes.front();return null!=this.vao&&1===this.holes.length&&e.to===Math.floor(this.vao.byteSize/s)?(t.first=0,void(t.count=e.from)):(t.first=1/0,t.count=0,this._instances.forEach((s=>{t.first=Math.min(t.first,s.from),t.count=Math.max(t.count,s.to)})),void(t.count-=t.first))}const t=Array.from(this._instances.values()).sort(((s,t)=>s.from===t.from?s.to-t.to:s.from-t.from)),{drawCommandsHighlights:e}=this;for(const n of t)n.isVisible&&(o(n.hasOccludees?this.drawCommandsOccludees:this.drawCommandsDefault,n),n.hasHighlights?n.foreachHighlightGroup((s=>{let t=e.get(s);t||(t=h(),e.set(s,t)),o(t,n)})):o(this.drawCommandsShadowHighlightRest,n))}needsMultipleCommands(){return this.hasOccludees||this.hasHighlights||this.hasHiddenInstances}}class i extends n{}function a(s){return null!=s.vao}function h(){return new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({allocator:s=>s||new _DrawCommand_js__WEBPACK_IMPORTED_MODULE_2__.DrawCommand,deallocator:s=>s})}function o(s,t){const e=s.back();if(null==e){const e=s.pushNew();return e.first=t.from,void(e.count=t.numElements)}if(r(e,t)){const s=t.from-e.first+t.numElements;e.count=s}else{const e=s.pushNew();e.first=t.from,e.count=t.numElements}}function r(s,t){return s.first+s.count>=t.from}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerOriginData.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerOriginData.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PerOriginData: function() { return /* binding */ s; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(s){this.origin=s,this.buffers=new Array}dispose(){this.buffers.forEach((s=>s.vao.dispose())),this.buffers.length=0}findBuffer(s){return this.buffers.find((r=>r.instances.has(s)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HUDMaterialTechnique: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OITPass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/HUDMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class c extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(e,o,t){super(e,o,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_5__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_HUDMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./HUDMaterial.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterial.glsl.js")))),t),this.primitiveType=o.occlusionPass?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.POINTS:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLES}initializePipeline(r){const{oitPass:o,hasPolygonOffset:l,draped:n,output:c,depthTestEnabled:f}=r,T=o===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_3__.OITPass.NONE,g=l?h:null,j=o===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_3__.OITPass.ColorAlpha,b=n||!f||j||c===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Highlight?null:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultDepthWrite;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.makePipelineState)({blending:c===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color?T?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.blendWithPremultipliedAlpha:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_4__.oitBlending)(o):null,depthTest:f&&!n?{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.LEQUAL}:null,depthWrite:b,drawBuffers:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_4__.getDrawBuffers)(o,c),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultColorWrite,polygonOffset:g})}}const h={factor:0,units:-4};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HUDMaterialTechniqueConfiguration: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultTechniqueConfiguration{constructor(e){super(),this.spherical=e,this.screenCenterOffsetUnitsEnabled=!1,this.occlusionTestEnabled=!0,this.signedDistanceFieldEnabled=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.vvSize=!1,this.vvColor=!1,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.hasRotation=!1,this.debugDrawLabelBorder=!1,this.hasSlicePlane=!1,this.hasPolygonOffset=!1,this.depthTestEnabled=!0,this.pixelSnappingEnabled=!0,this.draped=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.occlusionPass=!1,this.occludedFragmentFade=!1,this.objectAndLayerIdColorInstanced=!1,this.horizonCullingEnabled=!0,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.discardInvisibleFragments=!0,this.hasSliceInVertexProgram=!0,this.hasVvInstancing=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"screenCenterOffsetUnitsEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"occlusionTestEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"signedDistanceFieldEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"sampleSignedDistanceFieldTexelCenter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"vvSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasVerticalOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasScreenSizePerspective",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasRotation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"debugDrawLabelBorder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasPolygonOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"depthTestEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"pixelSnappingEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"draped",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"cullAboveTerrain",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"occlusionPass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"occludedFragmentFade",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"objectAndLayerIdColorInstanced",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"horizonCullingEnabled",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ it; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/support/frustum.js */ "./node_modules/@arcgis/core/geometry/support/frustum.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/support/vector.js */ "./node_modules/@arcgis/core/geometry/support/vector.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl-engine/lib/fov.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js");
/* harmony import */ var _webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../webgl-engine/lib/rendererUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var $;let tt=$=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this._ray=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_18__.create)(),this._viewport=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.fromValues)(0,0,1,1),this._padding=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.fromValues)(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_12__.fromValues)(1,1e3),this._viewDirty=!0,this._viewMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this._frustumDirty=!0,this._frustum=(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_17__.create)(),this._fullViewport=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.create)(),this._pixelRatio=1,this.row=0,this.column=0,this._rows=1,this._columns=1,this._center=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),this._up=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),this.relativeElevation=0}get pixelRatio(){return this._pixelRatio}set pixelRatio(t){this._pixelRatio=t>0?t:1}get rows(){return this._rows}set rows(t){this._rows=Math.max(1,t)}get columns(){return this._columns}set columns(t){this._columns=Math.max(1,t)}get eye(){return this._ray.origin}set eye(t){this._compareAndSetView(t,this._ray.origin)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center,"_center")}get ray(){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.d)(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up,"_up")}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.copy)(this._viewMatrix,t),this.notifyChange("_viewMatrix"),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10])}get viewUp(){return this._ensureViewClean(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9])}get viewRight(){return this._ensureViewClean(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8])}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_nearFar"))}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_nearFar"))}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get screenViewport(){if(1===this.pixelRatio)return this._viewport;const t=(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.d)((0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.create)(),this._viewport,1/this.pixelRatio),i=this._get("screenViewport");return i&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.e)(t,i)?i:t}get screenPadding(){if(1===this.pixelRatio)return this._padding;const t=(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.d)((0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.create)(),this._padding,1/this.pixelRatio),i=this._get("screenPadding");return i&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.e)(t,i)?i:t}get x(){return this._viewport[0]}set x(t){t+=this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT],this._viewport[0]!==t&&(this._viewport[0]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get y(){return this._viewport[1]}set y(t){t+=this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM],this._viewport[1]!==t&&(this._viewport[1]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get fullWidth(){return this._viewport[2]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]}set fullWidth(t){this.width=t-(this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT])}get fullHeight(){return this._viewport[3]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]}set fullHeight(t){this.height=t-(this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT],this._fullViewport[1]=this._viewport[1]-this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get _aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.a)(this._padding,t)||(this._viewport[0]+=t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]-this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT],this._viewport[1]+=t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]-this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM],this._viewport[2]-=t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]+t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]-(this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]),this._viewport[3]-=t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]-(this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]),(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.c)(this._padding,t),this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_padding"),this.notifyChange("_viewport"))}get viewProjectionMatrix(){return this._viewProjectionDirty&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.multiply)(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){return this._projectionMatrixInternal}get inverseProjectionMatrix(){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.invert)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this.projectionMatrix)||this._get("inverseProjectionMatrix")||(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)()}get fov(){return this._fov}set fov(t){this._fov=t,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return (0,_webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__.fovd2fovx)(this._fov,this.width,this.height)}set fovX(t){this._fov=(0,_webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__.fovx2fovd)(t,this.width,this.height),this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return (0,_webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__.fovd2fovy)(this._fov,this.width,this.height)}set fovY(t){this._fov=(0,_webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__.fovy2fovd)(t,this.width,this.height),this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.j)(this.center,this.eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.invert)(this._viewInverseTransposeMatrix,this.viewMatrix),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.transpose)(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return null!=this.relativeElevation&&this.relativeElevation>=0}get _projectionMatrixInternal(){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2)*2,r=e*this._aspect,s=e/this.rows,o=r/this.columns,n=-r/2+this.column*o,h=n+o,a=-e/2+this.row*s,p=a+s,u=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.frustum)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),n*(1+2*this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]/t),h*(1+2*this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]/t),a*(1+2*this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]/i),p*(1+2*this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]/i),this.near,this.far),l=this._get("projectionMatrix");return l&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.equals)(l,u)?l:u}copyFrom(t){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(this._ray.origin,t.eye),this.center=t.center,this.up=t.up,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.c)(this._viewport,t.viewport),this.notifyChange("_viewport"),(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.c)(this._padding,t.padding),this.notifyChange("_padding"),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_11__.copy)(this._nearFar,t.nearFar),this.notifyChange("_nearFar"),this._fov=t.fov,this.row=t.row,this.column=t.column,this.rows=t.rows,this.columns=t.columns,this.relativeElevation=t.relativeElevation;const i=t;return this._viewDirty=i._viewDirty,this._viewDirty||((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.copy)(this._viewMatrix,t.viewMatrix),this.notifyChange("_viewMatrix")),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||((0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_17__.copy)(this._frustum,t.frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.copy)(this._viewInverseTransposeMatrix,t.viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.c)(this._fullViewport,t.fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up,this.fov=t.fov}clone(){return(new $).copyFrom(this)}equals(t){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(this.eye,t.eye)&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(this.center,t.center)&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(this.up,t.up)&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.a)(this._viewport,t.viewport)&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.a)(this._padding,t.padding)&&(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_11__.exactEquals)(this.nearFar,t.nearFar)&&this._fov===t.fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation&&this.row===t.row&&this.column===t.column&&this.rows===t.rows&&this.columns===t.columns}almostEquals(t){const i=Math.max(1,1/this.pixelRatio,1/t.pixelRatio);if(Math.abs(t.fov-this._fov)>=.001||(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.f)(t.screenPadding,this.screenPadding)>=i||(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.f)(this.screenViewport,t.screenViewport)>=i||this.row!==t.row||this.column!==t.column||this.rows!==t.rows||this.columns!==t.columns)return!1;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.a)(st,t.eye,t.center),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.a)(ot,this.eye,this.center);const e=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.f)(st,ot),r=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.z)(st),s=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.z)(ot),o=5e-4;return e*e>=(1-1e-10)*r*s&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.y)(t.eye,this.eye)<Math.max(r,s)*o*o}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this._viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this._viewDirectionDistance(t))}_viewDirectionDistance(t){return Math.abs((0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_19__.projectPointSignedLength)(this.viewForward,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.d)(st,t,this.eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.createScreenPointArray)()){return t[0]=(this.padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]+this.width/2)/this.pixelRatio,t[1]=(this.padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t[0]=this.padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]+this.width*i,t[1]=this.padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]+this.height*e,t[2]=.5,t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,i){t!==et&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(et,t),et[3]=1,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(et,et,this.projectionMatrix);const e=Math.abs(et[3]);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.h)(et,et,1/e);const s=this.fullViewport;i[0]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0,s[0]+s[2],.5+.5*et[0]),i[1]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0,s[1]+s[3],.5+.5*et[1]),i[2]=.5*(et[2]+1),i[3]=e}unapplyProjection(t,i){const e=this.fullViewport;et[0]=(t[0]/(e[0]+e[2])*2-1)*t[3],et[1]=(t[1]/(e[1]+e[3])*2-1)*t[3],et[2]=(2*t[2]-1)*t[3],et[3]=t[3],null!=this.inverseProjectionMatrix&&((0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(et,et,this.inverseProjectionMatrix),i[0]=et[0],i[1]=et[1],i[2]=et[2])}projectToScreen(t,i){return this.projectToRenderScreen(t,nt),this.renderToScreen(nt,i),i}projectToRenderScreen(t,i){if(et[0]=t[0],et[1]=t[1],et[2]=t[2],et[3]=1,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(et,et,this.viewProjectionMatrix),0===et[3])return null;const e=et;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.h)(e,e,1/Math.abs(et[3]));const s=this.fullViewport,o=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0,s[0]+s[2],.5+.5*e[0]),n=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0,s[1]+s[3],.5+.5*e[1]);return"x"in i?(i.x=o,i.y=n):(i[0]=o,i[1]=n,i.length>2&&(i[2]=.5*(e[2]+1))),i}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,nt),i)}unprojectFromRenderScreen(t,i){if((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.multiply)(rt,this.projectionMatrix,this.viewMatrix),!(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.invert)(rt,rt))return null;const e=this.fullViewport;return et[0]=2*(t[0]-e[0])/e[2]-1,et[1]=2*(t[1]-e[1])/e[3]-1,et[2]=2*t[2]-1,et[3]=1,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(et,et,rt),0===et[3]?null:(i[0]=et[0]/et[3],i[1]=et[1]/et[3],i[2]=et[2]/et[3],i)}constrainWindowSize(t,i,e,r){const s=t*this.pixelRatio,o=i*this.pixelRatio,n=Math.max(s-e/2,0),h=Math.max(this.fullHeight-o-r/2,0),a=-Math.min(s-e/2,0),p=-Math.min(this.fullHeight-o-r/2,0),u=e-a- -Math.min(this.fullWidth-s-e/2,0),l=r-p- -Math.min(o-r/2,0);return[Math.round(n),Math.round(h),Math.round(u),Math.round(l)]}computeUp(t){t===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_20__.ViewingMode.Global?this._computeUpGlobal():this._computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;i[0]=e,i[1]=r}_computeUpGlobal(){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.d)(st,this.center,this.eye);const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.l)(this.center);t<1?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(this._up,0,0,1),this._markViewDirty(),this.notifyChange("_up")):Math.abs((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.f)(st,this.center))>.9999*(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.l)(st)*t||((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)(this._up,st,this.center),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)(this._up,this._up,st),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.n)(this._up,this._up),this.notifyChange("_up"),this._markViewDirty())}_computeUpLocal(){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.o)(st,this.eye,this.center),Math.abs(st[2])<=.9999&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.h)(st,st,st[2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(this._up,-st[0],-st[1],1-st[2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.n)(this._up,this._up),this.notifyChange("_up"),this._markViewDirty())}_compareAndSetView(t,i,r=""){"number"==typeof t[0]&&isFinite(t[0])&&"number"==typeof t[1]&&isFinite(t[1])&&"number"==typeof t[2]&&isFinite(t[2])?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(t,i)||((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(i,t),this._markViewDirty(),r.length&&this.notifyChange(r)):_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.3d.webgl-engine.lib.RenderCamera").warn("RenderCamera vector contains invalid number, ignoring value")}_markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}_recomputeFrustum(){this._frustumDirty&&((0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_17__.fromMatrix)(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.lookAt)(this._viewMatrix,this.eye,this.center,this.up),this.notifyChange("_viewMatrix"),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_viewport",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_padding",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_fov",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_nearFar",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_viewDirty",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_viewMatrix",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_pixelRatio",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"pixelRatio",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"row",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"column",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_rows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"rows",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_columns",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"columns",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"eye",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"center",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_center",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"up",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_up",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"viewMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"viewForward",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"viewUp",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"viewRight",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"nearFar",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"near",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"far",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"viewport",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"screenViewport",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"screenPadding",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"x",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"y",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"width",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"height",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fullWidth",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fullHeight",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"_aspect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"padding",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"projectionMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"inverseProjectionMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fov",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fovX",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fovY",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"viewInverseTransposeMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"_projectionMatrixInternal",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"relativeElevation",void 0),tt=$=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.webgl.RenderCamera")],tt);const it=tt,et=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.create)(),rt=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),st=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),ot=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),nt=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.createRenderScreenPointArray3)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/BufferObject.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/BufferObject.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferObject: function() { return /* binding */ E; },
/* harmony export */   tracer: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./checkWebGLError.js */ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const h=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.webgl.BufferObject"),c=null;class E{static createIndex(t,e,i){return new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER,e,i)}static createVertex(t,e,i){return new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ARRAY_BUFFER,e,i)}static createUniform(t,e,i){return new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.UNIFORM_BUFFER,e,i)}static createPixelPack(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STREAM_READ,i){const s=new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.PIXEL_PACK_BUFFER,e);return i&&s.setSize(i),s}static createPixelUnpack(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STREAM_DRAW,i){return new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.PIXEL_UNPACK_BUFFER,e,i)}static createTransformFeedback(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,i){const s=new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER,e);return s.setSize(i),s}constructor(t,e,i,s){this._context=t,this.bufferType=e,this.usage=i,this._glName=null,this._size=-1,this._indexType=void 0,t.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_5__.ResourceType.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.checkWebGLError)(this._context.gl),s&&this.setData(s)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get usedMemory(){if(this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER){if(this._indexType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT)return 4*this._size;if(this._indexType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_SHORT)return 2*this._size}return this._size}get _isVAOAware(){return this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER||this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_5__.ResourceType.BufferObject,this),this._context=null}else this._glName&&h().warn("Leaked WebGL buffer object")}setSize(t,e=null){if(this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER&&null!=e)switch(this._indexType=e,e){case _enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_SHORT:t*=2;break;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT:t*=4}this._setBufferData(t)}setData(t){if(!t)return;let e=t.byteLength;this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER&&((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.isUint8Array)(t)?this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_BYTE:(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.isUint16Array)(t)?(e/=2,this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_SHORT):(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.isUint32Array)(t)&&(e/=4,this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT)),this._setBufferData(e,t)}_setBufferData(t,e=null){this._size=t;const i=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const s=this._context.gl;null!=e?s.bufferData(this.bufferType,e,this.usage):s.bufferData(this.bufferType,t,this.usage),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.checkWebGLError)(s),this._isVAOAware&&this._context.bindVAO(i)}setSubData(t,e,i,s){if(!t)return;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const{gl:_}=this._context;_.bufferSubData(this.bufferType,e*t.BYTES_PER_ELEMENT,t,i,s-i),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.checkWebGLError)(_),this._isVAOAware&&this._context.bindVAO(r)}getSubData(t,e=0,i,s){if(i<0||s<0)return;const r=o(t)?t.BYTES_PER_ELEMENT:1;if(r*((i??0)+(s??0))>t.byteLength)return;e+r*(s??0)>this.usedMemory&&h().warn("Potential problem getting subdata: requested data exceeds buffer size!");const n=this._context.gl;this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER?(this._context.bindBuffer(this,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER),n.getBufferSubData(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER,e,t,i,s),this._context.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER)):(this._context.bindBuffer(this,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER),n.getBufferSubData(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER,e,t,i,s),this._context.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER))}async getSubDataAsync(t,e=0,i,s){await this._context.clientWaitAsync(),this.getSubData(t,e,i,s)}}function o(e){return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isArrayLike)(e)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexArrayObject: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/webgl/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.webgl.VertexArrayObject");let o=class{constructor(e,t,i,r,s=null){this._context=e,this._locations=t,this._layout=i,this._buffers=r,this._indexBuffer=s,this._glName=null,this._initialized=!1}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get byteSize(){return Array.from(this._buffers.values()).reduce(((e,t)=>e+t.usedMemory),null!=this._indexBuffer?this._indexBuffer.usedMemory:0)}get layout(){return this._layout}get locations(){return this._locations}get usedMemory(){return this.byteSize+(Object.keys(this._buffers).length+(this._indexBuffer?1:0))*_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__.typedArrayStaticSize}dispose(){this._context?(this._context.getBoundVAO()===this&&this._context.bindVAO(null),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this._indexBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._indexBuffer),this.disposeVAOOnly()):(this._glName||Object.getOwnPropertyNames(this._buffers).length>0)&&n().warn("Leaked WebGL VAO")}disposeVAOOnly(){this._glName&&(this._context.gl.deleteVertexArray(this._glName),this._glName=null,this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_3__.ResourceType.VertexArrayObject,this)),this._context=null}initialize(){if(this._initialized)return;const{gl:e}=this._context,t=e.createVertexArray();e.bindVertexArray(t),this._bindLayout(),e.bindVertexArray(null),this._glName=t,this._context.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_3__.ResourceType.VertexArrayObject,this),this._initialized=!0}bind(){this.initialize(),this._context.gl.bindVertexArray(this.glName)}_bindLayout(){const{_buffers:e,_layout:t,_indexBuffer:i}=this;e||n().error("Vertex buffer dictionary is empty!");const r=this._context.gl;this._buffers.forEach(((e,i)=>{const r=t.get(i);r?(0,_Util_js__WEBPACK_IMPORTED_MODULE_4__.bindVertexBufferLayout)(this._context,this._locations,e,r):n().error("Vertex element descriptor is empty!")})),null!=i&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i.glName)}unbind(){this.initialize(),this._context.gl.bindVertexArray(null)}};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexElementDescriptor: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,h,o,e=!1,r=0){this.name=t,this.count=s,this.type=i,this.offset=h,this.stride=o,this.normalized=e,this.divisor=r}}


/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_arcgis_core_geometry_projection_projectVectorToPoint_js-node_modules_arc-9e09ac.d56e8e42ea365ea48153.js.map