{"version":3,"file":"vendors-node_modules_arcgis_core_chunks_boundedPlane_js-node_modules_arcgis_core_geometry_sup-b8b55c.d96980e28147271c46bb.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACyrC,YAAY,uDAAC,+DAA+D,QAAQ,cAAc,WAAW,mEAAC,eAAe,mFAAC,eAAe,mFAAC,eAAe,mFAAC,IAAI,UAAU,iBAAiB,OAAO,MAAM,mEAAC,iBAAiB,kFAAC,kBAAkB,kFAAC,kBAAkB,kFAAC,YAAY,kBAAkB,iBAAiB,gDAAgD,iEAAC,iBAAiB,oBAAoB,uCAAuC,gBAAgB,4CAAC,oBAAoB,4CAAC,oBAAoB,4CAAC,oBAAoB,iEAAC,kBAAkB,wBAAwB,OAAO,4CAAC,aAAa,4CAAC,aAAa,4CAAC,yCAAyC,cAAc,gFAAC,qCAAqC,kBAAkB,cAAc,QAAQ,4CAAC,CAAC,oEAAC,gBAAgB,OAAO,4CAAC,sCAAsC,kBAAkB,uCAAuC,iBAAiB,iDAAiD,OAAO,+EAAC,oBAAoB,qBAAqB,sCAAsC,OAAO,4CAAC,2BAA2B,4CAAC,iBAAiB,4CAAC,iBAAiB,uEAAC,oBAAoB,mBAAmB,QAAQ,yEAAC,uBAAuB,mBAAmB,sBAAsB,eAAe,oEAAC,QAAQ,OAAO,4CAAC,YAAY,4CAAC,CAAC,oEAAC,mBAAmB,4CAAC,aAAa,4CAAC,kBAAkB,mBAAmB,iBAAiB,mBAAmB,+BAA+B,mBAAmB,2BAA2B,oEAAC,OAAO,GAAG,iFAAC,SAAS,QAAQ,4CAAC,CAAC,oEAAC,8BAA8B,+DAAC,CAAC,4CAAC,kBAAkB,UAAU,4CAAC,QAAQ,gDAAgD,iBAAiB,cAAc,mBAAmB,sBAAsB,4BAA4B,YAAY,+BAA+B,mBAAmB,2BAA2B,oEAAC,OAAO,GAAG,sFAAC,SAAS,QAAQ,oEAAC,MAAM,IAAI,0EAAC,eAAe,UAAU,4CAAC,QAAQ,4CAA4C,mBAAmB,QAAQ,yEAAC,WAAW,oEAAC,UAAU,oFAAC,uBAAuB,oEAAC,UAAU,oFAAC,uBAAuB,oEAAC,QAAQ,OAAO,4CAAC,GAAG,4CAAC,CAAC,oEAAC,wBAAwB,mBAAmB,MAAM,2BAA2B,KAAK,4CAAC,CAAC,oEAAC,cAAc,sFAAC,QAAQ,sFAAC,QAAQ,sFAAC,UAAU,OAAO,4CAAC,UAAU,iBAAiB,eAAe,oEAAC,SAAS,kBAAkB,KAAK,4CAAC,MAAM,4CAAC,yEAAyE,mBAAmB,iBAAiB,0BAA0B,iBAAiB,+BAA+B,mBAAmB,2BAA2B,4EAAC,MAAM,WAAW,oBAAoB,iBAAiB,OAAO,0EAAC,qBAAqB,qBAAqB,iBAAiB,iBAAiB,oBAAoB,OAAO,sFAAC,YAAY,qBAAqB,kBAAkB,4CAAC,eAAe,OAAO,4CAAC,UAAU,iBAAiB,OAAO,4CAAC,qBAAqB,4CAAC,qBAAqB,4CAAC,oBAAoB,mBAAmB,qBAAqB,2EAAC,OAAO,8EAAC,QAAQ,4CAAC,uBAAuB,4CAAC,uBAAuB,4CAAC,CAAC,sEAAC,UAAU,sEAAC,cAAc,4CAAC,sBAAsB,+EAAC,6BAA6B,qBAAqB,qBAAqB,iFAAC,SAAS,4CAAC,uBAAuB,4CAAC,8BAA8B,eAAe,OAAO,sEAAC,UAAU,mBAAmB,UAAU,KAAK,2DAAC,GAAG,4CAAC,aAAa,4CAAC,MAAM,MAAM,KAAK,2DAAC,GAAG,4CAAC,aAAa,4CAAC,MAAM,MAAM,KAAK,2DAAC,GAAG,4CAAC,UAAU,SAAS,iBAAiB,QAAQ,4CAAC,CAAC,oEAAC,qBAAqB,4CAAC,aAAa,4CAAC,aAAa,4CAAC,eAAe,4CAAC,aAAa,mCAAmC,iBAAiB,iBAAiB,OAAO,4CAAC,oBAAoB,4CAAC,eAAe,mBAAmB,MAAM,2BAA2B,KAAK,4CAAC,CAAC,oEAAC,wBAAwB,4CAAC,CAAC,oEAAC,sBAAsB,4CAAC,eAAe,4CAAC,sBAAsB,QAAQ,4CAAC,CAAC,oEAAC,2BAA2B,4CAAC,CAAC,oEAAC,yBAAyB,OAAO,4CAAC,UAAU,4CAAC,aAAa,iBAAiB,SAAS,4CAAC,qBAAqB,4CAAC,WAAW,4CAAC,uFAAuF,4CAAC,qGAAqG,4CAAC,kGAAkG,qBAAqB,cAAc,gFAAC,2BAA2B,gFAAC,CAAC,sEAAC,kBAAkB,UAAU,MAAM,mEAAC,UAAU,uFAAC,eAAe,uFAAC,eAAe,uFAAC,QAAQ,QAAQ,6DAAC,CAAC,+DAAC,SAAS,6DAAC,CAAC,qEAAC,KAAK,mFAAC,UAAU,6DAAC,iBAAiB,+BAA+B,EAAE,8BAA8B,EAAE,8BAA8B,EAAE,+BAA+B,KAAK,mFAAC,MAAM,mFAAC,2CAA2C,2eAA2e,qBAAqB,eAAe,GAA0P;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJxyM;AACA;AACA;AACA;AAC0T,cAAc,UAAU,OAAO,kFAAC,kBAAkB,kFAAC,WAAW,EAAE,OAAO,mFAAC,UAAU,mFAAC,IAAI,gBAAgB,gBAAgB,+BAA+B,oBAAoB,8BAA8B,sBAAsB,OAAO,mDAAC,aAAa,mDAAC,eAAe,sBAAsB,OAAO,mDAAC,aAAa,mDAAC,iBAAiB,gBAAgB,QAAQ,mDAAC,CAAC,kDAAC,qBAAqB,mDAAC,eAAe,mDAAC,sBAAsB,yDAAC,YAAY,mDAAC,CAAC,kDAAC,OAAO,mDAAC,CAAC,kDAAC,sBAAsB,OAAO,mDAAC,MAAM,kBAAkB,oBAAoB,kBAAkB,OAAO,mDAAC,YAAY,mDAAC,gBAAgB,sBAAsB,MAAM,kBAAkB,KAAK,mDAAC,CAAC,kDAAC,cAAc,mDAAC,MAAM,mDAAC,IAAI,OAAO,mDAAC,KAAK,yDAAC,SAAS,mDAAC,eAAe,gBAAgB,sCAAsC,MAAM,sBAAsB,GAAG,uBAAuB,cAAc,mDAAC,aAAa,cAAc,mDAAC,CAAC,mDAAC,CAAC,kDAAC,6BAA6B,YAAY,kBAAkB,sBAAsB,mDAAC,aAAa,oBAAoB,0BAA0B,mDAAC,CAAC,kDAAC,gCAAgC,mDAAC,CAAC,kDAAC,qBAAqB,kDAAC,SAAS,kDAAC,OAAO,2JAA2J,QAAQ,kDAAC,OAAO,8GAA8G,8KAA8K,0BAA0B,8BAA8B,MAAM,yDAAC,UAAU,yDAAC,SAAS,QAAQ,kDAAC,SAAS,kDAAC,OAAO,qJAAqJ,mDAAC,SAAS,SAAS,aAAa,mFAAC,MAAM,mFAAC,eAAe,OAAO,6DAAC,YAA+M;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ/yE;AACA;AACA;AACA;AACmV,cAAc,UAAU,GAAG,kFAAC,UAAU,kFAAC,UAAU,kFAAC,OAAO,EAAE,GAAG,mFAAC,MAAM,mFAAC,MAAM,mFAAC,IAAI,kBAAkB,gBAAgB,8BAA8B,oBAAoB,2BAA2B,wBAAwB,OAAO,mDAAC,SAAS,mDAAC,SAAS,mDAAC,WAAW,gBAAgB,6BAA6B,mDAAC,CAAC,kDAAC,cAAc,mDAAC,CAAC,kDAAC,cAAc,mDAAC,CAAC,kDAAC,cAAc,mDAAC,CAAC,kDAAC,cAAc,mDAAC,CAAC,kDAAC,cAAc,mDAAC,CAAC,kDAAC,cAAc,mDAAC,UAAU,mDAAC,CAAC,mDAAC,CAAC,kDAAC,iBAAiB,mDAAC,CAAC,mDAAC,CAAC,kDAAC,iBAAiB,mDAAC,CAAC,mDAAC,CAAC,kDAAC,eAAe,kBAAkB,QAAQ,mDAAC,MAAM,WAAW,mDAAC,MAAM,QAAQ,0DAAC,CAAC,2DAAC,mBAAmB,0DAAC,CAAC,2DAAC,mBAAmB,0DAAC,CAAC,2DAAC,iBAAiB,uBAAuB,kBAAkB,cAAc,qBAAqB,IAAI,eAAe,yIAAyI,sBAAsB,kEAAkE,qBAAqB,+DAA+D,uBAAuB,MAAM,mDAAC,sBAAsB,mDAAC,QAAQ,SAAS,kBAAkB,sDAAsD,2BAA2B,kBAAkB,OAAO,mDAAC,QAAQ,mDAAC,WAAW,mDAAC,CAAC,mDAAC,SAAS,YAAY,6DAAC,CAAC,mDAAC,QAAQ,6DAAC,cAAc,mFAAC,KAAK,mFAAC,GAAgI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ/sD;AACA;AACA;AACA;AAC6X,cAAc,0BAA0B,cAAc,0BAA0B,cAAc,0BAA0B,gBAAgB,oBAAoB,mDAAC,EAAE,+CAA+C,oDAAC,sBAAsB,oDAAC,sCAAsC,OAAO,cAAc,2BAA2B,wEAAC,OAAO,cAAc,MAAM,iCAAiC,uBAAuB,kCAAkC,eAAe,aAAa,MAAM,gBAAgB,GAAG,OAAO,oCAAoC,eAAe,MAAM,sBAAsB,GAAG,OAAO,6CAA6C,gBAAgB,MAAM,sBAAsB,GAAG,OAAO,6CAA6C,cAAc,MAAM,sEAAsE,GAAG,OAAO,0FAA0F,kBAAkB,MAAM,uBAAuB,GAAG,OAAO,qDAAqD,gBAAgB,cAAc,+BAA+B,cAAc,iCAAiC,cAAc,6CAA6C,SAAS,cAAc,oBAAoB,uEAAC,QAAQ,uEAAC,QAAQ,gBAAgB,kBAAkB,MAAM,SAAS,4BAA4B,yBAAyB,sLAAsL,wEAAC,gEAAgE,cAAc,MAAM,iCAAiC,MAAM,kCAAkC,OAAO,qEAAC,aAAgL","sources":["webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/chunks/boundedPlane.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/geometry/support/lineSegment.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/geometry/support/triangle.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import s from\"../core/Logger.js\";import{acosClamped as t}from\"../core/mathUtils.js\";import{ObjectStack as i}from\"../core/ObjectStack.js\";import{invert as n,transpose as r,fromRotation as o}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c as a,h as c,g as u,i as g,j as b,l as f,o as p,f as l,d as m,p as d,t as h,n as j,k as y}from\"./vec32.js\";import{fromValues as I,clone as P,create as v}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as N}from\"../geometry/support/aaBoundingRect.js\";import{Axis as w}from\"../geometry/support/Axis.js\";import{create as x,projectPointClamp as M,distance2 as S}from\"../geometry/support/lineSegment.js\";import{create as T,wrap as V,copy as A,fromVectorsAndPoint as E,fromValues as _,intersectRay as O,intersectLineSegment as k,intersectLineSegmentClamp as B,isPointInside as C,projectPoint as F,getNormal as R,setOffsetFromPoint as Y}from\"../geometry/support/plane.js\";import{distance2 as q}from\"../geometry/support/ray.js\";import{projectPointSignedLength as L}from\"../geometry/support/vector.js\";import{sv3d as U}from\"../geometry/support/vectorStacks.js\";const z=()=>s.getLogger(\"esri.views.3d.support.geometryUtils.boundedPlane\");class D{constructor(){this.plane=T(),this.origin=v(),this.basis1=v(),this.basis2=v()}}const G=D;function W(s=Ms){return{plane:T(s.plane),origin:P(s.origin),basis1:P(s.basis1),basis2:P(s.basis2)}}function X(s,t,i){const n=As.get();return n.origin=s,n.basis1=t,n.basis2=i,n.plane=V(0,0,0,0),K(n),n}function Z(s,t=W()){return J(s.origin,s.basis1,s.basis2,t)}function H(s,t){a(t.origin,s.origin),a(t.basis1,s.basis1),a(t.basis2,s.basis2),A(t.plane,s.plane)}function J(s,t,i,n=W()){return a(n.origin,s),a(n.basis1,t),a(n.basis2,i),K(n),ws(n,\"fromValues()\"),n}function K(s){E(s.basis2,s.basis1,s.origin,s.plane)}function Q(s,t,i){s!==i&&Z(s,i);const n=c(U.get(),ys(s),t);return u(i.origin,i.origin,n),i.plane[3]-=t,i}function $(s,t,i){return ts(t,i),Q(i,ls(s,s.origin),i),i}function ss(s,t){const i=s.basis1[0],n=s.basis2[1],[r,o]=s.origin;return N(r-i,o-n,r+i,o+n,t)}function ts(s,t=W()){const i=(s[2]-s[0])/2,n=(s[3]-s[1])/2;return g(t.origin,s[0]+i,s[1]+n,0),g(t.basis1,i,0,0),g(t.basis2,0,n,0),_(0,0,1,0,t.plane),t}function is(s,t,i){return!!O(s.plane,t,i)&&Ps(s,i)}function ns(s,t,i){if(is(s,t,i))return i;const n=rs(s,t,U.get());return u(i,t.origin,c(U.get(),t.direction,b(t.origin,n)/f(t.direction))),i}function rs(s,i,n){const r=Ss.get();xs(s,i,r,Ss.get());let o=Number.POSITIVE_INFINITY;for(const e of Es){const c=Ns(s,e,Ts.get()),u=U.get();if(k(r,c,u)){const s=p(U.get(),i.origin,u),r=Math.abs(t(l(i.direction,s)));r<o&&(o=r,a(n,u))}}return o===Number.POSITIVE_INFINITY?es(s,i,n):n}function os(s,t){return(t-s)/t}function es(s,t,i){if(is(s,t,i))return i;const n=Ss.get(),r=Ss.get();xs(s,t,n,r);let o=Number.POSITIVE_INFINITY;for(const e of Es){const c=Ns(s,e,Ts.get()),u=U.get();if(B(n,c,u)){const s=q(t,u);if(!C(r,u))continue;s<o&&(o=s,a(i,u))}}return us(s,t.origin)<o&&as(s,t.origin,i),i}function as(s,t,i){const n=F(s.plane,t,U.get()),r=M(vs(s,s.basis1),n,-1,1,U.get()),o=M(vs(s,s.basis2),n,-1,1,U.get());return m(i,u(U.get(),r,o),s.origin),i}function cs(s,t,i){const{origin:n,basis1:r,basis2:o}=s,e=m(U.get(),t,n),a=L(r,e),c=L(o,e),u=L(ys(s),e);return g(i,a,c,u)}function us(s,t){const i=cs(s,t,U.get()),{basis1:n,basis2:r}=s,o=f(n),e=f(r),a=Math.max(Math.abs(i[0])-o,0),c=Math.max(Math.abs(i[1])-e,0),u=i[2];return a*a+c*c+u*u}function gs(s,t){return Math.sqrt(us(s,t))}function bs(s,t){let i=Number.NEGATIVE_INFINITY;for(const n of Es){const r=Ns(s,n,Ts.get()),o=S(r,t);o>i&&(i=o)}return Math.sqrt(i)}function fs(s,t){return C(s.plane,t)&&Ps(s,t)}function ps(s,t,i,n){return Is(s,i,n)}function ls(s,t){const i=-s.plane[3];return L(ys(s),t)-i}function ms(s,t,i,n){const r=ls(s,t),o=c(Vs,ys(s),i-r);return u(n,t,o),n}function ds(s,t){return d(s.basis1,t.basis1)&&d(s.basis2,t.basis2)&&d(s.origin,t.origin)}function hs(s,t,i){return s!==i&&Z(s,i),n(_s,t),r(_s,_s),h(i.basis1,s.basis1,_s),h(i.basis2,s.basis2,_s),h(R(i.plane),R(s.plane),_s),h(i.origin,s.origin,t),Y(i.plane,i.plane,i.origin),i}function js(s,t,i,n){return s!==n&&Z(s,n),o(Os,t,i),h(n.basis1,s.basis1,Os),h(n.basis2,s.basis2,Os),K(n),n}function ys(s){return R(s.plane)}function Is(s,t,i){switch(t){case w.X:a(i,s.basis1),j(i,i);break;case w.Y:a(i,s.basis2),j(i,i);break;case w.Z:a(i,ys(s))}return i}function Ps(s,t){const i=m(U.get(),t,s.origin),n=y(s.basis1),r=y(s.basis2),o=l(s.basis1,i),e=l(s.basis2,i);return-o-n<0&&o-n<0&&-e-r<0&&e-r<0}function vs(s,t){const i=Ts.get();return a(i.origin,s.origin),a(i.vector,t),i}function Ns(s,t,i){const{basis1:n,basis2:r,origin:o}=s,e=c(U.get(),n,t.origin[0]),a=c(U.get(),r,t.origin[1]);u(i.origin,e,a),u(i.origin,i.origin,o);const g=c(U.get(),n,t.direction[0]),b=c(U.get(),r,t.direction[1]);return c(i.vector,u(g,g,b),2),i}function ws(s,t){Math.abs(l(s.basis1,s.basis2)/(f(s.basis1)*f(s.basis2)))>1e-6&&z().warn(t,\"Provided basis vectors are not perpendicular\"),Math.abs(l(s.basis1,ys(s)))>1e-6&&z().warn(t,\"Basis vectors and plane normal are not perpendicular\"),Math.abs(-l(ys(s),s.origin)-s.plane[3])>1e-6&&z().warn(t,\"Plane offset is not consistent with plane origin\")}function xs(s,t,i,n){const r=ys(s);E(r,t.direction,t.origin,i),E(R(i),r,t.origin,n)}const Ms={plane:T(),origin:I(0,0,0),basis1:I(1,0,0),basis2:I(0,1,0)},Ss=new i(T),Ts=new i(x),Vs=v(),As=new i((()=>W())),Es=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],_s=e(),Os=e(),ks=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:G,altitudeAt:ls,axisAt:ps,cameraFrustumCoverage:os,closestPoint:es,closestPointOnSilhouette:rs,copy:Z,copyWithoutVerify:H,create:W,distance:gs,distance2:us,distanceToSilhouette:bs,elevate:Q,equals:ds,extrusionContainsPoint:fs,fromAABoundingRect:ts,fromValues:J,getExtent:ss,intersectRay:is,intersectRayClosestSilhouette:ns,normal:ys,projectPoint:as,projectPointLocal:cs,rotate:js,setAltitudeAt:ms,setExtent:$,transform:hs,up:Ms,updateUnboundedPlane:K,wrap:X},Symbol.toStringTag,{value:\"Module\"}));export{ls as A,G as B,ms as C,ds as D,Ms as E,W as a,ks as b,Z as c,os as d,fs as e,J as f,ts as g,gs as h,is as i,H as j,Q as k,ss as l,ns as m,ys as n,rs as o,es as p,as as q,js as r,$ as s,hs as t,K as u,cs as v,X as w,us as x,bs as y,ps as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{ObjectStack as r}from\"../../core/ObjectStack.js\";import{c as n,d as o,f as e,h as i,g as c,k as s,s as u}from\"../../chunks/vec32.js\";import{clone as a,create as g}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{sv3d as f}from\"./vectorStacks.js\";function v(t){return t?{origin:a(t.origin),vector:a(t.vector)}:{origin:g(),vector:g()}}function m(t,r){const n=S.get();return n.origin=t,n.vector=r,n}function p(t,r=v()){return h(t.origin,t.vector,r)}function h(t,r,o=v()){return n(o.origin,t),n(o.vector,r),o}function b(t,r,e=v()){return n(e.origin,t),o(e.vector,r,t),e}function M(r,n){const c=o(f.get(),n,r.origin),s=e(r.vector,c),u=e(r.vector,r.vector),a=t(s/u,0,1),g=o(f.get(),i(f.get(),r.vector,a),c);return e(g,g)}function j(t,r,n){return A(t,r,0,1,n)}function l(t,r,n){return c(n,t.origin,i(n,t.vector,r))}function A(r,n,u,a,g){const{vector:v,origin:m}=r,p=o(f.get(),n,m),h=e(v,p)/s(v);return i(g,v,t(h,u,a)),c(g,g,r.origin)}function d(t,r){if(k(t,m(r.origin,r.direction),!1,x)){const{tA:r,pB:n,distance2:o}=x;if(r>=0&&r<=1)return o;if(r<0)return u(t.origin,n);if(r>1)return u(c(f.get(),t.origin,t.vector),n)}return null}function B(t,r,o){return!!k(t,r,!0,x)&&(n(o,x.pA),!0)}function k(r,n,o,e){const i=1e-6,s=r.origin,a=c(f.get(),s,r.vector),g=n.origin,v=c(f.get(),g,n.vector),m=f.get(),p=f.get();if(m[0]=s[0]-g[0],m[1]=s[1]-g[1],m[2]=s[2]-g[2],p[0]=v[0]-g[0],p[1]=v[1]-g[1],p[2]=v[2]-g[2],Math.abs(p[0])<i&&Math.abs(p[1])<i&&Math.abs(p[2])<i)return!1;const h=f.get();if(h[0]=a[0]-s[0],h[1]=a[1]-s[1],h[2]=a[2]-s[2],Math.abs(h[0])<i&&Math.abs(h[1])<i&&Math.abs(h[2])<i)return!1;const b=m[0]*p[0]+m[1]*p[1]+m[2]*p[2],M=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],j=m[0]*h[0]+m[1]*h[1]+m[2]*h[2],l=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],A=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*l-M*M;if(Math.abs(A)<i)return!1;let d=(b*M-j*l)/A,B=(b+M*d)/l;o&&(d=t(d,0,1),B=t(B,0,1));const k=f.get(),x=f.get();return k[0]=s[0]+d*h[0],k[1]=s[1]+d*h[1],k[2]=s[2]+d*h[2],x[0]=g[0]+B*p[0],x[1]=g[1]+B*p[1],x[2]=g[2]+B*p[2],e.tA=d,e.tB=B,e.pA=k,e.pB=x,e.distance2=u(k,x),!0}const x={tA:0,tB:0,pA:g(),pB:g(),distance2:0},S=new r((()=>v()));export{B as closestLineSegmentPoint,d as closestRayDistance2,p as copy,v as create,M as distance2,b as fromPoints,h as fromValues,l as pointAt,j as projectPoint,A as projectPointClamp,m as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ObjectStack as t}from\"../../core/ObjectStack.js\";import{c as e,d as n,e as r,f as o,h as c,g as s,l as p}from\"../../chunks/vec32.js\";import{clone as i,create as a}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as f,distance2 as u,fromValues as g}from\"./lineSegment.js\";import{sv3d as m}from\"./vectorStacks.js\";function j(t){return t?{p0:i(t.p0),p1:i(t.p1),p2:i(t.p2)}:{p0:a(),p1:a(),p2:a()}}function l(t,e,n){const r=x.get();return r.p0=t,r.p1=e,r.p2=n,r}function h(t,e=j()){return b(t.p0,t.p1,t.p2,e)}function b(t,n,r,o=j()){return e(o.p0,t),e(o.p1,n),e(o.p2,r),o}function d(t,e){const c=t.p0,s=t.p1,p=t.p2,i=n(m.get(),s,c),a=n(m.get(),p,s),f=n(m.get(),c,p),j=n(m.get(),e,c),l=n(m.get(),e,s),h=n(m.get(),e,p),b=r(i,i,f),d=o(r(m.get(),i,b),j),k=o(r(m.get(),a,b),l),v=o(r(m.get(),f,b),h);if(d>0&&k>0&&v>0){const t=o(b,j);return t*t/o(b,b)}const S=u(g(c,i,w.get()),e),x=u(g(s,a,w.get()),e),M=u(g(p,f,w.get()),e);return Math.min(S,x,M)}function k(t,e,n){const r=1e-5,{direction:o,origin:p}=e,{p0:i,p1:a,p2:f}=t,u=a[0]-i[0],g=a[1]-i[1],m=a[2]-i[2],j=f[0]-i[0],l=f[1]-i[1],h=f[2]-i[2],b=o[1]*h-l*o[2],d=o[2]*j-h*o[0],k=o[0]*l-j*o[1],v=u*b+g*d+m*k;if(v>-r&&v<r)return!1;const S=1/v,w=p[0]-i[0],x=p[1]-i[1],M=p[2]-i[2],O=S*(w*b+x*d+M*k);if(O<0||O>1)return!1;const V=x*m-g*M,q=M*u-m*w,y=w*g-u*x,z=S*(o[0]*V+o[1]*q+o[2]*y);if(z<0||O+z>1)return!1;if(n){c(n,o,S*(j*V+l*q+h*y)),s(n,p,n)}return!0}function v(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],c=n[0]-t[0],s=n[1]-t[1];return.5*Math.abs(r*s-o*c)}function S(t,e,o){return n(M,e,t),n(O,o,t),.5*p(r(M,M,O))}const w=new t(f),x=new t((()=>j())),M=a(),O=a();export{v as areaPoints2d,S as areaPoints3d,h as copy,j as create,d as distance2,b as fromValues,k as intersectRay,l as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../Graphic.js\";import\"../../core/has.js\";import{clone as t}from\"../../core/lang.js\";import{isFloat32Array as n,isFloat64Array as r}from\"../../core/typedArrayUtil.js\";import{fromJSON as a}from\"../../geometry/support/jsonUtils.js\";import{makeDehydratedPoint as s}from\"./dehydratedPoint.js\";import i from\"../../geometry/SpatialReference.js\";function o(e){return\"declaredClass\"in e}function m(e){return\"declaredClass\"in e}function l(e){return\"declaredClass\"in e}function c(n,r){return n?l(n)?n:new e({layer:r,sourceLayer:r,visible:n.visible,symbol:t(n.symbol),attributes:t(n.attributes),geometry:u(n.geometry)}):null}function u(e){return null==e?null:o(e)?e:a(f(e))}function f(e){const{wkid:t,wkt:n,wkt2:r,latestWkid:a}=e.spatialReference,s={wkid:t,wkt:n,wkt2:r,latestWkid:a};switch(e.type){case\"point\":{const{x:t,y:n,z:r,m:a}=e;return{x:t,y:n,z:r,m:a,spatialReference:s}}case\"polygon\":{const{rings:t,hasZ:n,hasM:r}=e;return{rings:p(t),hasZ:n,hasM:r,spatialReference:s}}case\"polyline\":{const{paths:t,hasZ:n,hasM:r}=e;return{paths:p(t),hasZ:n,hasM:r,spatialReference:s}}case\"extent\":{const{xmin:t,xmax:n,ymin:r,ymax:a,zmin:i,zmax:o,mmin:m,mmax:l,hasZ:c,hasM:u}=e;return{xmin:t,xmax:n,ymin:r,ymax:a,zmin:i,zmax:o,mmin:m,mmax:l,hasZ:c,hasM:u,spatialReference:s}}case\"multipoint\":{const{points:t,hasZ:n,hasM:r}=e;return{points:d(t)?h(t):t,hasZ:n,hasM:r,spatialReference:s}}default:return}}function p(e){return y(e)?e.map((e=>h(e))):e}function h(e){return e.map((e=>Array.from(e)))}function y(e){for(const t of e)if(0!==t.length)return d(t);return!1}function d(e){return e.length>0&&(n(e[0])||r(e[0]))}function x(e,t){if(!e)return null;let n;if(m(e)){if(null==t)return e.clone();if(m(t))return t.copy(e)}return null!=t?(n=t,n.x=e.x,n.y=e.y,n.spatialReference=e.spatialReference,e.hasZ?(n.z=e.z,n.hasZ=e.hasZ):(n.z=void 0,n.hasZ=!1),e.hasM?(n.m=e.m,n.hasM=!0):(n.m=void 0,n.hasM=!1)):(n=s(e.x,e.y,e.z,e.spatialReference),e.hasM&&(n.m=e.m,n.hasM=!0)),n}function k(e){const{wkid:t,wkt:n,wkt2:r,latestWkid:a}=e,s={wkid:t,wkt:n,wkt2:r,latestWkid:a};return i.fromJSON(s)}export{x as clonePoint,u as hydrateGeometry,c as hydrateGraphic,k as hydratedSpatialReference,o as isHydratedGeometry,l as isHydratedGraphic,m as isHydratedPoint};\n"],"names":[],"sourceRoot":""}