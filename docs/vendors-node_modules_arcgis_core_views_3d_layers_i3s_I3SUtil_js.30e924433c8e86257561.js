"use strict";
(self["webpackChunkreact_redux_arcgis_boilerplate"] = self["webpackChunkreact_redux_arcgis_boilerplate"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_i3s_I3SUtil_js"],{

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeGlobalTransformation: function() { return /* binding */ n; },
/* harmony export */   getLocalOrigin: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(r,a,n,s,e){const h="east-north-up"===n?(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.clone)(r):c(r,a,s),m=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();return (0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_3__.computeTranslationToOriginAndRotation)(s,h,m,e),m}const s=1,e=5-s;function c(t,o,i){const n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),c=t[3],h=2**(Math.ceil(Math.log(c)*Math.LOG2E/e)*e+s);if(i.isGeographic){const o=h/(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_2__.getReferenceEllipsoid)(i).radius*180/Math.PI,r=Math.round(t[1]/o),s=Math.max(-90,Math.min(90,r*o)),e=o/Math.cos((Math.abs(s)-o/2)/180*Math.PI),c=Math.round(t[0]/e)*e;n[0]=c,n[1]=s}else{const o=Math.round(t[0]/h),r=Math.round(t[1]/h);n[0]=o*h,n[1]=r*h}const m=t[2]+o,M=Math.round(m/h);return n[2]=M*h,n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MbsIntersectResult: function() { return /* binding */ q; },
/* harmony export */   SymbolInfo: function() { return /* binding */ fe; },
/* harmony export */   addWraparound: function() { return /* binding */ me; },
/* harmony export */   checkPointCloudLayerCompatibleWithView: function() { return /* binding */ se; },
/* harmony export */   checkPointCloudLayerValid: function() { return /* binding */ ie; },
/* harmony export */   checkRecyclable: function() { return /* binding */ X; },
/* harmony export */   checkSceneLayerCompatibleWithView: function() { return /* binding */ oe; },
/* harmony export */   checkSceneLayerValid: function() { return /* binding */ re; },
/* harmony export */   checkSpatialReference: function() { return /* binding */ J; },
/* harmony export */   checkSpatialReferences: function() { return /* binding */ ee; },
/* harmony export */   computeVisibilityObb: function() { return /* binding */ de; },
/* harmony export */   containsDraco: function() { return /* binding */ k; },
/* harmony export */   extractWkid: function() { return /* binding */ U; },
/* harmony export */   filterInPlace: function() { return /* binding */ D; },
/* harmony export */   findFieldsCaseInsensitive: function() { return /* binding */ L; },
/* harmony export */   findIntersectingNodes: function() { return /* binding */ N; },
/* harmony export */   getCachedAttributeValue: function() { return /* binding */ Q; },
/* harmony export */   getClipRect: function() { return /* binding */ O; },
/* harmony export */   getIndexCrs: function() { return /* binding */ Z; },
/* harmony export */   getSymbolInfo: function() { return /* binding */ pe; },
/* harmony export */   getVertexCrs: function() { return /* binding */ H; },
/* harmony export */   intersectBoundingRectWithMbs: function() { return /* binding */ F; },
/* harmony export */   invalidateMbs: function() { return /* binding */ he; },
/* harmony export */   isSupportedLocalModeProjection: function() { return /* binding */ Y; },
/* harmony export */   isValidMbs: function() { return /* binding */ ye; },
/* harmony export */   objectIdFilter: function() { return /* binding */ W; },
/* harmony export */   queryAttributesFromCachedAttributesId: function() { return /* binding */ V; },
/* harmony export */   rendererNeedsTextures: function() { return /* binding */ ce; },
/* harmony export */   transparentEdgeMaterial: function() { return /* binding */ ue; },
/* harmony export */   whenGraphicAttributes: function() { return /* binding */ A; }
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _I3SProjectionUtil_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./I3SProjectionUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js");
/* harmony import */ var _support_edgeUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/edgeUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/edgeUtils.js");
/* harmony import */ var _support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/symbolColorUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function U(e){return e?parseInt(e.slice(e.lastIndexOf("/")+1),10):void 0}function k(e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("disable-feature:i3s-draco")||!e)return!1;for(const t of e)for(const e of t.geometryBuffers)if("draco"===e.compressedAttributes?.encoding)return!0;return!1}function N(e,t,r,o){r.traverse(t,(t=>{const r=t.serviceMbsInIndexSR;return(null!=r&&F(e,r))!==q.OUTSIDE&&(o(t),!0)}))}function D(e,t,r){let o=0,n=0;for(let i=0;i<t.length&&o<e.length;i++)e[o]===t[i]&&(r(i)&&(e[n]=e[o],n++),o++);e.length=n}function W(e,r,o){let n=0,i=0;for(;n<o.length;){(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.binaryIndexOf)(e,o[n])>=0===r&&(o[i]=o[n],i++),n++}o.length=i}const _=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.create)();function O(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return _[0]=(e[0]-t.position[0])/t.rotationScale[0],_[1]=(e[1]-t.position[1])/t.rotationScale[4],_[2]=(e[2]-t.position[0])/t.rotationScale[0],_[3]=(e[3]-t.position[1])/t.rotationScale[4],_}var q;function F(e,t){const r=t[0],o=t[1],n=t[3],i=e[0]-r,s=r-e[2],a=e[1]-o,l=o-e[3],c=Math.max(i,s,0),u=Math.max(a,l,0),f=c*c+u*u;if(f>n*n)return q.OUTSIDE;if(f>0)return q.INTERSECTS_CENTER_OUTSIDE;return-Math.max(i,s,a,l)>n?q.INSIDE:q.INTERSECTS_CENTER_INSIDE}function L(e,t,r){const o=[],n=r?.missingFields,i=r?.originalFields;for(const s of e){const e=s.toLowerCase();let r=!1;for(const n of t)if(e===n.name.toLowerCase()){o.push(n.name),r=!0,i&&i.push(s);break}!r&&n&&n.push(s)}return o}async function A(e,t,r,n,i,s){if(0===t.length)return[];const a=e.attributeStorageInfo;if(null!=e.associatedLayer)try{return await P(e.associatedLayer,t,r,n,s)}catch(l){if(e.associatedLayer.loaded)throw l}if(a){const l=K(t,r,i);if(null==l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scenelayer:features-not-loaded","Tried to query attributes for unloaded features");const c=e.parsedUrl.path;return(await Promise.all(l.map((t=>G(c,a,t.node,t.indices,n,e.apiKey,e.customParameters,s).then((e=>{for(let r=0;r<t.graphics.length;r++){const o=t.graphics[r],n=e[r];if(o.attributes)for(const e in o.attributes)e in n||(n[e]=o.attributes[e]);o.attributes=n}return t.graphics})))))).flat()}throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scenelayer:no-attribute-source","This scene layer does not have a source for attributes available")}function K(e,t,r){const o=new Map,n=[],i=r();for(const s of e){const e=s.attributes[t];for(let t=0;t<i.length;t++){const r=i[t],a=r.featureIds.indexOf(e);if(a>=0){let e=o.get(r.node);e||(e={node:r.node,indices:[],graphics:[]},n.push(e),o.set(r.node,e)),e.indices.push(a),e.graphics.push(s);for(let r=t;r>0;r--)i[r]=i[r-1];i[0]=r;break}}}return n}async function P(e,t,r,o,n){t.sort(((e,t)=>e.attributes[r]-t.attributes[r]));const i=t.map((e=>e.attributes[r])),s=[],a=L(o,e.fields,{originalFields:s}),l=await B(e,i,a,n);for(let c=0;c<t.length;c++){const e=t[c],r=l[c],o={};if(e.attributes)for(const t in e.attributes)o[t]=e.attributes[t];for(let t=0;t<s.length;t++)o[s[t]]=r[a[t]];e.attributes=o}return t}function B(e,t,n,i){const s=e.capabilities.query.maxRecordCount;if(null!=s&&t.length>s){const o=(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.splitIntoChunks)(t,s);return Promise.all(o.map((t=>B(e,t,n,i)))).then((e=>e.flat()))}const a=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_14__["default"]({objectIds:t,outFields:n,orderByFields:[e.objectIdField]});return e.queryFeatures(a,i).then((e=>{if(e&&e.features&&e.features.length===t.length)return e.features.map((e=>e.attributes));throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer")}))}function G(e,t,r,o,n,i,s,a){return V(e,t,r.resources.attributes,o,n,i,s,a)}async function V(t,r,o,n,i,s,a,l){const c=[];for(const e of r)if(e&&i.includes(e.name)){const r=`${t}/nodes/${o}/attributes/${e.key}/0`;c.push({url:r,storageInfo:e})}const u=await Promise.allSettled(c.map((t=>(0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(t.url,{responseType:"array-buffer",query:{...a,token:s},signal:l?.signal}).then((e=>(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_15__.readBinaryAttribute)(t.storageInfo,e.data)))))),f=[];for(const e of n){const t={};for(let r=0;r<u.length;r++){const o=u[r];if("fulfilled"===o.status){const n=o.value;t[c[r].storageInfo.name]=Q(n,e)}}f.push(t)}return f}!function(e){e[e.OUTSIDE=0]="OUTSIDE",e[e.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",e[e.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",e[e.INSIDE=3]="INSIDE"}(q||(q={}));const $=-32768,z=-(2**31);function Q(e,t){if(!e)return null;const r=e[t];if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_5__.isInt16Array)(e))return r===$?null:r;if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_5__.isInt32Array)(e))return r===z?null:r;return r!=r?null:r}function Z(e){const t=e.store,r=t.indexCRS||t.geographicCRS,n=void 0===r?t.indexWKT:void 0;if(n){if(!e.spatialReference)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference","Found indexWKT in the scene layer store but no layer spatial reference",{});if(n!==e.spatialReference.wkt)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layerview:store-spatial-reference-wkt-index-incompatible","The indexWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}const i=r?new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_21__["default"](U(r)):e.spatialReference;return i.equals(e.spatialReference)?e.spatialReference:i}function H(e){const t=e.store,r=t.vertexCRS||t.projectedCRS,n=void 0===r?t.vertexWKT:void 0;if(n){if(!e.spatialReference)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference","Found vertexWKT in the scene layer store but no layer spatial reference",{});if(n!==e.spatialReference.wkt)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layerview:store-spatial-reference-wkt-vertex-incompatible","The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}const i=r?new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_21__["default"](U(r)):e.spatialReference;return i.equals(e.spatialReference)?e.spatialReference:i}function J(e,t,r){if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__.canProjectWithoutEngine)(e,t))throw (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_20__.spatialReferenceIncompatibleError)("scene layer",e?.wkid,t?.wkid);if("local"===r&&!Y(e,t))throw (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_20__.spatialReferenceIncompatibleError)("scene layer",e?.wkid,t?.wkid)}function X(e,t,r){if(e.serviceUpdateTimeStamp?.lastUpdate!==t.serviceUpdateTimeStamp?.lastUpdate||!r.isEmpty||e.associatedLayer?.url!==t.associatedLayer?.url)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layerview:recycle-failed")}function Y(e,t){return e.equals(t)||e.isWGS84&&t.isWebMercator||e.isWebMercator&&t.isWGS84}function ee(e,t,r){const o=Z(e),n=H(e);J(o,t,r),J(n,t,r)}function te(e){return(null==e.geometryType||"triangles"===e.geometryType)&&((null==e.topology||"PerAttributeArray"===e.topology)&&null!=e.vertexAttributes?.position)}function re(e){if(null==e.store?.defaultGeometrySchema||!te(e.store.defaultGeometrySchema))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",{url:e.parsedUrl.path})}function oe(e,t){ee(e,t.spatialReference,t.viewingMode)}function ne(e){return null!=e.geometryType&&"points"===e.geometryType&&((null==e.topology||"PerAttributeArray"===e.topology)&&((null==e.encoding||""===e.encoding||"lepcc-xyz"===e.encoding)&&null!=e.vertexAttributes?.position))}function ie(e){if(null==e.store?.defaultGeometrySchema||!ne(e.store.defaultGeometrySchema))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("pointcloud:unsupported-geometry-schema","The geometry schema of this point cloud scene layer is not supported.",{})}function se(e,t){J(e.spatialReference,t.spatialReference,t.viewingMode)}function ae(e){return"simple"===e.type||"class-breaks"===e.type||"unique-value"===e.type}function le(e){return"mesh-3d"===e.type}function ce(e){if(null==e||!ae(e))return!0;if(("unique-value"===e.type||"class-breaks"===e.type)&&null==e.defaultSymbol)return!0;const t=e.getSymbols();if(0===t.length)return!0;for(const r of t){if(!le(r)||0===r.symbolLayers.length)return!0;for(const e of r.symbolLayers.items)if("fill"!==e.type||null==e.material?.color||"replace"!==e.material.colorMixMode)return!0}return!1}const ue=(0,_support_edgeUtils_js__WEBPACK_IMPORTED_MODULE_17__.createSolidEdgeMaterial)({color:[0,0,0,0],opacity:0});class fe{constructor(){this.edgeMaterial=null,this.material=null,this.castShadows=!0}}function pe(e){const t=new fe;let r=!1,o=!1;for(const n of e.symbolLayers.items)if("fill"===n.type&&n.enabled){const e=n.material,i=n.edges;if(null!=e&&!r){const o=e.color,i=(0,_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_18__.parseColorMixMode)(e.colorMixMode);t.material=null!=o?{color:[o.r/255,o.g/255,o.b/255],alpha:o.a,colorMixMode:i}:{color:[1,1,1],alpha:1,colorMixMode:_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_18__.ColorMixModeEnum.Multiply},t.castShadows=n.castShadows,r=!0}null==i||o||(t.edgeMaterial=(0,_support_edgeUtils_js__WEBPACK_IMPORTED_MODULE_17__.createMaterialFromEdges)(i,{}),o=!0)}return t.material||(t.material={color:[1,1,1],alpha:1,colorMixMode:_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_18__.ColorMixModeEnum.Multiply}),t}function me(e,t){return(0|e)+(0|t)|0}function de(e,t,r,o,n,i,a){if(!i||0===i.length||null==t||!e.serviceMbsInIndexSR)return null;const f=(0,_I3SProjectionUtil_js__WEBPACK_IMPORTED_MODULE_16__.computeGlobalTransformation)(e.serviceMbsInIndexSR,n,"none",r,t);(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_6__.invert)(Ee,f);let p=null;const d=()=>{if(!p)if(p=ge,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.empty)(be),null!=e.serviceObbInIndexSR){e.serviceObbInIndexSR.transform(we,r,t,n,a),we.getCorners(p);for(const e of p)(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(e,e,Ee),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.expandPointInPlace)(be,e)}else{const o=e.serviceMbsInIndexSR;if(!o)return;const i=o[3];(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_11__.projectVectorToVector)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_13__.a)(o),r,Ie,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(Ie,Ie,Ee),Ie[2]+=n;for(let e=0;e<8;++e){const t=1&e?i:-i,r=2&e?i:-i,o=4&e?i:-i,n=p[e];(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.c)(n,[Ie[0]+t,Ie[1]+r,Ie[2]+o]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.expandPointInPlace)(be,n)}}};let b=1/0,w=-1/0;const T=e=>{if("replace"!==e.type)return;const r=e.geometry;if(!r?.hasZ)return;(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.empty)(Se);const n=r.spatialReference||o,i=r.rings.reduce(((e,r)=>r.reduce(((e,r)=>((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.i)(Ie,r[0],r[1],r[2]),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_11__.projectVectorToVector)(Ie,n,Ie,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(Ie,Ie,Ee),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.expandPointInPlace)(Se,Ie),Math.min(Ie[2],e))),e)),1/0);d(),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.intersects)(be,Se)&&(b=Math.min(b,i),w=Math.max(w,i))};if(i.forEach((e=>T(e))),b===1/0)return null;const E=(e,t,r)=>{(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(Ie,r,f),e[t]=Ie[0],e[t+1]=Ie[1],e[t+2]=Ie[2],t+=24,r[2]=b,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(Ie,r,f),e[t]=Ie[0],e[t+1]=Ie[1],e[t+2]=Ie[2],t+=24,r[2]=w,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(Ie,r,f),e[t]=Ie[0],e[t+1]=Ie[1],e[t+2]=Ie[2]};for(let s=0;s<8;++s)E(Te.data,3*s,p[s]);return (0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_19__.compute)(Te)}function ye(e){return e[3]>=0}function he(e){null!=e&&(e[3]=-1)}const ge=[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)()],Se=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.create)(),be=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.create)(),we=new _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_19__.Obb,Ie=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),Te={data:new Array(72),size:3,exclusive:!0,stride:3},Ee=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.create)();


/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_arcgis_core_views_3d_layers_i3s_I3SUtil_js.30e924433c8e86257561.js.map