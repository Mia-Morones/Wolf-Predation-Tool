{"version":3,"file":"vendors-node_modules_arcgis_core_views_draw_support_GraphicMover_js.f51ae0fde25d287d7d42.js","mappings":"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","sources":["webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/draw/support/GraphicMover.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/draw/support/HighlightHelper.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../symbols.js\";import t from\"../../../core/Evented.js\";import{clone as e}from\"../../../core/lang.js\";import{watch as s,when as r}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../layers/GraphicsLayer.js\";import{cloneMove as c}from\"./drawUtils.js\";import n from\"./HighlightHelper.js\";import{addUniqueLayer as l,findLayerView as p}from\"./layerUtils.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as v,GraphicPointerUpEvent as m,GraphicPointerOutEvent as _,GraphicMoveStartEvent as y,GraphicMoveEvent as u,GraphicMoveStopEvent as f,GraphicPointerOverEvent as G}from\"./input/GraphicMoverEvents.js\";import{ViewEventPriorities as w}from\"../../input/InputManager.js\";import{GraphicManipulator as b}from\"../../interactive/GraphicManipulator.js\";import{createScreenPointFromEvent as k}from\"../../support/screenUtils.js\";import O from\"../../../symbols/SimpleMarkerSymbol.js\";import x from\"../../../symbols/SimpleLineSymbol.js\";import H from\"../../../symbols/SimpleFillSymbol.js\";const M=\"indicator-symbols\";let E=class extends t.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._manipulators=[],this._layerViews=null,this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new a({listMode:\"hide\",internal:!0,title:\"GraphicMover highlight layer\"}),this.view=null}initialize(){l(this.view,this.layer),this._highlightHelper=new n({view:this.view}),this.refresh(),this.addHandles([s((()=>this.graphics.length),(()=>this.refresh())),r((()=>this.view?.ready),(()=>{this.addHandles([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),w.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),w.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),w.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),w.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),w.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),w.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),w.TOOL)])}),{once:!0,initial:!0}),s((()=>this.view),(i=>{this._highlightHelper.removeAll(),this._highlightHelper.view=i}))])}destroy(){this._removeIndicators(),this.view.map?.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null}set highlightsEnabled(i){this._highlightHelper?.removeAll(),this._set(\"highlightsEnabled\",i),i&&this._highlightHelper?.add(this.graphics)}get state(){const i=this.view.ready,t=this.graphics.length>0,e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(i,t){const e=this.graphics[i];e&&(e.set(\"geometry\",t),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(i){const t=this._findTargetGraphic(k(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(k(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(k(i));if(t){this._activeGraphic=t;const{x:e,y:s}=i,r=new v(t,this.graphics.indexOf(t),e,s,i);this.emit(\"graphic-pointer-down\",r),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(r)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,s=this.graphics.indexOf(this._activeGraphic),r=new m(this._activeGraphic,s,t,e,i);this.emit(\"graphic-pointer-up\",r),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(r)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(k(i));if(t){const{x:e,y:s}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const r=this.graphics.indexOf(this._hoverGraphic),h=new _(this.graphics[r],r,e,s,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",h),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(h)}const r=this.graphics.indexOf(t),h=new G(t,r,e,s,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",h),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(h))}if(this._hoverGraphic){const{x:t,y:e}=i,s=this.graphics.indexOf(this._hoverGraphic),r=new _(this.graphics[s],s,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",r),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(r)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic?.geometry)return;\"start\"===i.action&&this._removeIndicators(),i.stopPropagation();const{action:t,x:s,y:r}=i,h=this.graphics.indexOf(this._activeGraphic),o=this._dragEvent?s-this._dragEvent.x:0,a=this._dragEvent?r-this._dragEvent.y:0,n=s-i.origin.x,l=r-i.origin.y,p=\"start\"===t?this._activeGraphic.geometry:this._initialDragGeometry,d=c(p,n,l,this.view);if(this._activeGraphic.geometry=d,this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=c(i.geometry,o,a,this.view))})),this._dragEvent=i,\"start\"===t){this._initialDragGeometry=e(p);const t=new y(this._activeGraphic,this.graphics,h,s,r,o,a,n,l,i);this.emit(\"graphic-move-start\",t),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",p)}else if(\"update\"===t){const t=new u(this._activeGraphic,this.graphics,h,s,r,o,a,n,l,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&(this._activeGraphic.geometry=p)}else{const t=new f(this._activeGraphic,this.graphics,h,s,r,o,a,n,l,i);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&(this.graphics[h].set(\"geometry\",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){const t=this.view.toMap(i),e=this.graphics;let s=null,r=Number.MAX_VALUE;this._syncLayerViews();const h=this._layerViews.flatMap((i=>\"graphicsViews\"in i?Array.from(i.graphicsViews(),(i=>i.hitTest(t))).flat():i.graphicsView.hitTest(t))).filter((i=>e.includes(i))).sort(((i,t)=>e.indexOf(i)-e.indexOf(t)));return h.length?h[0]:(this._manipulators.forEach((t=>{const e=t.intersectionDistance(i);null!=e&&e<r&&(r=e,s=t.graphic)})),s)}_syncLayerViews(){this._layerViews=[];const i=new Set;for(const t of this.graphics){const e=p(this.view,t.layer);e&&i.add(e)}this._layerViews=[...i]}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=i.length?i.map((i=>new b({graphic:i,view:t}))):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const i of this.graphics){const t=i.clone();t.symbol=j(i),this._indicators.push(t),this.addHandles(s((()=>i.symbol),(()=>this._setUpIndicators())),M)}this.layer.addMany(this._indicators)}}_removeIndicators(){this.removeHandles(M),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach((i=>i.destroy())),this._indicators=[])}};function j(i){const t=12;if(null==i.symbol)return null;switch(i.symbol.type){case\"cim\":return new O({style:\"circle\",size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case\"picture-marker\":{const{xoffset:t,yoffset:e,height:s,width:r}=i.symbol,h=s===r?r:Math.max(s,r);return new O({xoffset:t,yoffset:e,size:h,style:\"square\",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-marker\":{const{xoffset:t,yoffset:e,size:s,style:r}=i.symbol;return new O({xoffset:t,yoffset:e,style:\"circle\"===r?\"circle\":\"square\",size:s+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-fill\":return new H({color:[0,0,0,0],outline:{style:\"dash\",color:[255,127,0,1],width:1}});case\"simple-line\":return new x({color:[255,127,0,1],style:\"dash\",width:1});case\"text\":{const{xoffset:e,yoffset:s}=i.symbol;return new O({xoffset:e,yoffset:s,size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}i([h()],E.prototype,\"_activeGraphic\",void 0),i([h({readOnly:!0})],E.prototype,\"type\",void 0),i([h()],E.prototype,\"callbacks\",void 0),i([h()],E.prototype,\"enableMoveAllGraphics\",void 0),i([h()],E.prototype,\"graphics\",void 0),i([h({value:!1})],E.prototype,\"highlightsEnabled\",null),i([h()],E.prototype,\"indicatorsEnabled\",void 0),i([h()],E.prototype,\"layer\",void 0),i([h({readOnly:!0})],E.prototype,\"state\",null),i([h()],E.prototype,\"view\",void 0),E=i([o(\"esri.views.draw.support.GraphicMover\")],E);const U=E;export{U as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{findLayerView as t}from\"./layerUtils.js\";import{highlightsSupported as i}from\"../../support/layerViewUtils.js\";import{getHighlightKeyForFeature as l}from\"../../../widgets/Feature/support/featureUtils.js\";let a=class extends s{constructor(r){super(r),this.view=null}add(r){const s=!r||Array.isArray(r)?r:[r];s?.length&&s.forEach((r=>this._highlight(r)))}remove(r){const s=!r||Array.isArray(r)?r:[r];s?.length&&s.forEach((r=>this._removeHighlight(r)))}removeAll(){this.removeAllHandles()}_highlight(r){const s=t(this.view,r.layer);i(s)&&this.addHandles(s.highlight(r),l(r))}_removeHighlight(r){r&&this.removeHandles(l(r))}};r([o()],a.prototype,\"view\",void 0),a=r([e(\"esri.views.draw.support.HighlightHelper\")],a);const h=a;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n"],"names":[],"sourceRoot":""}