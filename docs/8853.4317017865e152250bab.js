"use strict";(self.webpackChunkreact_redux_arcgis_boilerplate=self.webpackChunkreact_redux_arcgis_boilerplate||[]).push([[8853],{95431:function(t,e,n){n.d(e,{b:function(){return i}});var r=n(4506),o=n(51831);function i(t,e,n){const i=Array.isArray(t),l=i?t.length/e:t.byteLength/(4*e),f=i?t:new Uint32Array(t,0,l*e),d=n?.minReduction??0,I=n?.originalIndices||null,N=I?I.length:0,E=n?.componentOffsets||null;let O=0;if(E)for(let t=0;t<E.length-1;t++){const e=E[t+1]-E[t];e>O&&(O=e)}else O=l;const p=Math.floor(1.1*O)+1;(null==u||u.length<2*p)&&(u=new Uint32Array((0,r.cU)(2*p)));for(let t=0;t<2*p;t++)u[t]=0;let A=0;const g=!!E&&!!I,T=g?N:l;let h=(0,o.my)(l);const S=new Uint32Array(N),R=1.96;let m=0!==d?Math.ceil(4*R*R/(d*d)*d*(1-d)):T,L=1,v=E?E[1]:T;for(let t=0;t<T;t++){if(t===m){const e=1-A/t;if(e+R*Math.sqrt(e*(1-e)/t)<d)return null;m*=2}if(t===v){for(let t=0;t<2*p;t++)u[t]=0;if(I)for(let t=E[L-1];t<E[L];t++)S[t]=h[I[t]];v=E[++L]}const n=g?I[t]:t,r=n*e,o=c(f,r,e);let i=o%p,a=A;for(;0!==u[2*i+1];){if(u[2*i]===o){const t=u[2*i+1]-1;if(s(f,r,t*e,e)){a=h[t];break}}i++,i>=p&&(i-=p)}a===A&&(u[2*i]=o,u[2*i+1]=n+1,A++),h[n]=a}if(0!==d&&1-A/l<d)return null;if(g){for(let t=E[L-1];t<S.length;t++)S[t]=h[I[t]];h=(0,o.Dg)(S)}const D=i?new Array(A):new Uint32Array(A*e);A=0;for(let t=0;t<T;t++)h[t]===A&&(a(f,(g?I[t]:t)*e,D,A*e,e),A++);if(I&&!g){const t=new Uint32Array(N);for(let e=0;e<t.length;e++)t[e]=h[I[e]];h=(0,o.Dg)(t)}return{buffer:Array.isArray(D)?D:D.buffer,indices:h,uniqueCount:A}}function s(t,e,n,r){for(let o=0;o<r;o++)if(t[e+o]!==t[n+o])return!1;return!0}function a(t,e,n,r,o){for(let i=0;i<o;i++)n[r+i]=t[e+i]}function c(t,e,n){let r=0;for(let o=0;o<n;o++)r=t[e+o]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let u=null},29386:function(t,e,n){n.d(e,{U:function(){return i}});var r=n(68716),o=n(67277);function i(t,e=0){const n=t.stride;return Array.from(t.fields.keys()).map((r=>{const i=t.fields.get(r),a=i.constructor.ElementCount,c=s(i.constructor.ElementType),u=i.offset,l=i.optional?.glNormalized??!1;return new o._(r,a,c,u,n,l,e)}))}function s(t){const e=a[t];if(e)return e;throw new Error("BufferType not supported in WebGL")}const a={u8:r.pe.UNSIGNED_BYTE,u16:r.pe.UNSIGNED_SHORT,u32:r.pe.UNSIGNED_INT,i8:r.pe.BYTE,i16:r.pe.SHORT,i32:r.pe.INT,f32:r.pe.FLOAT}},80655:function(t,e,n){n.d(e,{L:function(){return o},s:function(){return i}});var r=n(7724);function o(t,e){return e.push(t.buffer),{buffer:t.buffer,layout:new r.l5(t.layout)}}function i(t){return new r.q3(t.layout).createView(t.buffer)}},70789:function(t,e,n){n.d(e,{aT:function(){return o},fA:function(){return i}});var r=n(4506);n(80347),n(19913),n(68435);function o(t,e,n,r,o,i=2){const a=1/(Math.abs(n)+Math.abs(r)+Math.abs(o)),c=n*a,u=r*a,l=o<=0?(c>=0?1:-1)*(1-Math.abs(u)):c,f=o<=0?(u>=0?1:-1)*(1-Math.abs(c)):u,d=e*i;t[d]=s(l),t[d+1]=s(f)}function i(t){const e=t.length/3,n=new Int16Array(2*e);let r=0;for(let i=0;i<e;++i)o(n,i,t[r++],t[r++],t[r++]);return n}function s(t){return(0,r.qE)(Math.round(32767*t),-32767,32767)}},33763:function(t,e,n){var r;function o(t){return t===r.POSITION}n.d(e,{b:function(){return o},r:function(){return r}}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.ROTATION="rotation",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.START_UP="startUp",t.END_UP="endUp",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))},98853:function(t,e,n){n.r(e),n.d(e,{default:function(){return a}});var r=n(80655),o=n(3628),i=n(93271),s=n(33651);class a{async extract(t){const e=c(t),n=(0,s.o6)(e),r=[e.data.buffer];return{result:u(n,r),transferList:r}}async extractComponentsEdgeLocations(t){const e=c(t),n=(0,s.hx)(e.data,e.skipDeduplicate,e.indices,e.indicesLength),o=(0,i.K)(n,f),a=[];return{result:(0,r.L)(o.regular.instancesData,a),transferList:a}}async extractEdgeLocations(t){const e=c(t),n=(0,s.hx)(e.data,e.skipDeduplicate,e.indices,e.indicesLength),o=(0,i.K)(n,l),a=[];return{result:(0,r.L)(o.regular.instancesData,a),transferList:a}}}function c(t){return{data:o.I$.createView(t.dataBuffer),indices:"Uint32Array"===t.indicesType?new Uint32Array(t.indices):"Uint16Array"===t.indicesType?new Uint16Array(t.indices):t.indices,indicesLength:t.indicesLength,writerSettings:t.writerSettings,skipDeduplicate:t.skipDeduplicate}}function u(t,e){return e.push(t.regular.lodInfo.lengths.buffer),e.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:(0,r.L)(t.regular.instancesData,e),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:(0,r.L)(t.silhouette.instancesData,e),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}const l=new class{allocate(t){return s.Jb.createBuffer(t)}trim(t,e){return t.slice(0,e)}write(t,e,n){t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1)}},f=new class{allocate(t){return s.HY.createBuffer(t)}trim(t,e){return t.slice(0,e)}write(t,e,n){t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex)}}},3628:function(t,e,n){n.d(e,{I$:function(){return s},In:function(){return u},gr:function(){return c}});var r=n(29386),o=n(7724),i=n(33763);const s=(0,o.BP)().vec3f(i.r.POSITION).u16(i.r.COMPONENTINDEX).freeze(),a=(0,o.BP)().vec2u8(i.r.SIDENESS).freeze(),c=((0,r.U)(a),(0,o.BP)().vec3f(i.r.POSITION0).vec3f(i.r.POSITION1).vec2i16(i.r.NORMALCOMPRESSED).u16(i.r.COMPONENTINDEX).u8(i.r.VARIANTOFFSET,{glNormalized:!0}).u8(i.r.VARIANTSTROKE).u8(i.r.VARIANTEXTENSION,{glNormalized:!0}).freeze()),u=(0,o.BP)().vec3f(i.r.POSITION0).vec3f(i.r.POSITION1).vec2i16(i.r.NORMALCOMPRESSED).vec2i16(i.r.NORMAL2COMPRESSED).u16(i.r.COMPONENTINDEX).u8(i.r.VARIANTOFFSET,{glNormalized:!0}).u8(i.r.VARIANTSTROKE).u8(i.r.VARIANTEXTENSION,{glNormalized:!0}).freeze();new Map([[i.r.POSITION0,0],[i.r.POSITION1,1],[i.r.COMPONENTINDEX,2],[i.r.VARIANTOFFSET,3],[i.r.VARIANTSTROKE,4],[i.r.VARIANTEXTENSION,5],[i.r.NORMALCOMPRESSED,6],[i.r.NORMAL2COMPRESSED,7],[i.r.SIDENESS,8]])},93271:function(t,e,n){n.d(e,{K:function(){return c}});var r=n(4506),o=n(41785),i=n(80347),s=n(19913);const a=-1;function c(t,e,n){const r=t.vertices.position,o=t.vertices.componentIndex,s=E.position0,c=E.position1,f=E.faceNormal0,I=E.faceNormal1,{edges:N,normals:O}=l(t),p=N.length/4,A=e.allocate(p);let g=0;const T=p,R=n?.allocate(T);let L=0,v=0,D=0;d.length=0;for(let t=0;t<p;++t){const e=4*t;r.getVec(N.data[e],s),r.getVec(N.data[e+1],c);const n=d.pushNew();n.index=4*t,n.length=(0,i.j)(s,c)}d.sort(((t,e)=>e.length-t.length));const w=new Array,y=new Array;d.forAll((({length:t,index:l})=>{const d=N.data[l],p=N.data[l+1],T=N.data[l+2],M=N.data[l+3],C=M===a;if(r.getVec(d,s),r.getVec(p,c),C){const t=3*T;(0,i.i)(f,O.data[t],O.data[t+1],O.data[t+2]),(0,i.c)(I,f),E.componentIndex=o.get(d),E.cosAngle=(0,i.f)(f,I)}else{let t=3*T;if((0,i.i)(f,O.data[t],O.data[t+1],O.data[t+2]),t=3*M,(0,i.i)(I,O.data[t],O.data[t+1],O.data[t+2]),E.componentIndex=o.get(d),E.cosAngle=(0,i.f)(f,I),function(t,e){return t.cosAngle>e}(E,S))return;E.cosAngle<-.9999&&(0,i.c)(I,f)}v+=t,D++,C||function(t,e){return t.cosAngle<e}(E,m)?(e.write(A,g++,E),w.push(t)):u(E,h)&&(R&&n&&n.write(R,L++,E),y.push(t))}));const M=new Float32Array(w.reverse()),C=new Float32Array(y.reverse()),P=R&&n?{instancesData:R.slice(0,L),lodInfo:{lengths:C}}:void 0;return{regular:{instancesData:A.slice(0,g),lodInfo:{lengths:M}},silhouette:P,averageEdgeLength:v/D}}function u(t,e){const n=(0,r.XM)(t.cosAngle);return(0,i.o)(p,t.position1,t.position0),n*((0,i.f)((0,i.e)(O,t.faceNormal0,t.faceNormal1),p)>0?-1:1)>e}function l(t){const e=t.faces.length/3,n=t.faces,r=t.neighbors,o=t.vertices.position;I.length=N.length=0;for(let t=0;t<e;t++){const e=3*t,s=r[e],c=r[e+1],u=r[e+2],l=n[e],f=n[e+1],d=n[e+2];o.getVec(l,A),o.getVec(f,g),o.getVec(d,T),(0,i.d)(g,g,A),(0,i.d)(T,T,A),(0,i.e)(A,g,T),(0,i.n)(A,A),N.pushArray(A),(s===a||l<f)&&(I.push(l),I.push(f),I.push(t),I.push(s)),(c===a||f<d)&&(I.push(f),I.push(d),I.push(t),I.push(c)),(u===a||d<l)&&(I.push(d),I.push(l),I.push(t),I.push(u))}return{edges:I,normals:N}}class f{constructor(){this.index=0,this.length=0}}const d=new o.A({allocator:t=>t||new f,deallocator:null}),I=new o.A({deallocator:null}),N=new o.A({deallocator:null}),E=new class{constructor(){this.position0=(0,s.vt)(),this.position1=(0,s.vt)(),this.faceNormal0=(0,s.vt)(),this.faceNormal1=(0,s.vt)(),this.componentIndex=0,this.cosAngle=0}},O=(0,s.vt)(),p=(0,s.vt)(),A=(0,s.vt)(),g=(0,s.vt)(),T=(0,s.vt)(),h=(0,r.kU)(4),S=Math.cos(h),R=(0,r.kU)(35),m=Math.cos(R)},33651:function(t,e,n){n.d(e,{o6:function(){return v},HY:function(){return P},hx:function(){return D},Jb:function(){return C}});var r=n(95431);function o(t,e,n){const r=e/3,o=new Uint32Array(n+1),i=new Uint32Array(n+1),s=(t,e)=>{t<e?o[t+1]++:i[e+1]++};for(let e=0;e<r;e++){const n=t[3*e],r=t[3*e+1],o=t[3*e+2];s(n,r),s(r,o),s(o,n)}let a=0,c=0;for(let t=0;t<n;t++){const e=o[t+1],n=i[t+1];o[t+1]=a,i[t+1]=c,a+=e,c+=n}const u=new Uint32Array(6*r),l=o[n],f=(t,e,n)=>{if(t<e){const r=o[t+1]++;u[2*r]=e,u[2*r+1]=n}else{const r=i[e+1]++;u[2*l+2*r]=t,u[2*l+2*r+1]=n}};for(let e=0;e<r;e++){const n=t[3*e],r=t[3*e+1],o=t[3*e+2];f(n,r,e),f(r,o,e),f(o,n,e)}const d=(t,e)=>{const n=2*t,r=e-t;for(let t=1;t<r;t++){const e=u[n+2*t],r=u[n+2*t+1];let o=t-1;for(;o>=0&&u[n+2*o]>e;o--)u[n+2*o+2]=u[n+2*o],u[n+2*o+3]=u[n+2*o+1];u[n+2*o+2]=e,u[n+2*o+3]=r}};for(let t=0;t<n;t++)d(o[t],o[t+1]),d(l+i[t],l+i[t+1]);const I=new Int32Array(3*r),N=(e,n)=>e===t[3*n]?0:e===t[3*n+1]?1:e===t[3*n+2]?2:-1,E=(t,e)=>{const n=N(t,e);I[3*e+n]=-1},O=(t,e,n,r)=>{const o=N(t,e);I[3*e+o]=r;const i=N(n,r);I[3*r+i]=e};for(let t=0;t<n;t++){let e=o[t];const n=o[t+1];let r=i[t];const s=i[t+1];for(;e<n&&r<s;){const n=u[2*e],o=u[2*l+2*r];n===o?(O(t,u[2*e+1],o,u[2*l+2*r+1]),e++,r++):n<o?(E(t,u[2*e+1]),e++):(E(o,u[2*l+2*r+1]),r++)}for(;e<n;)E(t,u[2*e+1]),e++;for(;r<s;)E(u[2*l+2*r],u[2*l+2*r+1]),r++}return I}var i=n(7724),s=n(33763),a=n(3628),c=n(67498),u=n(80347),l=n(19913),f=n(29386),d=n(70789);class I{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?A:p}write(t,e,n){m.seed=this._edgeHashFunction(n);const r=m.getIntRange(0,255),o=m.getIntRange(0,this.settings.variants-1),i=m.getFloat(),s=255*(.5*function(t,e){return Math.abs(t)**e*Math.sign(t)}(-(1-Math.min(i/.7,1))+Math.max(0,i-.7)/(1-.7),1.2)+.5);t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex),t.variantOffset.set(e,r),t.variantStroke.set(e,o),t.variantExtension.set(e,s)}}const N=new Float32Array(6),E=new Uint32Array(N.buffer),O=new Uint32Array(1);function p(t){return N[0]=t.position0[0],N[1]=t.position0[1],N[2]=t.position0[2],N[3]=t.position1[0],N[4]=t.position1[1],N[5]=t.position1[2],O[0]=31*(31*(31*(31*(31*(166811+E[0])+E[1])+E[2])+E[3])+E[4])+E[5],O[0]}function A(t){const e=N;e[0]=T(t.position0[0]),e[1]=T(t.position0[1]),e[2]=T(t.position0[2]),e[3]=T(t.position1[0]),e[4]=T(t.position1[1]),e[5]=T(t.position1[2]),O[0]=5381;for(let t=0;t<E.length;t++)O[0]=31*O[0]+E[t];return O[0]}const g=1e4;function T(t){return Math.round(t*g)/g}class h{constructor(){this._commonWriter=new I}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.gr.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n),(0,u.g)(R,n.faceNormal0,n.faceNormal1),(0,u.n)(R,R);const{typedBuffer:r,typedBufferStride:o}=t.normalCompressed;(0,d.aT)(r,e,R[0],R[1],R[2],o)}}h.Layout=a.gr,h.glLayout=(0,f.U)(a.gr,1);class S{constructor(){this._commonWriter=new I}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.In.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n);{const{typedBuffer:r,typedBufferStride:o}=t.normalCompressed;(0,d.aT)(r,e,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],o)}{const{typedBuffer:r,typedBufferStride:o}=t.normal2Compressed;(0,d.aT)(r,e,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],o)}}}S.Layout=a.In,S.glLayout=(0,f.U)(a.In,1);const R=(0,l.vt)(),m=new c.A;var L=n(93271);function v(t){const e=D(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return y.updateSettings(t.writerSettings),M.updateSettings(t.writerSettings),(0,L.K)(e,y,M)}function D(t,e,n,i){if(e){const e=o(n,i,t.count);return new w(n,i,e,t)}const s=(0,r.b)(t.buffer,t.stride/4,{originalIndices:n,originalIndicesLength:i}),c=o(s.indices,i,s.uniqueCount);return{faces:s.indices,facesLength:s.indices.length,neighbors:c,vertices:a.I$.createView(s.buffer)}}class w{constructor(t,e,n,r){this.faces=t,this.facesLength=e,this.neighbors=n,this.vertices=r}}const y=new h,M=new S,C=(0,i.BP)().vec3f(s.r.POSITION0).vec3f(s.r.POSITION1),P=(0,i.BP)().vec3f(s.r.POSITION0).vec3f(s.r.POSITION1).u16(s.r.COMPONENTINDEX)},67277:function(t,e,n){n.d(e,{_:function(){return r}});class r{constructor(t,e,n,r,o,i=!1,s=0){this.name=t,this.count=e,this.type=n,this.offset=r,this.stride=o,this.normalized=i,this.divisor=s}}}}]);
//# sourceMappingURL=8853.4317017865e152250bab.js.map