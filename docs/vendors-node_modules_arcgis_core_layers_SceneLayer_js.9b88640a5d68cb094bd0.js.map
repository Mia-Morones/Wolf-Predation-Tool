{"version":3,"file":"vendors-node_modules_arcgis_core_layers_SceneLayer_js.9b88640a5d68cb094bd0.js","mappings":"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","sources":["webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/SceneLayer.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssetErrors.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/mixins/TemporalSceneLayer.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/PolygonCollection.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/RangeInfo.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/SceneFilter.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/associatedFeatureServiceUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/capabilities.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/infoFor3D.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/meshSpatialReferenceScaleUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/sceneLayerCacheUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/sceneLayerStatistics.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/portal/support/resourceExtension.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/support/zipUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../Error.js\";import{createMD5Hash as r}from\"../../MD5.js\";import{isMultiOriginJSONMixin as e}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as o,isBlobProtocol as s,join as n,blobUrlToBlob as i,getPathExtension as p}from\"../../urlUtils.js\";import{generateUUID as c}from\"../../uuid.js\";import{getPropertyMetadata as u}from\"../metadata.js\";import{nameToId as a}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as m}from\"../../../portal/support/resourceExtension.js\";import{r as d,t as f,M as y,i as g,p as h,b as v}from\"../../../chunks/persistableUrlUtils.js\";function j(t){const r=t?.origins??[void 0];return(e,o)=>{const s=U(t,e,o);for(const t of r){const r=l(e,t,o);for(const t in s)r[t]=s[t]}}}function U(t,r,e){if(\"resource\"===t?.type)return w(t,r,e);switch(t?.type??\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=v;return{read:t,write:r}}}}function w(t,r,n){const i=u(r,n);return{type:String,read:(t,r,e)=>{const o=d(t,r,e);return i.type===String?o:\"function\"==typeof i.type?new i.type({url:o}):void 0},write:{writer(r,p,c,u){if(!u?.resources)return\"string\"==typeof r?void(p[c]=f(r,u)):void(p[c]=r.write({},u));const l=x(r),m=f(l,{...u,verifyItemRelativeUrls:u?.verifyItemRelativeUrls?{writtenUrls:u.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},y.NO),d=i.type!==String&&(!e(this)||u?.origin&&this.originIdOf(n)>a(u.origin)),h={object:this,propertyName:n,value:r,targetUrl:m,dest:p,targetPropertyName:c,context:u,params:t};u?.portalItem&&m&&!o(m)?d&&t?.contentAddressed?I(h):d?N(h):P(h):u?.portalItem&&(null==m||null!=g(m)||s(m)||d)?I(h):p[c]=m}}}}function I(e){const{targetUrl:o,params:p,value:u,context:a,dest:l,targetPropertyName:d}=e;if(!a.portalItem)return;const f=h(o),y=S(u,o,a);if(p?.contentAddressed&&\"json\"!==y.type)return void a.messages?.push(new t(\"persistable:contentAddressingUnsupported\",`Property \"${d}\" is trying to serializing a resource with content of type ${y.type} with content addressing. Content addressing is only supported for json resources.`,{content:y}));const g=p?.contentAddressed&&\"json\"===y.type?r(y.jsonString):f?.filename??c(),v=n(p?.prefix??f?.prefix,g),j=`${v}.${m(y)}`;if(p?.contentAddressed&&a.resources&&\"json\"===y.type){const t=a.resources.toKeep.find((({resource:t})=>t.path===j))??a.resources.toAdd.find((({resource:t})=>t.path===j));if(t)return void(l[d]=t.resource.itemRelativeUrl)}const U=a.portalItem.resourceFromPath(j);s(o)&&a.resources&&a.resources.pendingOperations.push(i(o).then((t=>{U.path=`${v}.${m({type:\"blob\",blob:t})}`,l[d]=U.itemRelativeUrl})).catch((()=>{})));const w=p?.compress??!1;a.resources&&b({...e,resource:U,content:y,compress:w,updates:a.resources.toAdd}),l[d]=U.itemRelativeUrl}function N(t){const{context:r,targetUrl:e,params:o,value:s,dest:n,targetPropertyName:i}=t;if(!r.portalItem)return;const c=r.portalItem.resourceFromPath(e),u=S(s,e,r),a=m(u),l=p(c.path),d=o?.compress??!1;a===l?(r.resources&&b({...t,resource:c,content:u,compress:d,updates:r.resources.toUpdate}),n[i]=e):I(t)}function P({context:t,targetUrl:r,dest:e,targetPropertyName:o}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),e[o]=r)}function b({object:t,propertyName:r,updates:e,resource:o,content:s,compress:n}){const i=e=>{O(t,r,e)};e.push({resource:o,content:s,compress:n,finish:i})}function S(t,r,e){return\"string\"==typeof t?{type:\"url\",url:r}:{type:\"json\",jsonString:JSON.stringify(t.toJSON(e))}}function x(t){return null==t?null:\"string\"==typeof t?t:t.url}function O(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{j as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Graphic.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import\"../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as i}from\"../renderers/support/types.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import o from\"../core/Collection.js\";import a from\"../core/Error.js\";import n from\"../core/Logger.js\";import{destroyMaybe as l}from\"../core/maybe.js\";import{MultiOriginJSONMixin as p}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as d,isAbortError as u}from\"../core/promiseUtils.js\";import{whenOnce as y}from\"../core/reactiveUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{getProperties as h}from\"../core/accessorSupport/utils.js\";import{reader as m}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as f}from\"../core/accessorSupport/decorators/subclass.js\";import{OriginId as g}from\"../core/accessorSupport/PropertyOrigin.js\";import v from\"../geometry/Mesh.js\";import b from\"../geometry/Point.js\";import w from\"./Layer.js\";import{NoModelError as I,MultipleModelsError as L}from\"./graphics/sources/support/uploadAssetErrors.js\";import{APIKeyMixin as j}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as F}from\"./mixins/ArcGISService.js\";import{CustomParametersMixin as S}from\"./mixins/CustomParametersMixin.js\";import{EditBusLayer as _}from\"./mixins/EditBusLayer.js\";import{OperationalLayer as P}from\"./mixins/OperationalLayer.js\";import{PortalLayer as A}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as O}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as T,SaveOperationType as E}from\"./mixins/SceneService.js\";import{useViewTimeProperty as x}from\"./mixins/TemporalLayer.js\";import{TemporalSceneLayer as D}from\"./mixins/TemporalSceneLayer.js\";import{isHostedAgolService as R}from\"./support/arcgisLayerUrl.js\";import{findAssociatedFeatureService as U}from\"./support/associatedFeatureServiceUtils.js\";import{zeroCapabilities as q}from\"./support/capabilities.js\";import{elevationInfo as C,labelsVisible as G,legendEnabled as N,popupEnabled as Q,screenSizePerspectiveEnabled as V}from\"./support/commonProperties.js\";import{computeEffectiveEditingEnabled as k,getGlobalIdToObjectIdMap as M}from\"./support/featureLayerUtils.js\";import{FeatureReduction as K}from\"./support/FeatureReduction.js\";import $ from\"./support/FeatureReductionSelection.js\";import{defineFieldProperties as H}from\"./support/fieldProperties.js\";import z from\"./support/FieldsIndex.js\";import{fixRendererFields as W,unpackFieldNames as B}from\"./support/fieldUtils.js\";import{I3SNodePageDefinition as Z,I3SMaterialDefinition as J,I3STextureSetDefinition as X,I3SGeometryDefinition as Y}from\"./support/I3SLayerDefinitions.js\";import{isFileEditFormat as ee,isFileSupported as te}from\"./support/infoFor3D.js\";import re from\"./support/LabelClass.js\";import{reader as ie}from\"./support/labelingInfo.js\";import se from\"./support/LayerFloorInfo.js\";import{layerLookupMap as oe}from\"./support/lazyLayerLoader.js\";import{getMeshTransformForMetersToSpatialReference as ae}from\"./support/meshSpatialReferenceScaleUtils.js\";import{RangeInfo as ne}from\"./support/RangeInfo.js\";import le from\"./support/SceneFilter.js\";import{cacheIsOutOfSync as pe}from\"./support/sceneLayerCacheUtils.js\";import{fetchStatistics as de}from\"./support/sceneLayerStatistics.js\";import{loadStyleRenderer as ue}from\"../renderers/support/styleUtils.js\";import ye from\"../rest/support/Query.js\";import{logInvalidElevationInfoWarning as ce,elevationModeUnsupportedMessage as he,featureExpressionUnsupportedMessage as me}from\"../support/elevationInfoUtils.js\";import{createPopupTemplate as fe}from\"../support/popupUtils.js\";import{extractZipFiles as ge}from\"../support/zipUtils.js\";import{queryAttributesFromCachedAttributesId as ve}from\"../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as be,getFetchPopupTemplate as we}from\"../views/layers/support/popupUtils.js\";import{transparencyToOpacity as Ie}from\"../webdoc/support/opacityUtils.js\";const Le=new Set([\"3DObject\",\"Point\"]),je=H();let Fe=class extends(D(_(T(F(P(A(O(p(S(j(s(w)))))))))))){constructor(...e){super(...e),this.featureReduction=null,this.rangeInfos=null,this.operationalLayerType=\"ArcGISSceneServiceLayer\",this.type=\"scene\",this.fields=null,this.floorInfo=null,this.outFields=null,this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.excludeObjectIds=new o,this.definitionExpression=null,this.filter=null,this.path=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.priority=null,this.semantic=null,this.cachedDrawingInfo={color:!1},this.popupEnabled=!0,this.popupTemplate=null,this.objectIdField=null,this.globalIdField=null,this._fieldUsageInfo={},this.screenSizePerspectiveEnabled=!0,this.serviceItemId=void 0}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}destroy(){this._set(\"renderer\",null),this.associatedLayer=l(this.associatedLayer)}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){const r=this.getFeatureType(t?.feature)?.domains?.[e];return r&&\"inherited\"!==r.type?r:this.getField(e)?.domain??null}getFeatureType(e){return e&&this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){return this.associatedLayer?.types??[]}get typeIdField(){return this.associatedLayer?.typeIdField??null}get templates(){return this.associatedLayer?.templates??null}get formTemplate(){return this.associatedLayer?.formTemplate??null}get attributeTableTemplate(){return this.associatedLayer?.attributeTableTemplate??null}get fieldsIndex(){return new z(this.fields)}readNodePages(e,t,r){return\"Point\"===t.layerType&&(e=t.pointNodePages),null==e||\"object\"!=typeof e?null:Z.fromJSON(e,r)}set elevationInfo(e){this._set(\"elevationInfo\",e),this.loaded&&this._validateElevationInfo()}get effectiveCapabilities(){return this._capabilitiesFromAssociatedFeatureLayer(this.associatedLayer?.effectiveCapabilities)}get effectiveEditingEnabled(){return null!=this.associatedLayer&&k(this.associatedLayer)}get geometryType(){return _e[this.profile]||\"mesh\"}set renderer(e){W(e,this.fieldsIndex),this._set(\"renderer\",e)}readCachedDrawingInfo(e){return null!=e&&\"object\"==typeof e||(e={}),null==e.color&&(e.color=!1),e}get capabilities(){return this._capabilitiesFromAssociatedFeatureLayer(this.associatedLayer?.capabilities)}_capabilitiesFromAssociatedFeatureLayer(e){e=null!=e?e:q;const{query:t,queryRelated:r,editing:{supportsGlobalId:i,supportsRollbackOnFailure:s,supportsUploadWithItemId:o,supportsGeometryUpdate:a,supportsReturnServiceEditsInSourceSpatialReference:n},data:{supportsZ:l,supportsM:p,isVersioned:d,supportsAttachment:u},operations:{supportsEditing:y,supportsAdd:c,supportsUpdate:h,supportsDelete:m,supportsQuery:f,supportsQueryAttachments:g,supportsAsyncConvert3D:v}}=e,b=e.operations.supportsChangeTracking,w=!!this.associatedLayer?.infoFor3D;return{query:t,queryRelated:r,editing:{supportsGlobalId:i,supportsReturnServiceEditsInSourceSpatialReference:n,supportsRollbackOnFailure:s,supportsGeometryUpdate:w&&a,supportsUploadWithItemId:o},data:{supportsAttachment:u,supportsZ:l,supportsM:p,isVersioned:d},operations:{supportsQuery:f,supportsQueryAttachments:g,supportsEditing:y&&b,supportsAdd:w&&c&&b,supportsDelete:w&&m&&b,supportsUpdate:h&&b,supportsAsyncConvert3D:v}}}get editingEnabled(){return this._isOverridden(\"editingEnabled\")?this._get(\"editingEnabled\"):this.associatedLayer?.editingEnabled??!1}set editingEnabled(e){this._overrideIfSome(\"editingEnabled\",e)}get infoFor3D(){return this.associatedLayer?.infoFor3D??null}get relationships(){return this.associatedLayer?.relationships}get defaultPopupTemplate(){return this.associatedLayer||this.attributeStorageInfo?this.createPopupTemplate():null}readObjectIdField(e,t){return!e&&t.fields&&t.fields.some((t=>(\"esriFieldTypeOID\"===t.type&&(e=t.name),!!e))),e||void 0}readGlobalIdField(e,t){return!e&&t.fields&&t.fields.some((t=>(\"esriFieldTypeGlobalID\"===t.type&&(e=t.name),!!e))),e||void 0}get displayField(){return this.associatedLayer?.displayField??null}readProfile(e,t){const r=t.store.profile;return null!=r&&Se[r]?Se[r]:(n.getLogger(this).error(\"Unknown or missing profile\",{profile:r,layer:this}),\"mesh-pyramids\")}get useViewTime(){return this.associatedLayer?.useViewTime??!0}set useViewTime(e){this._override(\"useViewTime\",e)}load(e){return this.addResolvingPromise(this._load(e)),Promise.resolve(this)}async _load(e){const t=null!=e?e.signal:null;await this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(d),await this._fetchService(t),await Promise.all([this._fetchIndexAndUpdateExtent(this.nodePages,t),this._setAssociatedFeatureLayer(t),this._loadFilterGeometries()]),this._validateElevationInfo(),this._applyAssociatedLayerOverrides(),this._populateFieldUsageInfo(),await this.loadTimeInfoFromService(e),await ue(this,{origin:\"service\"},t),W(this.renderer,this.fieldsIndex),await this.finishLoadEditablePortalLayer(e)}async beforeSave(){null!=this.filter&&(this.filter=this.filter.clone(),await this.load())}async _loadFilterGeometries(){if(this.filter)try{await this.filter.loadGeometries(this.spatialReference)}catch(e){n.getLogger(this).error(\"#_loadFilterGeometries()\",this,\"Failed to load filter geometries. Geometry filter will not be applied for this layer.\",{error:e}),this.filter=null}}createQuery(){const e=new ye;return\"mesh\"===this.geometryType?this.associatedLayer?.infoFor3D&&(e.returnGeometry=!0):(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e.outFields=[\"*\"],e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryExtent(e||this.createQuery(),t)))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatureCount(e||this.createQuery(),t)))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatures(e||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=this,t.sourceLayer=this;return e}))}async queryRelatedFeatures(e,t){if(await this.load(),!this.associatedLayer)throw new a(\"scenelayer:query-not-available\",\"SceneLayer queries are not available without an associated feature layer\",{layer:this});return this.associatedLayer.queryRelatedFeatures(e,t)}async queryRelatedFeaturesCount(e,t){if(await this.load(),!this.associatedLayer)throw new a(\"scenelayer:query-not-available\",\"SceneLayer queries are not available without an associated feature layer\",{layer:this});return this.associatedLayer.queryRelatedFeaturesCount(e,t)}async queryCachedAttributes(e,t){const r=B(this.fieldsIndex,await be(this,we(this)));return ve(this.parsedUrl?.path??\"\",this.attributeStorageInfo??[],e,t,r,this.apiKey,this.customParameters)}async queryCachedFeature(e,r){const i=await this.queryCachedAttributes(e,[r]);if(!i||0===i.length)throw new a(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");const s=new t;return s.attributes=i[0],s.layer=this,s.sourceLayer=this,s}queryObjectIds(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryObjectIds(e||this.createQuery(),t)))}queryAttachments(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryAttachments(e,t)))}getFieldUsageInfo(e){const t={supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1};return this.loaded?this._fieldUsageInfo[e]||t:(n.getLogger(this).error(\"#getFieldUsageInfo()\",\"Unavailable until layer is loaded\"),t)}createPopupTemplate(e){return fe(this,e)}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return e?.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),!this.associatedLayer)throw new a(\"scenelayer:query-not-available\",\"SceneLayer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new a(\"scenelayer:query-not-available\",\"SceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}hasCachedStatistics(e){return null!=this.statisticsInfo&&this.statisticsInfo.some((t=>t.name===e))}async queryCachedStatistics(e,t){return await this.load(t),await this.fetchStatistics(e,t)}async saveAs(e,t){return this._debouncedSaveOperations(E.SAVE_AS,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"scene\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"scene\"};return this._debouncedSaveOperations(E.SAVE,e)}async applyEdits(e,t){const{applyEdits:r}=await import(\"./graphics/editingSupport.js\");let i=t;await this.load();const s=this.associatedLayer;if(!s)throw new a(`${this.type}-layer:not-editable`,\"Service is not editable\");await s.load();const{globalIdField:o}=s,n=!!s.infoFor3D,l=i?.globalIdUsed??!0;if(n&&null==o)throw new a(`${this.type}-layer:not-editable`,\"Valid globalIdField expected on editable SceneLayer\");if(n&&!l)throw new a(`${this.type}-layer:globalid-required`,\"globalIdUsed must not be false for SceneLayer editing as globalIds are required.\");return R(s.url)&&n&&null!=e.deleteFeatures&&null!=o&&(i={...i,globalIdToObjectId:await M(s,e.deleteFeatures,o)}),r(this,s.source,e,i)}async uploadAssets(e,t){if(await this.load(),null==this.associatedLayer)throw new a(`${this.type}-layer:not-editable`,\"Service is not editable\");return await this.associatedLayer.load(),this.associatedLayer.uploadAssets(e,t)}on(e,t){return super.on(e,t)}async convertMesh(e,t){t??={};const r=e=>{throw n.getLogger(this).error(\".convertMesh()\",e.message),e};await this.load(),this.infoFor3D||r(new a(\"invalid:layer\",\"SceneLayer has no capability for mesh conversion\"));const i=await this.extractAndFilterFiles(e),s=i.reduce(((e,t)=>ee(this.infoFor3D,t)?e+1:e),0);0===s&&r(new I),s>1&&r(new L);const o=this.spatialReference,l=t.location??new b({x:0,y:0,z:0,spatialReference:o}),p=l.spatialReference.isGeographic?\"local\":\"georeferenced\",d=v.createWithExternalSource(l,i,{vertexSpace:p,transform:ae(l.spatialReference),unitConversionDisabled:!0}),[u]=await this.uploadAssets([d],{...t,useAssetOrigin:!t.location});return u}async extractAndFilterFiles(e){await this.load();const t=this.infoFor3D;if(!t)return e;return(await ge(e)).filter((e=>te(t,e)))}validateLayer(e){if(e.layerType&&!Le.has(e.layerType))throw new a(\"scenelayer:layer-type-not-supported\",\"SceneLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new a(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x, 2.x\"});if(this.version.major>2)throw new a(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x, 2.x\"});function t(e,t){let r=!1,i=!1;if(null==e)r=!0,i=!0;else{const s=t&&t.isGeographic;switch(e){case\"east-north-up\":case\"earth-centered\":r=!0,i=s;break;case\"vertex-reference-frame\":r=!0,i=!s;break;default:r=!1}}if(!r)throw new a(\"scenelayer:unsupported-normal-reference-frame\",\"Normal reference frame is invalid.\");if(!i)throw new a(\"scenelayer:incompatible-normal-reference-frame\",\"Normal reference frame is incompatible with layer spatial reference.\")}t(this.normalReferenceFrame,this.spatialReference)}_getTypeKeywords(){const e=[];if(\"points\"===this.profile)e.push(\"Point\");else{if(\"mesh-pyramids\"!==this.profile)throw new a(\"scenelayer:unknown-profile\",\"SceneLayer:save() encountered an unknown SceneLayer profile: \"+this.profile);e.push(\"3DObject\")}return e}_populateFieldUsageInfo(){if(this._fieldUsageInfo={},this.fields)for(const e of this.fields){const t=!!this.attributeStorageInfo?.some((t=>t.name===e.name)),r=!!this.associatedLayer?.fields?.some((t=>t&&e.name===t.name)),i={supportsLabelingInfo:t,supportsRenderer:t,supportsPopupTemplate:t||r,supportsLayerQuery:r};this._fieldUsageInfo[e.name]=i}}_applyAssociatedLayerOverrides(){this._applyAssociatedLayerFieldsOverrides(),this._applyAssociatedLayerPopupOverrides(),this._applyAssociatedLayerExtentOverride(),this._applyAssociatedLayerPrivileges()}_applyAssociatedLayerFieldsOverrides(){if(!this.associatedLayer?.fields)return;let e=null;for(const t of this.associatedLayer.fields){const r=this.getField(t.name);r?(!r.domain&&t.domain&&(r.domain=t.domain.clone()),r.editable=t.editable,r.nullable=t.nullable,r.length=t.length):(e||(e=this.fields?this.fields.slice():[]),e.push(t.clone()))}e&&this._set(\"fields\",e)}_applyAssociatedLayerPopupOverrides(){if(!this.associatedLayer)return;const e=[\"popupTemplate\",\"popupEnabled\"],t=h(this);for(let r=0;r<e.length;r++){const i=e[r],s=this.originIdOf(i),o=this.associatedLayer.originIdOf(i);s<o&&(o===g.SERVICE||o===g.PORTAL_ITEM)&&t.setAtOrigin(i,this.associatedLayer[i],o)}}_applyAssociatedLayerExtentOverride(){const e=this.associatedLayer?.getAtOrigin(\"fullExtent\",\"service\");if(null==this.associatedLayer?.infoFor3D||!e||!R(this.associatedLayer?.url)||!pe(this))return;h(this).setAtOrigin(\"fullExtent\",e.clone(),g.SERVICE)}_applyAssociatedLayerPrivileges(){const e=this.associatedLayer;e&&(this._set(\"userHasEditingPrivileges\",e.userHasEditingPrivileges),this._set(\"userHasFullEditingPrivileges\",e.userHasFullEditingPrivileges),this._set(\"userHasUpdateItemPrivileges\",e.userHasUpdateItemPrivileges))}async _setAssociatedFeatureLayer(e){if([\"mesh-pyramids\",\"points\"].includes(this.profile))try{const{serverUrl:t,layerId:r,portalItem:i}=await U(`${this.url}/layers/${this.layerId}`,{sceneLayerItem:this.portalItem,customParameters:this.customParameters,apiKey:this.apiKey,signal:e}),s=await oe.FeatureLayer();this.associatedLayer=new s({url:t,customParameters:this.customParameters,layerId:r,portalItem:i}),await this.associatedLayer.load()}catch(t){u(t)||this._logWarningOnPopupEnabled()}}async _logWarningOnPopupEnabled(){await y((()=>this.popupEnabled&&null!=this.popupTemplate));const e=`this SceneLayer: ${this.title}`;null==this.attributeStorageInfo?n.getLogger(this).warn(`Associated FeatureLayer could not be loaded and no binary attributes found. Popups will not work on ${e}`):n.getLogger(this).info(`Associated FeatureLayer could not be loaded. Falling back to binary attributes for Popups on ${e}`)}_validateElevationInfo(){const e=this.elevationInfo;\"mesh-pyramids\"===this.profile&&ce(n.getLogger(this),he(\"Mesh scene layers\",\"relative-to-scene\",e)),ce(n.getLogger(this),me(\"Scene layers\",e))}async fetchStatistics(e,t){return await de({fieldName:e,statisticsInfo:this.statisticsInfo,errorContext:\"scenelayer\",fieldsIndex:this.fieldsIndex,path:this.parsedUrl?.path??\"\",customParameters:this.customParameters,apiKey:this.apiKey,signal:t?.signal})}};e([c({types:{key:\"type\",base:K,typeMap:{selection:$}},json:{origins:{\"web-scene\":{name:\"layerDefinition.featureReduction\",write:!0},\"portal-item\":{name:\"layerDefinition.featureReduction\",write:!0}}}})],Fe.prototype,\"featureReduction\",void 0),e([c({type:[ne],json:{read:!1,origins:{\"web-scene\":{name:\"layerDefinition.rangeInfos\",write:!0},\"portal-item\":{name:\"layerDefinition.rangeInfos\",write:!0}}}})],Fe.prototype,\"rangeInfos\",void 0),e([c({json:{read:!1}})],Fe.prototype,\"associatedLayer\",void 0),e([c({type:[\"show\",\"hide\"]})],Fe.prototype,\"listMode\",void 0),e([c({type:[\"ArcGISSceneServiceLayer\"]})],Fe.prototype,\"operationalLayerType\",void 0),e([c({json:{read:!1},readOnly:!0})],Fe.prototype,\"type\",void 0),e([c({...je.fields,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],Fe.prototype,\"fields\",void 0),e([c()],Fe.prototype,\"types\",null),e([c()],Fe.prototype,\"typeIdField\",null),e([c()],Fe.prototype,\"templates\",null),e([c()],Fe.prototype,\"formTemplate\",null),e([c()],Fe.prototype,\"attributeTableTemplate\",null),e([c({readOnly:!0,clonable:!1})],Fe.prototype,\"fieldsIndex\",null),e([c({type:se,json:{read:{source:\"layerDefinition.floorInfo\"},write:{target:\"layerDefinition.floorInfo\"}}})],Fe.prototype,\"floorInfo\",void 0),e([c(je.outFields)],Fe.prototype,\"outFields\",void 0),e([c({type:Z,readOnly:!0,json:{read:!1}})],Fe.prototype,\"nodePages\",void 0),e([m(\"service\",\"nodePages\",[\"nodePages\",\"pointNodePages\"])],Fe.prototype,\"readNodePages\",null),e([c({type:[J],readOnly:!0})],Fe.prototype,\"materialDefinitions\",void 0),e([c({type:[X],readOnly:!0})],Fe.prototype,\"textureSetDefinitions\",void 0),e([c({type:[Y],readOnly:!0})],Fe.prototype,\"geometryDefinitions\",void 0),e([c({readOnly:!0})],Fe.prototype,\"serviceUpdateTimeStamp\",void 0),e([c({readOnly:!0})],Fe.prototype,\"attributeStorageInfo\",void 0),e([c({readOnly:!0})],Fe.prototype,\"statisticsInfo\",void 0),e([c({type:o.ofType(Number),nonNullable:!0,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.excludeObjectIds\",write:{enabled:!0}}})],Fe.prototype,\"excludeObjectIds\",void 0),e([c({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],Fe.prototype,\"definitionExpression\",void 0),e([c({type:le,json:{name:\"layerDefinition.polygonFilter\",write:{enabled:!0,allowNull:!0},origins:{service:{read:!1,write:!1}}}})],Fe.prototype,\"filter\",void 0),e([c({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],Fe.prototype,\"path\",void 0),e([c(C)],Fe.prototype,\"elevationInfo\",null),e([c({readOnly:!0,json:{read:!1}})],Fe.prototype,\"effectiveCapabilities\",null),e([c({readOnly:!0})],Fe.prototype,\"effectiveEditingEnabled\",null),e([c({type:String})],Fe.prototype,\"geometryType\",null),e([c(G)],Fe.prototype,\"labelsVisible\",void 0),e([c({type:[re],json:{origins:{service:{name:\"drawingInfo.labelingInfo\",read:{reader:ie},write:!1}},name:\"layerDefinition.drawingInfo.labelingInfo\",read:{reader:ie},write:!0}})],Fe.prototype,\"labelingInfo\",void 0),e([c(N)],Fe.prototype,\"legendEnabled\",void 0),e([c({type:Number,json:{origins:{\"web-document\":{default:1,write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}},read:{source:[\"opacity\",\"layerDefinition.drawingInfo.transparency\"],reader(e,t){if(\"number\"==typeof e&&e>=0&&e<=1)return e;const r=t.layerDefinition?.drawingInfo?.transparency;return void 0!==r?Ie(r):void 0}}},\"portal-item\":{write:!0},service:{read:!1}}}})],Fe.prototype,\"opacity\",void 0),e([c({type:[\"Low\",\"High\"],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],Fe.prototype,\"priority\",void 0),e([c({type:[\"Labels\"],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],Fe.prototype,\"semantic\",void 0),e([c({types:i,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],Fe.prototype,\"renderer\",null),e([c({json:{read:!1}})],Fe.prototype,\"cachedDrawingInfo\",void 0),e([m(\"service\",\"cachedDrawingInfo\")],Fe.prototype,\"readCachedDrawingInfo\",null),e([c({readOnly:!0,json:{read:!1}})],Fe.prototype,\"capabilities\",null),e([c({type:Boolean,json:{read:!1}})],Fe.prototype,\"editingEnabled\",null),e([c({readOnly:!0,json:{write:!1,read:!1}})],Fe.prototype,\"infoFor3D\",null),e([c({readOnly:!0,json:{write:!1,read:!1}})],Fe.prototype,\"relationships\",null),e([c(Q)],Fe.prototype,\"popupEnabled\",void 0),e([c({type:r,json:{name:\"popupInfo\",write:!0}})],Fe.prototype,\"popupTemplate\",void 0),e([c({readOnly:!0,json:{read:!1}})],Fe.prototype,\"defaultPopupTemplate\",null),e([c({type:String,json:{read:!1}})],Fe.prototype,\"objectIdField\",void 0),e([m(\"service\",\"objectIdField\",[\"objectIdField\",\"fields\"])],Fe.prototype,\"readObjectIdField\",null),e([c({type:String,json:{read:!1}})],Fe.prototype,\"globalIdField\",void 0),e([m(\"service\",\"globalIdField\",[\"globalIdField\",\"fields\"])],Fe.prototype,\"readGlobalIdField\",null),e([c({readOnly:!0,type:String,json:{read:!1}})],Fe.prototype,\"displayField\",null),e([c({type:String,json:{read:!1}})],Fe.prototype,\"profile\",void 0),e([m(\"service\",\"profile\",[\"store.profile\"])],Fe.prototype,\"readProfile\",null),e([c({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],Fe.prototype,\"normalReferenceFrame\",void 0),e([c(V)],Fe.prototype,\"screenSizePerspectiveEnabled\",void 0),e([c({json:{read:!1,origins:{service:{read:!0}}}})],Fe.prototype,\"serviceItemId\",void 0),e([c(x)],Fe.prototype,\"useViewTime\",null),Fe=e([f(\"esri.layers.SceneLayer\")],Fe);const Se={\"mesh-pyramids\":\"mesh-pyramids\",meshpyramids:\"mesh-pyramids\",\"features-meshes\":\"mesh-pyramids\",points:\"points\",\"features-points\":\"points\",lines:\"lines\",\"features-lines\":\"lines\",polygons:\"polygons\",\"features-polygons\":\"polygons\"},_e={\"mesh-pyramids\":\"mesh\",points:\"point\"},Pe=Fe;export{Pe as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport s from\"../../../../core/Error.js\";const e=\"upload-assets\",o=()=>new Error;class r extends s{constructor(){super(`${e}:unsupported`,\"Layer does not support asset uploads.\",o())}}class t extends s{constructor(){super(`${e}:no-glb-support`,\"Layer does not support glb.\",o())}}class n extends s{constructor(){super(`${e}:no-supported-source`,\"No supported external source found\",o())}}class u extends s{constructor(){super(`${e}:not-base-64`,\"Expected gltf data in base64 format after conversion.\",o())}}class p extends s{constructor(){super(`${e}:unable-to-prepare-options`,\"Unable to prepare uploadAsset request options.\",o())}}class a extends s{constructor(s,r){super(`${e}:bad-response`,`Bad response. Uploaded ${s} items and received ${r} results.`,o())}}class d extends s{constructor(s,r){super(`${e}-layer:upload-failed`,`Failed to upload mesh file ${s}. Error code: ${r?.code??\"-1\"}. Error message: ${r?.messages??\"unknown\"}`,o())}}class c extends s{constructor(s){super(`${e}-layer:unsupported-format`,`The service allowed us to upload an asset of FormatID ${s}, but it does not list it in its supported formats.`,o())}}class l extends s{constructor(){super(`${e}:convert3D-failed`,\"convert3D failed.\")}}class i extends s{constructor(){super(\"invalid-input:no-model\",\"No supported model found\")}}class m extends s{constructor(){super(\"invalid-input:multiple-models\",\"Multiple supported models found\")}}export{a as BadResponseError,l as Convert3DFailedError,m as MultipleModelsError,t as NoGlbSupportError,i as NoModelError,n as NoSupportedSourceError,u as NotBase64Error,p as UnableToPrepareOptionsError,r as UnsupportedError,c as UnsupportedFormatUploadedError,d as UploadFailedError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{fixTimeInfoFields as s}from\"../support/fieldUtils.js\";import{cacheIsOutOfSync as n}from\"../support/sceneLayerCacheUtils.js\";import o from\"../support/TimeInfo.js\";import l from\"../../time/TimeExtent.js\";import m from\"../../time/TimeInterval.js\";const a=t=>{let a=class extends t{constructor(){super(...arguments),this.serviceTimeInfo=null}get timeInfo(){const e=this.associatedLayer?.timeInfo;if(null==e)return null;const t=e.clone();return s(t,this.fieldsIndex),t}set timeInfo(e){s(e,this.fieldsIndex),this._override(\"timeInfo\",e)}get timeExtent(){return this.associatedLayer?.timeExtent}set timeExtent(e){this._override(\"timeExtent\",e)}get timeOffset(){return this.associatedLayer?.timeOffset}set timeOffset(e){this._override(\"timeOffset\",e)}get datesInUnknownTimezone(){return this.associatedLayer?.datesInUnknownTimezone??!1}set datesInUnknownTimezone(e){this._override(\"datesInUnknownTimezone\",e)}async loadTimeInfoFromService(e){const{serviceTimeInfo:t}=this;if(null==t)return;const{startTimeField:r,endTimeField:i}=t;if(null==r&&null==i)return;if(n({associatedLayer:this.associatedLayer,serviceUpdateTimeStamp:this.serviceUpdateTimeStamp}))return;const s=async t=>{let i=null;try{const r=await(this.fetchStatistics?.(t,e));i=r?.stats}catch{}if(null==i)return null;const{minTimeStr:s,min:n,maxTimeStr:o,max:l}=i,m=t===r?s??n:o??l;return null!=m?new Date(m):null},[m,a]=await Promise.all([s(r),s(i)]);if(null!=r&&null==m||null!=i&&null==a)return;const c=new l({start:m,end:a});this.setAtOrigin(\"timeInfo\",new o({endField:i,startField:r,fullTimeExtent:c}),\"service\")}};return e([r({type:o,json:{read:!1,write:!1}})],a.prototype,\"timeInfo\",null),e([r({type:l,json:{read:!1,write:!1}})],a.prototype,\"timeExtent\",null),e([r({type:m,json:{read:!1,write:!1}})],a.prototype,\"timeOffset\",null),e([r({type:Boolean,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,\"datesInUnknownTimezone\",null),e([r({type:c,readOnly:!0,json:{read:{source:\"timeInfo\"}}})],a.prototype,\"serviceTimeInfo\",void 0),a=e([i(\"esri.layers.mixins.TemporalSceneLayer\")],a),a};let c=class extends t{constructor(){super(...arguments),this.endTimeField=null,this.startTimeField=null}};e([r({type:String})],c.prototype,\"endTimeField\",void 0),e([r({type:String})],c.prototype,\"startTimeField\",void 0),c=e([i(\"esri.layers.mixins.TemporalSceneLayer.SceneServiceTimeInfo\")],c);export{a as TemporalSceneLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as r}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends t{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([o({type:Number})],p.prototype,\"nodesPerPage\",void 0),e([o({type:Number})],p.prototype,\"rootIndex\",void 0),e([o({type:String})],p.prototype,\"lodSelectionMetricType\",void 0),p=e([s(\"esri.layers.support.I3SLayerDefinitions.I3SNodePageDefinition\")],p);let i=class extends t{constructor(){super(...arguments),this.factor=1}};e([o({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([o({type:Number})],i.prototype,\"factor\",void 0),i=e([s(\"esri.layers.support.I3SLayerDefinitions.I3SMaterialTexture\")],i);let n=class extends t{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([o({type:[Number]})],n.prototype,\"baseColorFactor\",void 0),e([o({type:i})],n.prototype,\"baseColorTexture\",void 0),e([o({type:i})],n.prototype,\"metallicRoughnessTexture\",void 0),e([o({type:Number})],n.prototype,\"metallicFactor\",void 0),e([o({type:Number})],n.prototype,\"roughnessFactor\",void 0),n=e([s(\"esri.layers.support.I3SLayerDefinitions.I3SMaterialPBRMetallicRoughness\")],n);let a=class extends t{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([r({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],a.prototype,\"alphaMode\",void 0),e([o({type:Number})],a.prototype,\"alphaCutoff\",void 0),e([o({type:Boolean})],a.prototype,\"doubleSided\",void 0),e([r({none:\"none\",back:\"back\",front:\"front\"})],a.prototype,\"cullFace\",void 0),e([o({type:i})],a.prototype,\"normalTexture\",void 0),e([o({type:i})],a.prototype,\"occlusionTexture\",void 0),e([o({type:i})],a.prototype,\"emissiveTexture\",void 0),e([o({type:[Number]})],a.prototype,\"emissiveFactor\",void 0),e([o({type:n})],a.prototype,\"pbrMetallicRoughness\",void 0),a=e([s(\"esri.layers.support.I3SLayerDefinitions.I3SMaterialDefinition\")],a);let l=class extends t{};e([o({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],l.prototype,\"name\",void 0),e([r({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",ktx2:\"ktx2\",basis:\"basis\"})],l.prototype,\"format\",void 0),l=e([s(\"esri.layers.support.I3SLayerDefinitions.I3STextureFormat\")],l);let y=class extends t{constructor(){super(...arguments),this.atlas=!1}};e([o({type:[l]})],y.prototype,\"formats\",void 0),e([o({type:Boolean})],y.prototype,\"atlas\",void 0),y=e([s(\"esri.layers.support.I3SLayerDefinitions.I3STextureSetDefinition\")],y);let u=class extends t{};e([r({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],u.prototype,\"type\",void 0),e([o({type:Number})],u.prototype,\"component\",void 0),u=e([s(\"esri.layers.support.I3SLayerDefinitions.I3SGeometryAttribute\")],u);let d=class extends t{};e([r({draco:\"draco\"})],d.prototype,\"encoding\",void 0),e([o({type:[String]})],d.prototype,\"attributes\",void 0),d=e([s(\"esri.layers.support.I3SLayerDefinitions.I3SGeometryCompressedAttributes\")],d);let c=class extends t{constructor(){super(...arguments),this.offset=0}};e([o({type:Number})],c.prototype,\"offset\",void 0),e([o({type:u})],c.prototype,\"position\",void 0),e([o({type:u})],c.prototype,\"normal\",void 0),e([o({type:u})],c.prototype,\"uv0\",void 0),e([o({type:u})],c.prototype,\"color\",void 0),e([o({type:u})],c.prototype,\"uvRegion\",void 0),e([o({type:u})],c.prototype,\"featureId\",void 0),e([o({type:u})],c.prototype,\"faceRange\",void 0),e([o({type:d})],c.prototype,\"compressedAttributes\",void 0),c=e([s(\"esri.layers.support.I3SLayerDefinitions.I3SGeometryBuffer\")],c);let m=class extends t{};e([r({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([o()],m.prototype,\"geometryBuffers\",void 0),m=e([s(\"esri.layers.support.I3SLayerDefinitions.I3SGeometryDefinition\")],m);export{u as I3SGeometryAttribute,c as I3SGeometryBuffer,d as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,a as I3SMaterialDefinition,n as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,p as I3SNodePageDefinition,l as I3STextureFormat,y as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{JSONSupportMixin as t}from\"../../core/JSONSupport.js\";import o from\"../../core/Warning.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Polygon.js\";import{canProjectWithoutEngine as n,projectPolygon as a}from\"../../geometry/projection.js\";var c;let p=c=class extends(t(r.ofType(i))){constructor(e){super(e)}clone(){return new c(this.items.map((e=>e.clone())))}write(e,r){return this.toJSON(r)}toJSON(e){const r=e?.layer?.spatialReference;return r?this.toArray().map((t=>{if(!r.equals(t.spatialReference)){if(!n(t.spatialReference,r))return e?.messages?.push(new o(\"scenefilter:unsupported\",\"Scene filters with incompatible spatial references are not supported\",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const s=new i;a(t,s,r),t=s}const s=t.toJSON(e);return delete s.spatialReference,s})).filter((e=>null!=e)):(e?.messages?.push(new o(\"scenefilter:unsupported\",\"Writing Scene filters without context layer is not supported\",{modification:this,spatialReference:e.layer.spatialReference,context:e})),this.toArray().map((r=>r.toJSON(e))))}static fromJSON(e,r){const t=new c;return e.forEach((e=>t.add(i.fromJSON(e,r)))),t}};p=c=e([s(\"esri.layers.support.PolygonCollection\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(){super(...arguments),this.name=null,this.field=null,this.currentRangeExtent=null,this.fullRangeExtent=null,this.type=\"rangeInfo\"}};e([t({type:String,json:{read:!0,write:!0}})],s.prototype,\"name\",void 0),e([t({type:String,json:{read:!0,write:!0}})],s.prototype,\"field\",void 0),e([t({type:[Number],json:{read:!0,write:!0}})],s.prototype,\"currentRangeExtent\",void 0),e([t({type:[Number],json:{read:!0,write:!0}})],s.prototype,\"fullRangeExtent\",void 0),e([t({type:[\"rangeInfo\"],readOnly:!0,json:{read:!1,write:!0}})],s.prototype,\"type\",void 0),s=e([o(\"esri.layers.support.RangeInfo\")],s);export{s as RangeInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../request.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{clone as s}from\"../../core/lang.js\";import{on as t,sync as i}from\"../../core/reactiveUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{reader as p}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{persistable as m}from\"../../core/accessorSupport/decorators/persistable.js\";import n from\"./PolygonCollection.js\";import{f as l}from\"../../chunks/persistableUrlUtils.js\";var u;let g=u=class extends o{constructor(e){super(e),this.spatialRelationship=\"disjoint\",this.geometries=new n,this._geometriesSource=null}initialize(){this.addHandles(t((()=>this.geometries),\"after-changes\",(()=>this.geometries=this.geometries),i))}readGeometries(e,r,o){Array.isArray(e)?this.geometries=n.fromJSON(e,o):this._geometriesSource={url:l(e,o),context:o}}async loadGeometries(e,o){if(null==this._geometriesSource)return;const{url:s,context:t}=this._geometriesSource,i=await r(s,{responseType:\"json\",signal:o?.signal}),a=e.toJSON(),p=i.data.map((e=>({...e,spatialReference:a})));this.geometries=n.fromJSON(p,t),this._geometriesSource=null}clone(){const e=new u({geometries:s(this.geometries),spatialRelationship:this.spatialRelationship});return e._geometriesSource=this._geometriesSource,e}};e([a({type:[\"disjoint\",\"contains\"],nonNullable:!0,json:{write:!0}})],g.prototype,\"spatialRelationship\",void 0),e([a({type:n,nonNullable:!0,json:{write:!0}}),m({origins:[\"web-scene\",\"portal-item\"],type:\"resource\",prefix:\"geometries\",contentAddressed:!0})],g.prototype,\"geometries\",void 0),e([p([\"web-scene\",\"portal-item\"],\"geometries\")],g.prototype,\"readGeometries\",null),g=u=e([c(\"esri.layers.support.SceneFilter\")],g);const h=g;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../../kernel.js\";import r from\"../../request.js\";import t from\"../../core/Error.js\";import{throwIfAbortError as n}from\"../../core/promiseUtils.js\";import{parse as a}from\"./arcgisLayerUrl.js\";import o from\"../../portal/Portal.js\";import i from\"../../portal/PortalItem.js\";async function s(e,r){const n=a(e);if(!n)throw new t(\"invalid-url\",\"Invalid scene service url\");const o={...r,sceneServerUrl:n.url.path,layerId:n.sublayer??void 0};if(o.sceneLayerItem??=await l(o),null==o.sceneLayerItem)return f(o.sceneServerUrl.replace(\"/SceneServer\",\"/FeatureServer\"),o);const i=await y(o);if(!i?.url)throw new t(\"related-service-not-found\",\"Could not find feature service through portal item relationship\");o.featureServiceItem=i;const s=await f(i.url,o);return s.portalItem=i,s}async function l(e){const r=(await c(e)).serviceItemId;if(!r)return null;const t=new i({id:r,apiKey:e.apiKey}),a=await u(e);null!=a&&(t.portal=new o({url:a}));try{return await t.load({signal:e.signal})}catch(s){return n(s),null}}async function c(e){if(e.rootDocument)return e.rootDocument;const t={query:{f:\"json\",...e.customParameters,token:e.apiKey},responseType:\"json\",signal:e.signal};try{const n=await r(e.sceneServerUrl,t);e.rootDocument=n.data}catch{e.rootDocument={}}return e.rootDocument}async function u(t){const a=e?.findServerInfo(t.sceneServerUrl);if(a?.owningSystemUrl)return a.owningSystemUrl;const o=t.sceneServerUrl.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";try{const e=(await r(o,{query:{f:\"json\"},responseType:\"json\",signal:t.signal})).data.owningSystemUrl;if(e)return e}catch(i){n(i)}return null}async function f(e,n){const o=a(e);if(!o)throw new t(\"invalid-feature-service-url\",\"Invalid feature service url\");const i=o.url.path,s=n.layerId;if(null==s)return{serverUrl:i};const l=c(n),u=n.featureServiceItem?await n.featureServiceItem.fetchData(\"json\"):null,f=(u?.layers?.[0]||u?.tables?.[0])?.customParameters,y=e=>{const t={query:{f:\"json\",...f},responseType:\"json\",authMode:e,signal:n.signal};return r(i,t)},m=y(\"anonymous\").catch((()=>y(\"no-prompt\"))),[p,d]=await Promise.all([m,l]),v=d?.layers,w=p.data&&p.data.layers;if(!Array.isArray(w))throw new Error(\"expected layers array\");if(Array.isArray(v))for(let r=0;r<Math.min(v.length,w.length);r++){if(v[r].id===s)return{serverUrl:i,layerId:w[r].id}}else if(null!=s&&s<w.length)return{serverUrl:i,layerId:w[s].id};throw new Error(\"could not find matching associated sublayer\")}async function y({sceneLayerItem:e,signal:r}){if(!e)return null;try{const t=(await e.fetchRelatedItems({relationshipType:\"Service2Service\",direction:\"reverse\"},{signal:r})).find((e=>\"Feature Service\"===e.type))||null;if(!t)return null;const n=new i({portal:t.portal,id:t.id});return await n.load(),n}catch(t){return n(t),null}}export{s as findAssociatedFeatureService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst s={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportedStatistics:void 0},t={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryBins:s,query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}};export{t as zeroCapabilities,s as zeroQueryBins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t=[[\"binary\",\"application/octet-stream\",\"bin\",\"\"]];function n(t,n){return null!=C(n.name,t?.supportedFormats??[])}function r(t,n){if(!t)return!1;const r=c(n,t.supportedFormats??[]);return null!=r&&t.editFormats.includes(r)}function o(t){return F(t?.supportedFormats??[]).flatMap(j).map((t=>`.${t}`))}function e(t){const n={};for(const r of F(t?.supportedFormats??[])){const[t,o]=g(r).split(\";\"),e=t.trim().toLowerCase(),u=j(r).map((t=>`.${t}`));n[e]??=[],n[e].push(...u)}return{description:\"3D Models\",accept:n}}function u(t,n){return L(b(t,n))}function i(t,n){return L(C(t,n))}function s(t,n){return g(w(t,n))}function c(t,n){return i(t.name,n)??u(t.type,n)}function p(t,n,r){return u(t,r)??i(n,r)}function a({supportedFormats:t}){return p(\"model/gltf-binary\",\"glb\",t)}function f(t){const n=a(t);return null!=n&&t.editFormats.includes(n)}function d({supportedFormats:t}){return p(\"model/gltf+json\",\"gltf\",t)}function l({supportedFormats:t}){return p(\"application/esri3do-SR_world\",\"wld\",t)}function m({supportedFormats:t}){return p(\"application/esri3do-SR_prj\",\"prj\",t)}function F(n){return[...t,...n]}function w(t,n){return F(n).find((n=>L(n)===t))}function b(t,n){const r=t.toLowerCase();return F(n).find((t=>g(t)===r))}function C(t,n){const r=t.toLowerCase();return F(n).find((t=>j(t).some((t=>r.endsWith(t)))))}function L(t){return t?.[0]}function g(t){return t?.[1].toLowerCase()}function j(t){return t?.[2].split(\",\").map((t=>t.toLowerCase()))??[]}function y(t){return t?.[3]}function M(t){return t.tables?.find((t=>\"assetMaps\"===t.role))}export{M as getAssetMapTable,c as getFileFormatId,e as getFilePickerAcceptType,i as getFilenameFormatId,y as getFormatDescription,j as getFormatExtensions,L as getFormatId,s as getFormatIdMimeType,g as getFormatMimeType,a as getGlbFormatId,d as getGltfFormatId,u as getMimeTypeFormatId,p as getMimeTypeOrFilenameFormatId,m as getPrjFormatId,o as getSupportedExtensions,l as getWorldFileFormatId,r as isFileEditFormat,n as isFileSupported,f as isGlbSupportedEditFormat};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as o}from\"../../core/unitUtils.js\";import r from\"../../geometry/support/MeshTransform.js\";function t(t){const e=1/o(t,1);return 1!==e?new r({scale:[e,e,e]}):void 0}export{t as getMeshTransformForMetersToSpatialReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction e({associatedLayer:e,serviceUpdateTimeStamp:t}){const n=e?.editingInfo?.lastEditDate,r=e?.serverGens,a=null!=n,i=null!=t,s=a&&i&&t.lastUpdate!==n.getTime();return a&&(s||!i&&r?.minServerGen!==r?.serverGen)}export{e as cacheIsOutOfSync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import e from\"../../core/Error.js\";import{join as s}from\"../../core/urlUtils.js\";async function i({fieldName:i,statisticsInfo:a,errorContext:o,fieldsIndex:r,path:n,customParameters:l,apiKey:c,signal:f}){if(null==a)throw new e(`${o}:no-cached-statistics`,\"Cached statistics are not available for this layer\");const d=r.get(i);if(null==d)throw new e(`${o}:field-unexisting`,`Field '${i}' does not exist on the layer`);const h=a.find((t=>t.name===d.name));if(null==h)throw new e(`${o}:no-cached-statistics`,\"Cached statistics for this attribute are not available\");const m=s(n,h.href),{data:u}=await t(m,{query:{f:\"json\",...l,token:c},responseType:\"json\",signal:f});return u}export{i as fetchStatistics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[t(i)]||e}function t(i){return\"json\"===i.type?\"application/json\":\"blob\"===i.type?i.blob.type:n(i.url)}function n(p){const t=i(p);return g[t]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\",\"bin.gz\":\"application/octet-stream\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nasync function e(e){const r=[];for(const n of e)n.name.toLowerCase().endsWith(\".zip\")?r.push(t(n)):r.push(Promise.resolve(n));return(await Promise.all(r)).flat()}async function t(e){const{BlobReader:t,ZipReader:r,BlobWriter:n}=await import(\"./zipjs-wrapper.js\"),a=[],i=new r(new t(e));return(await i.getEntries()).forEach((e=>{if(e.directory||/^__MACOS/i.test(e.filename))return;const t=new n,r=e.getData?.(t).then((t=>new File([t],e.filename)));r&&a.push(r)})),Promise.all(a)}export{t as extractZipFile,e as extractZipFiles};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n"],"names":[],"sourceRoot":""}