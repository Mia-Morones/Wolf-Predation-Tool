"use strict";(self.webpackChunkreact_redux_arcgis_boilerplate=self.webpackChunkreact_redux_arcgis_boilerplate||[]).push([[6626],{80688:function(t,n,r){r.d(n,{A:function(){return d}});var e=r(82392),i=r(73783),o=r(3223),u=r(14755),c=r(23377),s=r(84977),a=r(81482),f=(r(6273),r(80861),r(26325));let l=0,g=class extends((0,s.Te)((0,u.O)((0,c.sA)(i.A)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${l++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){const n=this.parent;if(null!=n)switch(n.type){case"line-of-sight":case"dimension":case"viewshed":n.releaseAnalysis(this);break;case"2d":case"3d":n.analyses.includes(this)&&n.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(o.Ru)}};(0,e._)([(0,a.MZ)({type:String,constructOnly:!0,clonable:!1})],g.prototype,"id",void 0),(0,e._)([(0,a.MZ)({type:String})],g.prototype,"title",void 0),(0,e._)([(0,a.MZ)({clonable:!1,value:null})],g.prototype,"parent",null),(0,e._)([(0,a.MZ)({readOnly:!0})],g.prototype,"isEditable",null),g=(0,e._)([(0,f.$)("esri.analysis.Analysis")],g);const d=g},12519:function(t,n,r){r.d(n,{xH:function(){return u},N1:function(){return s}});r(80347);var e=r(19913),i=r(63918),o=(r(30165),r(25336),r(46373),r(3800),r(76388));r(2680);o.R6;o.HE;o.R6;o.R6;o.R6;r(62847);(0,e.vt)();function u(t,n){return c(t)===c(n)}function c(t){if(null==t)return null;const n=null!=t.layer?t.layer.id:"";let r=null;return r=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==r?null:`o-${n}-${r}`}const s={json:{write:{writer:function(t,n){null!=t?.layer?.objectIdField&&null!=t.attributes&&(n.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};(0,i.vt)(),(0,e.vt)()},7775:function(t,n,r){r.d(n,{a:function(){return p},b:function(){return H},c:function(){return M},f:function(){return m},u:function(){return N}});r(6273);var e=r(80861),i=r(4506),o=r(82444),u=r(25336),c=r(26110),s=r(80347),a=r(19913),f=r(2532),l=r(60929),g=r(94669),d=r(87368),h=r(63918),I=r(74695),b=r(11631);const _=()=>e.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");const v=class{constructor(){this.plane=(0,d.vt)(),this.origin=(0,a.vt)(),this.basis1=(0,a.vt)(),this.basis2=(0,a.vt)()}};function p(t=L){return{plane:(0,d.vt)(t.plane),origin:(0,a.o8)(t.origin),basis1:(0,a.o8)(t.basis1),basis2:(0,a.o8)(t.basis2)}}function M(t,n=p()){return m(t.origin,t.basis1,t.basis2,n)}function m(t,n,r,e=p()){return(0,s.c)(e.origin,t),(0,s.c)(e.basis1,n),(0,s.c)(e.basis2,r),N(e),function(t,n){Math.abs((0,s.f)(t.basis1,t.basis2)/((0,s.l)(t.basis1)*(0,s.l)(t.basis2)))>1e-6&&_().warn(n,"Provided basis vectors are not perpendicular"),Math.abs((0,s.f)(t.basis1,w(t)))>1e-6&&_().warn(n,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,s.f)(w(t),t.origin)-t.plane[3])>1e-6&&_().warn(n,"Plane offset is not consistent with plane origin")}(e,"fromValues()"),e}function N(t){(0,d.mR)(t.basis2,t.basis1,t.origin,t.plane)}function E(t,n,r){t!==r&&M(t,r);const e=(0,s.h)(b.rq.get(),w(t),n);return(0,s.g)(r.origin,r.origin,e),r.plane[3]-=n,r}function T(t,n=p()){const r=(t[2]-t[0])/2,e=(t[3]-t[1])/2;return(0,s.i)(n.origin,t[0]+r,t[1]+e,0),(0,s.i)(n.basis1,r,0,0),(0,s.i)(n.basis2,0,e,0),(0,d.fA)(0,0,1,0,n.plane),n}function S(t,n,r){return!!(0,d.Ui)(t.plane,n,r)&&R(t,r)}function q(t,n,r){const e=F.get();D(t,n,e,F.get());let o=Number.POSITIVE_INFINITY;for(const u of X){const c=V(t,u,U.get()),a=b.rq.get();if((0,d.T7)(e,c,a)){const t=(0,s.o)(b.rq.get(),n.origin,a),e=Math.abs((0,i.XM)((0,s.f)(n.direction,t)));e<o&&(o=e,(0,s.c)(r,a))}}return o===Number.POSITIVE_INFINITY?y(t,n,r):r}function y(t,n,r){if(S(t,n,r))return r;const e=F.get(),i=F.get();D(t,n,e,i);let o=Number.POSITIVE_INFINITY;for(const u of X){const c=V(t,u,U.get()),a=b.rq.get();if((0,d.gv)(e,c,a)){const t=(0,h.kb)(n,a);if(!(0,d.Tj)(i,a))continue;t<o&&(o=t,(0,s.c)(r,a))}}return O(t,n.origin)<o&&A(t,n.origin,r),r}function A(t,n,r){const e=(0,d._I)(t.plane,n,b.rq.get()),i=(0,g.H6)(C(t,t.basis1),e,-1,1,b.rq.get()),o=(0,g.H6)(C(t,t.basis2),e,-1,1,b.rq.get());return(0,s.d)(r,(0,s.g)(b.rq.get(),i,o),t.origin),r}function P(t,n,r){const{origin:e,basis1:i,basis2:o}=t,u=(0,s.d)(b.rq.get(),n,e),c=(0,I.gr)(i,u),a=(0,I.gr)(o,u),f=(0,I.gr)(w(t),u);return(0,s.i)(r,c,a,f)}function O(t,n){const r=P(t,n,b.rq.get()),{basis1:e,basis2:i}=t,o=(0,s.l)(e),u=(0,s.l)(i),c=Math.max(Math.abs(r[0])-o,0),a=Math.max(Math.abs(r[1])-u,0),f=r[2];return c*c+a*a+f*f}function j(t,n){const r=-t.plane[3];return(0,I.gr)(w(t),n)-r}function w(t){return(0,d.Qj)(t.plane)}function R(t,n){const r=(0,s.d)(b.rq.get(),n,t.origin),e=(0,s.k)(t.basis1),i=(0,s.k)(t.basis2),o=(0,s.f)(t.basis1,r),u=(0,s.f)(t.basis2,r);return-o-e<0&&o-e<0&&-u-i<0&&u-i<0}function C(t,n){const r=U.get();return(0,s.c)(r.origin,t.origin),(0,s.c)(r.vector,n),r}function V(t,n,r){const{basis1:e,basis2:i,origin:o}=t,u=(0,s.h)(b.rq.get(),e,n.origin[0]),c=(0,s.h)(b.rq.get(),i,n.origin[1]);(0,s.g)(r.origin,u,c),(0,s.g)(r.origin,r.origin,o);const a=(0,s.h)(b.rq.get(),e,n.direction[0]),f=(0,s.h)(b.rq.get(),i,n.direction[1]);return(0,s.h)(r.vector,(0,s.g)(a,a,f),2),r}function D(t,n,r,e){const i=w(t);(0,d.mR)(i,n.direction,n.origin,r),(0,d.mR)((0,d.Qj)(r),i,n.origin,e)}const L={plane:(0,d.vt)(),origin:(0,a.fA)(0,0,0),basis1:(0,a.fA)(1,0,0),basis2:(0,a.fA)(0,1,0)},F=new o.I(d.vt),U=new o.I(g.vt),x=(0,a.vt)(),k=new o.I((()=>p())),X=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],Y=(0,c.vt)(),z=(0,c.vt)(),H=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:v,altitudeAt:j,axisAt:function(t,n,r,e){return function(t,n,r){switch(n){case l._.X:(0,s.c)(r,t.basis1),(0,s.n)(r,r);break;case l._.Y:(0,s.c)(r,t.basis2),(0,s.n)(r,r);break;case l._.Z:(0,s.c)(r,w(t))}return r}(t,r,e)},cameraFrustumCoverage:function(t,n){return(n-t)/n},closestPoint:y,closestPointOnSilhouette:q,copy:M,copyWithoutVerify:function(t,n){(0,s.c)(n.origin,t.origin),(0,s.c)(n.basis1,t.basis1),(0,s.c)(n.basis2,t.basis2),(0,d.C)(n.plane,t.plane)},create:p,distance:function(t,n){return Math.sqrt(O(t,n))},distance2:O,distanceToSilhouette:function(t,n){let r=Number.NEGATIVE_INFINITY;for(const e of X){const i=V(t,e,U.get()),o=(0,g.kb)(i,n);o>r&&(r=o)}return Math.sqrt(r)},elevate:E,equals:function(t,n){return(0,s.p)(t.basis1,n.basis1)&&(0,s.p)(t.basis2,n.basis2)&&(0,s.p)(t.origin,n.origin)},extrusionContainsPoint:function(t,n){return(0,d.Tj)(t.plane,n)&&R(t,n)},fromAABoundingRect:T,fromValues:m,getExtent:function(t,n){const r=t.basis1[0],e=t.basis2[1],[i,o]=t.origin;return(0,f.fA)(i-r,o-e,i+r,o+e,n)},intersectRay:S,intersectRayClosestSilhouette:function(t,n,r){if(S(t,n,r))return r;const e=q(t,n,b.rq.get());return(0,s.g)(r,n.origin,(0,s.h)(b.rq.get(),n.direction,(0,s.j)(n.origin,e)/(0,s.l)(n.direction))),r},normal:w,projectPoint:A,projectPointLocal:P,rotate:function(t,n,r,e){return t!==e&&M(t,e),(0,u.$0)(z,n,r),(0,s.t)(e.basis1,t.basis1,z),(0,s.t)(e.basis2,t.basis2,z),N(e),e},setAltitudeAt:function(t,n,r,e){const i=j(t,n),o=(0,s.h)(x,w(t),r-i);return(0,s.g)(e,n,o),e},setExtent:function(t,n,r){return T(n,r),E(r,j(t,t.origin),r),r},transform:function(t,n,r){return t!==r&&M(t,r),(0,u.B8)(Y,n),(0,u.mg)(Y,Y),(0,s.t)(r.basis1,t.basis1,Y),(0,s.t)(r.basis2,t.basis2,Y),(0,s.t)((0,d.Qj)(r.plane),(0,d.Qj)(t.plane),Y),(0,s.t)(r.origin,t.origin,n),(0,d.mP)(r.plane,r.plane,r.origin),r},up:L,updateUnboundedPlane:N,wrap:function(t,n,r){const e=k.get();return e.origin=t,e.basis1=n,e.basis2=r,e.plane=(0,d.LV)(0,0,0,0),N(e),e}},Symbol.toStringTag,{value:"Module"}))},3800:function(t,n,r){r.d(n,{a:function(){return E},c:function(){return b},e:function(){return p},f:function(){return T},g:function(){return N},k:function(){return O},l:function(){return M},m:function(){return _},n:function(){return q},o:function(){return L},p:function(){return w},s:function(){return x},w:function(){return m}});r(6273),r(80861);var e=r(4506),i=r(25336),o=r(80347),u=r(19913),c=r(74772),s=r(76982),a=r(78115),f=r(60929),l=r(63918);function g(t,n){const r=(0,o.l)(t),i=(0,e.YN)(t[2]/r),u=Math.atan2(t[1]/r,t[0]/r);return(0,o.i)(n,r,i,u),n}var d=r(74695),h=r(11631);const I=b();function b(){return(0,s.vt)()}const _=c.e,v=c.e;function p(t,n){return(0,c.c)(n,t)}function M(t,n){return(0,s.fA)(t[0],t[1],t[2],n)}function m(t){return t}function N(t){return t[3]}function E(t){return t}function T(t,n,r,e){return(0,s.fA)(t,n,r,e)}function S(t,n,r){if(null==n)return!1;if(!A(t,n,y))return!1;let{t0:e,t1:i}=y;if((e<0||i<e&&i>0)&&(e=i),e<0)return!1;if(r){const{origin:t,direction:i}=n;r[0]=t[0]+i[0]*e,r[1]=t[1]+i[1]*e,r[2]=t[2]+i[2]*e}return!0}function q(t,n,r){const e=(0,l.Cr)(n,r);if(!A(t,e,y))return[];const{origin:i,direction:c}=e,{t0:s,t1:f}=y,g=n=>{const r=(0,u.vt)();return(0,o.b)(r,i,c,n),w(t,r,r)};return Math.abs(s-f)<(0,a.FD)()?[g(s)]:[g(s),g(f)]}const y={t0:0,t1:0};function A(t,n,r){const{origin:e,direction:i}=n,o=P;o[0]=e[0]-t[0],o[1]=e[1]-t[1],o[2]=e[2]-t[2];const u=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===u)return!1;const c=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),s=c*c-4*u*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(s<0)return!1;const a=Math.sqrt(s);return r.t0=(-c-a)/(2*u),r.t1=(-c+a)/(2*u),!0}const P=(0,u.vt)();function O(t,n){return S(t,n,null)}function j(t,n,r){const e=h.rq.get(),u=h.Rc.get();(0,o.e)(e,n.origin,n.direction);const c=N(t);(0,o.e)(r,e,n.origin),(0,o.h)(r,r,1/(0,o.l)(r)*c);const s=R(t,n.origin),a=(0,d.g7)(n.origin,r);return(0,i.$0)(u,a+s,e),(0,o.t)(r,r,u),r}function w(t,n,r){const e=(0,o.d)(h.rq.get(),n,t),i=(0,o.h)(h.rq.get(),e,t[3]/(0,o.l)(e));return(0,o.g)(r,i,t)}function R(t,n){const r=(0,o.d)(h.rq.get(),n,t),i=(0,o.l)(r),u=N(t),c=u+Math.abs(u-i);return(0,e.XM)(u/c)}const C=(0,u.vt)();function V(t,n,r,e){const i=(0,o.d)(C,n,t);switch(r){case f._.X:{const t=g(i,C)[2];return(0,o.i)(e,-Math.sin(t),Math.cos(t),0)}case f._.Y:{const t=g(i,C),n=t[1],r=t[2],u=Math.sin(n);return(0,o.i)(e,-u*Math.cos(r),-u*Math.sin(r),Math.cos(n))}case f._.Z:return(0,o.n)(e,i);default:return}}function D(t,n){const r=(0,o.d)(F,n,t);return(0,o.l)(r)-t[3]}function L(t,n){const r=(0,o.s)(t,n),e=N(t);return r<=e*e}const F=(0,u.vt)(),U=b(),x=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:I,altitudeAt:D,angleToSilhouette:R,axisAt:V,cameraFrustumCoverage:function(t,n,r,e){const i=N(t),o=i*i,u=n+.5*Math.PI,c=r*r+o-2*Math.cos(u)*r*i,s=Math.sqrt(c),a=c-o;if(a<=0)return.5;const f=Math.sqrt(a),l=Math.acos(f/s)-Math.asin(i/(s/Math.sin(u)));return Math.min(1,(l+.5*e)/e)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,n,r){return S(t,n,r)?r:((0,l.oC)(n,t,r),w(t,r,r))},closestPointOnSilhouette:j,containsPoint:L,copy:p,create:b,distanceToSilhouette:function(t,n){const r=(0,o.d)(h.rq.get(),n,t),e=(0,o.k)(r),i=t[3]*t[3];return Math.sqrt(Math.abs(e-i))},elevate:function(t,n,r){return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=t[3]+n,r},equals:v,exactEquals:_,fromCenterAndRadius:M,fromRadius:function(t,n){return t[0]=t[1]=t[2]=0,t[3]=n,t},fromValues:T,getCenter:E,getExtent:function(t,n){return n},getRadius:N,intersectLine:q,intersectRay:S,intersectRayClosestSilhouette:function(t,n,r){if(S(t,n,r))return r;const e=j(t,n,h.rq.get());return(0,o.g)(r,n.origin,(0,o.h)(h.rq.get(),n.direction,(0,o.j)(n.origin,e)/(0,o.l)(n.direction))),r},intersectsRay:O,projectPoint:w,setAltitudeAt:function(t,n,r,e){const i=D(t,n),u=V(t,n,f._.Z,F),c=(0,o.h)(F,u,r-i);return(0,o.g)(e,n,c)},setExtent:function(t,n,r){return t!==r&&p(t,r),r},tmpSphere:U,union:function(t,n,r=(0,s.vt)()){const e=(0,o.j)(t,n),i=t[3],u=n[3];return e+u<i?((0,c.c)(r,t),r):e+i<u?((0,c.c)(r,n),r):((0,o.m)(r,t,n,(e+u-i)/(2*e)),r[3]=(e+i+u)/2,r)},wrap:m},Symbol.toStringTag,{value:"Module"}))},82444:function(t,n,r){r.d(n,{I:function(){return i}});var e=r(71709);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,e.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}const o=1024},79441:function(t,n,r){function e(){return[1,0,0,0,1,0,0,0,1]}function i(t,n,r,e,i,o,u,c,s){return[t,n,r,e,i,o,u,c,s]}r.d(n,{fA:function(){return i},vt:function(){return e},zK:function(){return o}});const o=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:e,createView:function(t,n){return new Float64Array(t,n,9)},fromValues:i},Symbol.toStringTag,{value:"Module"}))},26110:function(t,n,r){function e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}r.d(n,{o8:function(){return i},vt:function(){return e},zK:function(){return o}});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:e,createView:function(t,n){return new Float64Array(t,n,16)},fromValues:function(t,n,r,e,i,o,u,c,s,a,f,l,g,d,h,I){return[t,n,r,e,i,o,u,c,s,a,f,l,g,d,h,I]}},Symbol.toStringTag,{value:"Module"}))},19165:function(t,n,r){function e(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}r.d(n,{o8:function(){return i},vt:function(){return e},zK:function(){return o}});const o=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:e,fromValues:function(t,n,r,e){return[t,n,r,e]}},Symbol.toStringTag,{value:"Module"}))},94669:function(t,n,r){r.d(n,{Cr:function(){return a},H6:function(){return g},_I:function(){return l},kb:function(){return f},vt:function(){return s}});var e=r(4506),i=r(82444),o=r(80347),u=r(19913),c=r(11631);function s(t){return t?{origin:(0,u.o8)(t.origin),vector:(0,u.o8)(t.vector)}:{origin:(0,u.vt)(),vector:(0,u.vt)()}}function a(t,n,r=s()){return(0,o.c)(r.origin,t),(0,o.d)(r.vector,n,t),r}function f(t,n){const r=(0,o.d)(c.rq.get(),n,t.origin),i=(0,o.f)(t.vector,r),u=(0,o.f)(t.vector,t.vector),s=(0,e.qE)(i/u,0,1),a=(0,o.d)(c.rq.get(),(0,o.h)(c.rq.get(),t.vector,s),r);return(0,o.f)(a,a)}function l(t,n,r){return g(t,n,0,1,r)}function g(t,n,r,i,u){const{vector:s,origin:a}=t,f=(0,o.d)(c.rq.get(),n,a),l=(0,o.f)(s,f)/(0,o.k)(s);return(0,o.h)(u,s,(0,e.qE)(l,r,i)),(0,o.g)(u,u,t.origin)}(0,u.vt)(),(0,u.vt)(),new i.I((()=>s()))},87368:function(t,n,r){r.d(n,{C:function(){return l},Cr:function(){return I},Io:function(){return w},LV:function(){return f},O_:function(){return h},Qj:function(){return g},T7:function(){return y},Tj:function(){return P},U5:function(){return S},Ui:function(){return q},Z1:function(){return j},_I:function(){return O},fA:function(){return d},gv:function(){return A},lU:function(){return b},mN:function(){return R},mP:function(){return E},mR:function(){return T},vt:function(){return a}});var e=r(4506),i=r(80347),o=r(19913),u=(r(74772),r(74695)),c=r(11631),s=r(45773);function a(t=L){return[t[0],t[1],t[2],t[3]]}function f(t=L[0],n=L[1],r=L[2],e=L[3]){return d(t,n,r,e,c.Km.get())}function l(t,n){return d(n[0],n[1],n[2],n[3],t)}function g(t){return t}function d(t,n,r,e,i=a()){return i[0]=t,i[1]=n,i[2]=r,i[3]=e,i}function h(t,n,r){const e=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],i=Math.abs(e-1)>1e-5&&e>1e-12?1/Math.sqrt(e):1;return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function I(t,n,r,e=a()){const i=r[0]-n[0],o=r[1]-n[1],u=r[2]-n[2],c=t[0]-n[0],s=t[1]-n[1],f=t[2]-n[2],l=o*f-u*s,g=u*c-i*f,d=i*s-o*c,h=l*l+g*g+d*d,I=Math.abs(h-1)>1e-5&&h>1e-12?1/Math.sqrt(h):1;return e[0]=l*I,e[1]=g*I,e[2]=d*I,e[3]=-(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]),e}function b(t,n,r,e=0,o=Math.floor(r*(1/3)),u=Math.floor(r*(2/3))){if(r<3)return!1;n(v,e);let c=o,s=!1;for(;c<r-1&&!s;)n(p,c),c++,s=!(0,i.p)(v,p);if(!s)return!1;for(c=Math.max(c,u),s=!1;c<r&&!s;)n(M,c),c++,(0,i.d)(m,v,p),(0,i.n)(m,m),(0,i.d)(N,p,M),(0,i.n)(N,N),s=!(0,i.p)(v,M)&&!(0,i.p)(p,M)&&Math.abs((0,i.f)(m,N))<_;return s?(I(v,p,M,t),!0):(0!==e||1!==o||2!==u)&&b(t,n,r,0,1,2)}const _=.99619469809,v=(0,o.vt)(),p=(0,o.vt)(),M=(0,o.vt)(),m=(0,o.vt)(),N=(0,o.vt)();function E(t,n,r){return n!==t&&l(t,n),t[3]=-(0,i.f)(t,r),t}function T(t,n,r,e){return(0,i.e)(M,n,t),h(r,M,e)}function S(t,n,r,e){return V(D(t,n,(0,i.d)(c.rq.get(),r,n),U,e))}function q(t,n,r){return null!=n&&V(D(t,n.origin,n.direction,x,r))}function y(t,n,r){return V(D(t,n.origin,n.vector,F.NONE,r))}function A(t,n,r){return V(D(t,n.origin,n.vector,F.CLAMP,r))}function P(t,n){return R(t,n)>=0}function O(t,n,r){const e=(0,i.h)(c.rq.get(),t,-t[3]),o=function(t,n,r){const e=(0,i.h)(c.rq.get(),t,(0,i.f)(t,n));return(0,i.d)(r,n,e),r}(t,(0,i.d)(c.rq.get(),n,e),c.rq.get());return(0,i.g)(r,o,e),r}function j(t,n,r,e){const o=t,a=c.rq.get(),f=c.rq.get();(0,s.VV)(o,a,f);const l=(0,i.d)(c.rq.get(),r,n),g=(0,u.gr)(a,l),d=(0,u.gr)(f,l),h=(0,u.gr)(o,l);return(0,i.i)(e,g,d,h)}function w(t,n){return Math.abs(R(t,n))}function R(t,n){return(0,i.f)(t,n)+t[3]}var C;function V(t){return t===C.INTERSECTS_INSIDE_OUT||t===C.INTERSECTS_OUTSIDE_IN}function D(t,n,r,o,u){const c=(0,i.f)(t,r),s=R(t,n);if(0===c)return s>=0?C.INSIDE:C.OUTSIDE;let a=-s/c;return o&F.CLAMP&&(a=(0,e.qE)(a,0,1)),!(o&F.INFINITE_MIN)&&a<0||!(o&F.INFINITE_MAX)&&a>1?s>=0?C.INSIDE:C.OUTSIDE:((0,i.g)(u,n,(0,i.h)(u,r,a)),s>=0?C.INTERSECTS_INSIDE_OUT:C.INTERSECTS_OUTSIDE_IN)}!function(t){t[t.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",t[t.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",t[t.INSIDE=2]="INSIDE",t[t.OUTSIDE=3]="OUTSIDE"}(C||(C={}));const L=[0,0,1,0];var F;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(F||(F={}));const U=F.INFINITE_MIN|F.INFINITE_MAX,x=F.INFINITE_MAX},63918:function(t,n,r){r.d(n,{C:function(){return l},Cr:function(){return g},LV:function(){return f},kb:function(){return d},oC:function(){return h},vt:function(){return s}});r(3223);var e=r(82444),i=(r(82541),r(79441)),o=r(80347),u=r(19913),c=r(11631);function s(t){return t?a((0,u.o8)(t.origin),(0,u.o8)(t.direction)):a((0,u.vt)(),(0,u.vt)())}function a(t,n){return{origin:t,direction:n}}function f(t,n){const r=I.get();return r.origin=t,r.direction=n,r}function l(t,n=s()){return function(t,n,r=s()){return(0,o.c)(r.origin,t),(0,o.c)(r.direction,n),r}(t.origin,t.direction,n)}function g(t,n,r=s()){return(0,o.c)(r.origin,t),(0,o.d)(r.direction,n,t),r}function d(t,n){const r=(0,o.e)(c.rq.get(),(0,o.n)(c.rq.get(),t.direction),(0,o.d)(c.rq.get(),n,t.origin));return(0,o.f)(r,r)}function h(t,n,r){const e=(0,o.f)(t.direction,(0,o.d)(r,n,t.origin));return(0,o.g)(r,t.origin,(0,o.h)(r,t.direction,e)),r}const I=new e.I((()=>s()));(0,u.vt)(),(0,u.vt)(),(0,u.vt)(),(0,i.vt)()},74695:function(t,n,r){r.d(n,{EJ:function(){return s},g7:function(){return c},gr:function(){return u}});var e=r(4506),i=r(80347),o=r(19913);function u(t,n){return(0,i.f)(t,n)/(0,i.l)(t)}function c(t,n){const r=(0,i.f)(t,n)/((0,i.l)(t)*(0,i.l)(n));return-(0,e.XM)(r)}function s(t,n,r){(0,i.n)(a,t),(0,i.n)(f,n);const o=(0,i.f)(a,f),u=(0,e.XM)(o),c=(0,i.e)(a,a,f);return(0,i.f)(c,r)<0?2*Math.PI-u:u}const a=(0,o.vt)(),f=(0,o.vt)()},11631:function(t,n,r){r.d(n,{Rc:function(){return h},J8:function(){return I},oG:function(){return l},rq:function(){return g},Km:function(){return d}});r(6273);var e=r(71709),i=r(79441),o=r(26110),u=r(19165),c=r(56560),s=r(19913),a=r(76982);class f{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,e.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new f(c.vt)}static createVec3f64(){return new f(s.vt)}static createVec4f64(){return new f(a.vt)}static createMat3f64(){return new f(i.vt)}static createMat4f64(){return new f(o.vt)}static createQuatf64(){return new f(u.vt)}get test(){}}const l=f.createVec2f64(),g=f.createVec3f64(),d=f.createVec4f64(),h=(f.createMat3f64(),f.createMat4f64()),I=f.createQuatf64()},45773:function(t,n,r){r.d(n,{VV:function(){return c},hG:function(){return o},wp:function(){return u}});r(4506);var e=r(80347),i=r(19913);function o(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],r=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],e=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,r,e))}function u(t,n){const r=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),i=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),o=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return(0,e.i)(t,r,i,o),t}function c(t,n,r){Math.abs(t[0])>Math.abs(t[1])?(0,e.i)(n,0,1,0):(0,e.i)(n,1,0,0),(0,e.e)(r,t,n),(0,e.e)(n,r,t),(0,e.n)(r,r),(0,e.n)(n,n)}(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)()},30165:function(t,n,r){var e,i;r.d(n,{dz:function(){return e},oH:function(){return i}}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(e||(e={}));!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(i||(i={}))},76388:function(t,n,r){r.d(n,{HE:function(){return e},R6:function(){return i}});r(19913);class e{constructor(t){this.layerUid=t}}class i extends e{constructor(t,n){super(t),this.graphicUid=n}}},2680:function(t,n,r){r.d(n,{i3:function(){return i}});r(80347);var e=r(19913);r(7775),r(30165);function i(t){return null!=t?.dist}(0,e.vt)()},62847:function(t,n,r){r.d(n,{h:function(){return i}});r(30165);var e=r(76388);r(2680);class i extends e.R6{constructor(t,n,r,e,i,o){super(t,n),this.layerUid=t,this.graphicUid=n,this.geometryId=r,this.triangleNr=e,this.baseBoundingSphere=i,this.numLodLevels=o}}}}]);
//# sourceMappingURL=6626.b20e71955f15b495ca48.js.map