"use strict";
(self["webpackChunkreact_redux_arcgis_boilerplate"] = self["webpackChunkreact_redux_arcgis_boilerplate"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_graphics_pipeline_Feature3DPipelineWorker_js-2b75a0"],{

/***/ "./node_modules/@arcgis/core/geometry/support/coordinateSystem.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/coordinateSystem.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   altitudeAt: function() { return /* binding */ G; },
/* harmony export */   axisAt: function() { return /* binding */ S; },
/* harmony export */   closestPoint: function() { return /* binding */ y; },
/* harmony export */   closestPointOnSilhouette: function() { return /* binding */ C; },
/* harmony export */   coordinateSystemFromOneAxisAndNormalVector: function() { return /* binding */ z; },
/* harmony export */   create: function() { return /* binding */ h; },
/* harmony export */   createFromOperations: function() { return /* binding */ x; },
/* harmony export */   createGlobal: function() { return /* binding */ b; },
/* harmony export */   createLocal: function() { return /* binding */ P; },
/* harmony export */   distanceToSilhouette: function() { return /* binding */ U; },
/* harmony export */   elevate: function() { return /* binding */ Z; },
/* harmony export */   fromValues: function() { return /* binding */ A; },
/* harmony export */   getExtent: function() { return /* binding */ d; },
/* harmony export */   intersectRay: function() { return /* binding */ k; },
/* harmony export */   intersectRayClosestSilhouette: function() { return /* binding */ E; },
/* harmony export */   normalAt: function() { return /* binding */ R; },
/* harmony export */   renderSRFromViewSR: function() { return /* binding */ B; },
/* harmony export */   setAltitudeAt: function() { return /* binding */ O; },
/* harmony export */   setAltitudeOfTransformation: function() { return /* binding */ T; },
/* harmony export */   setExtent: function() { return /* binding */ j; },
/* harmony export */   vectorCoordinates: function() { return /* binding */ w; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../spatialReferenceEllipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js");
/* harmony import */ var _Axis_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Axis.js */ "./node_modules/@arcgis/core/geometry/support/Axis.js");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/boundedPlane.js */ "./node_modules/@arcgis/core/chunks/boundedPlane.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function h(t){const{value:e,operations:n}=t;return{operations:n,value:n.create(e)}}function j(t,e,n){return t.operations.setExtent(t.value,e,n.value),n}function d(t,e){return t.operations.getExtent(t.value,e),e}function x(t){return{operations:t,value:t.create()}}function A(t,e,n=x(t)){return n.operations=t,t.copy(e,n.value),n}function b(t){return A(_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_8__.s,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_8__.f)(0,0,0,(0,_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_3__.getReferenceEllipsoid)(t).radius))}const g=2**50;function P(){return A(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_7__.b,(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_7__.f)([0,0,0],[g,0,0],[0,g,0]))}function R(t,e,n){return t.operations.axisAt(t.value,e,_Axis_js__WEBPACK_IMPORTED_MODULE_6__.Axis.Z,n)}function S(t,e,n,o){return t.operations.axisAt(t.value,e,n,o)}function k(t,e,n){return t.operations.intersectRay(t.value,e,n)}function y(t,e,n){return t.operations.closestPoint(t.value,e,n)}function E(t,e,n){return t.operations.intersectRayClosestSilhouette(t.value,e,n)}function C(t,e,n){return t.operations.closestPointOnSilhouette(t.value,e,n)}function U(t,e){return t.operations.distanceToSilhouette(t.value,e)}function G(t,e){return t.operations.altitudeAt(t.value,e)}function O(t,e,n,o){return t.operations.setAltitudeAt(t.value,e,n,o)}function T(n,o,r,i){return o!==i&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.copy)(i,o),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.i)(q,i[12],i[13],i[14]),O(n,q,r,q),i[12]=q[0],i[13]=q[1],i[14]=q[2],i}function Z(t,e,n){return t.operations.elevate(t.value,e,n.value)}const q=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();function w(t,e,o,r,i){return i[0]=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.f)(t,e),i[1]=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.f)(t,o),i[2]=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.f)(t,r),i}function z(t,e,n,u,a){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.c)(n,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.c)(D,e),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.n)(D,D),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.e)(u,D,n),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.e)(a,u,n)}function B(t,e){return t?(0,_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_5__.getSphericalPCPF)(e):e.isGeographic?_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"].PlateCarree:e}const D=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/operations/urlUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/operations/urlUtils.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mapParameters: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(n){const o={};for(const e in n){if("declaredClass"===e)continue;const r=n[e];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else"object"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/operations/query.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/operations/query.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   encodeGeometry: function() { return /* binding */ m; },
/* harmony export */   executeQuery: function() { return /* binding */ c; },
/* harmony export */   executeQueryForCount: function() { return /* binding */ S; },
/* harmony export */   executeQueryForExtent: function() { return /* binding */ x; },
/* harmony export */   executeQueryForIds: function() { return /* binding */ p; },
/* harmony export */   executeQueryPBF: function() { return /* binding */ f; },
/* harmony export */   executeQueryPBFBuffer: function() { return /* binding */ d; },
/* harmony export */   queryToQueryStringParameters: function() { return /* binding */ y; },
/* harmony export */   runQuery: function() { return /* binding */ E; }
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../operations/urlUtils.js */ "./node_modules/@arcgis/core/rest/operations/urlUtils.js");
/* harmony import */ var _pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pbfQueryUtils.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js");
/* harmony import */ var _queryZScale_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./queryZScale.js */ "./node_modules/@arcgis/core/rest/query/operations/queryZScale.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const s="Layer does not support extent calculation.";function m(t,e){if(e&&"extent"===t.type)return`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`;if(e&&"point"===t.type)return`${t.x},${t.y}`;const n=t.toJSON();return delete n.spatialReference,JSON.stringify(n)}function y(t,e){const n=t.geometry,i=t.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const o=i;let u,l,s;if(null!=n&&(l=n.spatialReference,s=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.srToRESTValue)(l),o.geometryType=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.getJsonType)(n),o.geometry=m(n,t.compactGeometryEnabled),o.inSR=s),i.groupByFieldsForStatistics&&(o.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds&&(o.objectIds=i.objectIds.join(",")),i.orderByFields&&(o.orderByFields=i.orderByFields.join(",")),!i.outFields||!i.returnDistinctValues&&(e?.returnCountOnly||e?.returnExtentOnly||e?.returnIdsOnly)?delete o.outFields:i.outFields.includes("*")?o.outFields="*":o.outFields=i.outFields.join(","),i.outSR?(o.outSR=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.srToRESTValue)(i.outSR),u=t.outSpatialReference):n&&(i.returnGeometry||i.returnCentroid)&&(o.outSR=o.inSR,u=l),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(o.outStatistics=JSON.stringify(i.outStatistics)),i.fullText&&(o.fullText=JSON.stringify(i.fullText)),i.pixelSize&&(o.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(t.defaultSpatialReferenceEnabled&&null!=l&&null!=t.quantizationParameters?.extent&&l.equals(t.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,o.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(o.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(o.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(o.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const t=i.timeExtent,{start:e,end:n}=t;null==e&&null==n||(o.time=e===n?e:`${e??"null"},${n??"null"}`),delete i.timeExtent}return t.defaultSpatialReferenceEnabled&&null!=l&&null!=u&&l.equals(u)&&(o.defaultSR=o.inSR,delete o.inSR,delete o.outSR),o}async function c(t,e,n,r){const i=null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await E(t,e,"json",r);return (0,_queryZScale_js__WEBPACK_IMPORTED_MODULE_7__.applyFeatureSetZUnitScaling)(e,n,i.data),i}async function f(t,e,n,r){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:n.createFeatureResult()};const i=await d(t,e,r),a=i;return a.data=(0,_pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_6__.parsePBFFeatureQuery)(i.data,n),a}function d(t,e,n){return E(t,e,"pbf",n)}function p(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):E(t,e,"json",n,{returnIdsOnly:!0})}function S(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):E(t,e,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}async function x(t,e,n){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:{count:0,extent:null}};const r=await E(t,e,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}),i=r.data;if(i.hasOwnProperty("extent"))return r;if(i.features)throw new Error(s);if(i.hasOwnProperty("count"))throw new Error(s);return r}async function E(r,a,u,l={},s={}){const m="string"==typeof r?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.urlToObject)(r):r,c=a.geometry?[a.geometry]:[],f=await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeCentralMeridian)(c,null,{signal:l.signal}),d=f?.[0];null!=d&&((a=a.clone()).geometry=d);const p=(0,_operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.mapParameters)({...m.query,f:u,...s,...y(a,s)});return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.join)(m.path,g(a,s)?"query3d":"query"),{...l,responseType:"pbf"===u?"array-buffer":"json",query:{...p,...l.query}})}function g(t,e){return null!=t.formatOf3DObjects&&!(e.returnCountOnly||e.returnExtentOnly||e.returnIdsOnly)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipelineWorker.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipelineWorker.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _Tile3DManager_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Tile3DManager.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile3DManager.js");
/* harmony import */ var _featureSet_TiledFeatureStore_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./featureSet/TiledFeatureStore.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/TiledFeatureStore.js");
/* harmony import */ var _fetching_Tile3DFetcher_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./fetching/Tile3DFetcher.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/fetching/Tile3DFetcher.js");
/* harmony import */ var _rendering_RenderCommandContext_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./rendering/RenderCommandContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandContext.js");
/* harmony import */ var _symbolization_Symbolizer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./symbolization/Symbolizer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/Symbolizer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let p=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"].EventedAccessor{constructor(){super(...arguments),this.remoteClient=null,this._featureStore=new _featureSet_TiledFeatureStore_js__WEBPACK_IMPORTED_MODULE_13__.TiledFeatureStore,this._tileManager=new _Tile3DManager_js__WEBPACK_IMPORTED_MODULE_12__.Tile3DManager({addTile:(e,t)=>this._addTile(e,t),removeTiles:e=>this._removeTiles(e)}),this._renderCommandContext=null,this._fetcher=null,this._symbolizer=null,this._queryEngine=null,this._defaultQueryJSON=null}get updating(){return this._tileManager.updating}destroy(){this._featureStore.clear(),this._tileManager.destroy()}async setup({viewSpatialReference:e,renderSpatialReference:t,viewingMode:r,baseQuery:n,url:o,objectIdField:c,capabilities:d,fieldsIndex:p,timeInfo:f}){this._renderCommandContext=new _rendering_RenderCommandContext_js__WEBPACK_IMPORTED_MODULE_15__.RenderCommandContext({viewingMode:r,dispatchRenderCommandsCallback:(e,t)=>this.remoteClient.invoke("dispatchRenderCommands",e,{transferList:t})});const g=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(e),S=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(t);return this._fetcher=new _fetching_Tile3DFetcher_js__WEBPACK_IMPORTED_MODULE_14__.Tile3DFetcher(g,_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(n),o,c,d),this._symbolizer=new _symbolization_Symbolizer_js__WEBPACK_IMPORTED_MODULE_16__.Symbolizer({viewSpatialReference:g,renderSpatialReference:S,viewingMode:r}),this._queryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_10__.QueryEngine({hasZ:!0,hasM:!1,geometryType:"esriGeometryPoint",objectIdField:c,fieldsIndex:p,availableFields:[c],spatialReference:e,featureStore:this._featureStore,timeInfo:f}),this._defaultQueryJSON=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__["default"]({outSpatialReference:g}).toJSON(),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.updating),(async e=>{this.emit("notify-updating",{updating:e})})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),_}async executeQuery(e,t){return{result:await this._queryEngine.executeQuery(this._ensureQuery(e),t)}}async executeQueryForIds(e,t){const r=await this._queryEngine.executeQueryForIdSet(this._ensureQuery(e),t);return{result:Array.from(r)}}async executeQueryForCount(e,t){return{result:await this._queryEngine.executeQueryForCount(this._ensureQuery(e),t)}}async executeQueryForExtent(e,t){return{result:await this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t)}}async executeQueryForLatestObservations(e,t){return{result:await this._queryEngine.executeQueryForLatestObservations(this._ensureQuery(e),t)}}async onTileTreeChange(e){return await this._tileManager.onTileTreeChange(e),_}async _addTile(e,t){const i=await this._fetcher.fetch(e,t);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(t),this._featureStore.addTile(i);const s=this._renderCommandContext.createEncoder();return await this._symbolizer.add(i,s),await s.dispatch(),i}async _removeTiles(e){const t=this._renderCommandContext.createEncoder(),r=this._featureStore,i=this._symbolizer;for(const s of e)r.removeTile(s.tileId),await i.remove(s.tileId,t);await t.dispatch()}_ensureQuery(e){return e??this._defaultQueryJSON}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"updating",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.graphics.pipeline.Feature3DPipelineWorker")],p);const f=p,_={result:void 0};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tile: function() { return /* binding */ s; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(s,t){this.descriptor=s,this.pages=t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile3DManager.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile3DManager.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tile3DManager: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/ReactiveMap.js */ "./node_modules/@arcgis/core/core/ReactiveMap.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let a=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._removing=0,this._tiles=new _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_4__["default"]}destroy(){for(const e of this._tiles.values())e.remove();this._tiles.clear()}get updating(){if(this._removing>0)return!0;for(const e of this._tiles.values())if(!e.finished)return!0;return!1}async onTileTreeChange(e){const{added:o,removed:s}=e,t=this._tiles,i=[];for(const r of s){const e=t.get(r);null!=e&&(e.abort(),t.delete(r),i.push({tileId:r}))}for(const c of o)t.has(c.id)||t.set(c.id,(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.createTask)((e=>this._addTile(c,e))));await this._removeTiles(i)}async _addTile(e,o){const r=await this.addTile(e,o);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o),r}async _removeTiles(e){this._removing++,await this.removeTiles(e),this._removing--}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],a.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],a.prototype,"addTile",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],a.prototype,"removeTiles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],a.prototype,"_removing",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.layers.graphics.pipeline.Tile3DManager")],a);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureData.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureData.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureData: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/interfaces.js");
/* harmony import */ var _processingUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./processingUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(t,e,r=null){this._tile=t,this._numFeatures=e,this._partitionInfo=r}get partitionInfo(){return this._partitionInfo}get tile(){return this._tile}get numFeatures(){return this._numFeatures}get tileId(){return this._tile.descriptor.id}get objectIds(){if(null==this._objectIds)throw new Error("objectIds haven't been provisioned yet");return this._objectIds}get partitionIds(){if(null==this._partitionIds)throw new Error("partitionIds haven't been provisioned yet");return this._partitionIds}get mapCoordinates(){if(null==this._mapCoordinates)throw new Error("mapCoordinates haven't been provisioned yet");return this._mapCoordinates}get renderCoordinates(){if(null==this._renderCoordinates)throw new Error("renderCoordinates haven't been provisioned yet");return this._renderCoordinates}get tileCenterRenderCoordinates(){if(null==this._tileCenterRenderCoordinates)throw new Error("tileCenterRenderCoordinates hasn't been provisioned yet");return this._tileCenterRenderCoordinates}async provision(s,o){for(const a of s)switch(a){case _interfaces_js__WEBPACK_IMPORTED_MODULE_0__.FeatureDataItem.OBJECT_ID:if(this._objectIds)return;this._objectIds=await (0,_processingUtils_js__WEBPACK_IMPORTED_MODULE_1__.getObjectIds)(this);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_0__.FeatureDataItem.PARTITION_ID:if(this._partitionIds)return;this._partitionIds=new Uint32Array(this._numFeatures);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_0__.FeatureDataItem.GEOMETRY_MAP_COORDINATES:if(this._mapCoordinates)return;this._mapCoordinates=await (0,_processingUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMapCoordinates)(this);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_0__.FeatureDataItem.GEOMETRY_RENDER_COORDINATES:if(this._renderCoordinates)return;this._renderCoordinates=await (0,_processingUtils_js__WEBPACK_IMPORTED_MODULE_1__.getRenderCoordinates)(this,o);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_0__.FeatureDataItem.TILE_CENTER_RENDER_COORDINATES:if(this._tileCenterRenderCoordinates)return;this._tileCenterRenderCoordinates=await (0,_processingUtils_js__WEBPACK_IMPORTED_MODULE_1__.getTileCenterRenderCoordinates)(this,o);break;default:throw new Error("not implemented")}}dispose(){if(this.partitions){for(const t of this.partitions)t.dispose();this.partitions=void 0}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/interfaces.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/interfaces.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureDataItem: function() { return /* binding */ E; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var E;!function(E){E[E.OBJECT_ID=0]="OBJECT_ID",E[E.PARTITION_ID=1]="PARTITION_ID",E[E.GEOMETRY_MAP_COORDINATES=2]="GEOMETRY_MAP_COORDINATES",E[E.GEOMETRY_RENDER_COORDINATES=3]="GEOMETRY_RENDER_COORDINATES",E[E.TILE_CENTER_RENDER_COORDINATES=4]="TILE_CENTER_RENDER_COORDINATES"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/processingUtils.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getMapCoordinates: function() { return /* binding */ i; },
/* harmony export */   getObjectIds: function() { return /* binding */ a; },
/* harmony export */   getRenderCoordinates: function() { return /* binding */ c; },
/* harmony export */   getTileCenterRenderCoordinates: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
async function a(e,t){const{numFeatures:r,tile:o,partitionInfo:n}=e,{pages:a}=o;if(0===a.length||0===r)return new Uint32Array;const i=new Uint32Array(r);if(n){const e=a.reduce(((e,{featureCount:t})=>e+t),0),t=new Uint32Array(e);let o=0;for(const r of a)o=r.readAllObjectIds(t,o);const c=n.tileIndices;for(let n=0;n<r;++n){const e=t[c[n]];i[n]=e}}else{let e=0;for(const t of a)e=t.readAllObjectIds(i,e)}return i}async function i(e,t){const{numFeatures:r,tile:o,partitionInfo:n}=e,{pages:a}=o;if(0===a.length||0===r)return new Float64Array;const i=new Float64Array(3*r);if(n){const e=a.reduce(((e,{featureCount:t})=>e+t),0),t=new Float64Array(3*e);let o=0;for(const r of a)o=r.readAllCoordinates(t,o);const c=n.tileIndices;for(let n=0;n<r;++n){const e=c[n],r=t[3*e+0],o=t[3*e+1],a=t[3*e+2];i[3*n+0]=r,i[3*n+1]=o,i[3*n+2]=a}}else{let e=0;for(const t of a)e=t.readAllCoordinates(i,e)}return i}async function c(e,r){await e.provision([_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.FeatureDataItem.GEOMETRY_MAP_COORDINATES],r);const{numFeatures:o,tile:a,mapCoordinates:i}=e,{pages:c}=a;if(0===c.length||0===o)return new Float64Array;const s=r.viewSpatialReference,f=r.renderSpatialReference,l=new Float64Array(3*o);if(!(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__.projectBuffer)(i,s,0,l,f,0,o))throw new Error("Failed to project coordinates");return l}async function s(t,n){const a=n.viewSpatialReference,i=n.renderSpatialReference,c=t.tile.descriptor.extent,s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.center)(c),f=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();return (0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_2__.projectVectorToVector)([s[0],s[1],0],a,f,i),f}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/PBFPointFeatureSetView.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/PBFPointFeatureSetView.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PBFPointFeatureSetView: function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../rest/query/operations/pbfFeatureServiceParser.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class u{constructor(e){const r=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__["default"](new Uint8Array(e),new DataView(e));this._reader=r,this._index=g(r)}get featureCount(){return this._index.featureIndices.length}get exceededTransferLimit(){return this._index.exceededTransferLimit}getObjectId(e){return this.getAttribute(e,this._index.objectIdFieldName)}getAttribute(e,t){const{_index:{fieldsIndex:r,attributeIndices:s}}=this,n=r.get(t)?.index;if(null==n)return;const o=s[e*r.fields.length+n],i=this._reader;return i.move(o),m(i)}getAttributeAsTimestamp(e,t){const r=this.getAttribute(e,t);return"string"==typeof r?new Date(r).getTime():"number"==typeof r||null==r?r:null}getAttributes(e){const{_index:{fieldsIndex:t,attributeIndices:r}}=this,s=e*t.fields.length,n=this._reader,o={};for(const i of t.fields){const e=r[s+i.index];n.move(e),o[i.name]=m(n)}return o}getCoordinates(e,t,r=0){const s=this._reader,{transform:n,featureIndices:o}=this._index,{scale:i,translate:a}=n;s.move(o[e]),this._readCoordinates(i,a,t,r)}getOptimizedGeometry(e){const t=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();return this.getCoordinates(e,t),new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],t)}getCentroid(e,{hasZ:t,hasM:r}){this.getCoordinates(e,h);const[s,n,o]=h,a=[s,n];return t&&(a[3]=o),r&&(a[t?4:3]=0),new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],a)}getBounds(e){this.getCoordinates(e,h);const[t,r]=h,n=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_3__.BBox;return n.minX=t,n.minY=r,n.maxX=t,n.maxY=r,n}getBoundingBox(e){this.getCoordinates(e,h);const[t,r,s]=h;return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(t,r,s,t,r,s)}readAllObjectIds(e,t=0){const r=this._reader,{_index:s,featureCount:n}=this,{objectIdFieldName:o,attributeIndices:i,fieldsIndex:a}=s,c=a.get(o).index,d=a.fields.length;for(let u=0;u<n;++u){const s=i[u*d+c];r.move(s),e[t++]=m(r)}return t}readAllCoordinates(e,t=0){const r=this._reader,{transform:s,featureIndices:n}=this._index,{scale:o,translate:i}=s;for(const a of n)r.move(a),t=this._readCoordinates(o,i,e,t);return t}_readCoordinates([e,t,r],[s,n,o],i,a){const c=2,d=3,u=this._reader,g=u.getLength(),f=u.pos()+g;for(;u.pos()<f&&u.next();)switch(u.tag()){case c:{const c=u.getLength(),g=u.pos()+c;for(;u.pos()<g&&u.next();)if(u.tag()===d)u.getUInt32(),i[a++]=s+e*u.getSInt64(),i[a++]=n+t*u.getSInt64(),i[a++]=o+r*u.getSInt64();else u.skip();break}default:u.skip()}return a}}function g(e){const t=2;for(;e.next();){if(e.tag()===t)return f(e.getMessage());e.skip()}p()}function f(e){const t=1;for(;e.next();){if(e.tag()===t)return l(e.getMessage());e.skip()}p()}function l(e){const t=9,r=12,s=13,n=15,i=7,u=0,g=10,f=1,l=1;let m,h,x=!1,b=!1,I=0;const w=new Array,_=new Array,k=new Array;for(;e.next();)switch(e.tag()){case l:h=e.getString();break;case i:e.getEnum()!==u&&p();break;case t:x=e.getBool()??!1;break;case r:m=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeTransform)(e.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_8__.parseTransform));break;case s:{const t=e.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_8__.parseField);t.index=I++,w.push(t);break}case n:{_.push(e.pos());const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r&&e.next();)if(e.tag()===f)k.push(e.pos()),e.skip();else e.skip();break}case g:b=e.getBool()??!1;break;default:e.skip()}const j=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_7__["default"](w);return null!=m&&b&&null!=h&&j.has(h)||p(),{transform:m,exceededTransferLimit:x,fieldsIndex:j,objectIdFieldName:h,featureIndices:_,attributeIndices:k}}function p(){const t=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("pbf-parsing-failed","Error while parsing PBF",new Error);throw console.error(t),t}function m(e){const t=1,r=2,s=3,n=4,o=5,i=6,a=7,c=8,d=9,u=e.getLength(),g=e.pos()+u;for(;e.pos()<g&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case n:return e.getSInt32();case o:return e.getUInt32();case i:return e.getInt64();case a:return e.getUInt64();case c:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}const h=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/TiledFeatureStore.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/TiledFeatureStore.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureHandle: function() { return /* binding */ n; },
/* harmony export */   TiledFeatureStore: function() { return /* binding */ d; }
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../layers/graphics/centroid.js */ "./node_modules/@arcgis/core/layers/graphics/centroid.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{constructor(e,t){this._index=e,this._view=t}getObjectId(){return this._view.getObjectId(this._index)}getAttribute(e){return this._view.getAttribute(this._index,e)}getAttributeAsTimestamp(e){return this._view.getAttributeAsTimestamp(this._index,e)}getAttributes(){return this._view.getAttributes(this._index)}getOptimizedGeometry(){return this._view.getOptimizedGeometry(this._index)}getCentroid(e){return this._view.getCentroid(this._index,e)}getBounds(){return this._view.getBounds(this._index)}getBoundingBox(){return this._view.getBoundingBox(this._index)}cloneWithGeometry(e){return new o(this._index,this._view,e)}}class o extends n{constructor(e,t,i){super(e,t),this._geometryOverride=i}getOptimizedGeometry(){return this._geometryOverride}getCentroid(e){return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_2__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._geometryOverride,e.hasZ,e.hasM)}}class d{constructor(){this._storedTiles=new Map,this._pageBounds=new Map,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.featureAdapter=a.shared}addTile(e){this._storedTiles.set(e.descriptor.id,e);for(const t of e.pages)this._addPage(t)}removeTile(e){const t=this._storedTiles,i=t.get(e);if(null!=i){t.delete(e);for(const e of i.pages)this._removePage(e)}}_addPage(e){const{featureCount:i}=e;if(0===i)return;const r=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__.PooledRBush(9,(t=>e.getBounds(t))),s=new Array;for(let t=0;t<i;++t)s[t]=t;r.load(s),this._pageBounds.set(e,r),this.events.emit("changed")}_removePage(e){this._pageBounds.delete(e),this.events.emit("changed")}clear(){this._storedTiles.clear(),this._pageBounds.clear(),this.events.emit("changed")}forEach(e){for(const[t,i]of this._pageBounds)i.all((i=>e(new n(i,t))))}forEachInBounds(e,t){h.minX=e[0],h.minY=e[1],h.maxX=e[2],h.maxY=e[3];for(const[i,r]of this._pageBounds)r.search(h,(e=>t(new n(e,i))))}forEachBounds(e,t){for(const i of e)t(i.getBoundingBox())}getFullExtent(e){let t=1/0,i=1/0,r=-1/0,s=-1/0;for(const n of this._pageBounds.values()){const{minX:e,minY:o,maxX:d,maxY:a}=n.toJSON();t=Math.min(t,e),i=Math.min(i,o),r=Math.min(r,d),s=Math.min(s,a)}return{xmin:t,ymin:i,xmax:r,ymax:s,spatialReference:e}}}class a{getObjectId(e){return e.getObjectId()}getAttribute(e,t){return e.getAttribute(t)}getAttributeAsTimestamp(e,t){return e.getAttributeAsTimestamp(t)}getAttributes(e){return e.getAttributes()}getGeometry(e){return e.getOptimizedGeometry()}getCentroid(e,t){return e.getCentroid(t)}cloneWithGeometry(e,t){return e.cloneWithGeometry(t)}}a.shared=new a;const h=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__.BBox;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/fetching/Tile3DFetcher.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/fetching/Tile3DFetcher.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tile3DFetcher: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _Tile_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Tile.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile.js");
/* harmony import */ var _featureSet_PBFPointFeatureSetView_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../featureSet/PBFPointFeatureSetView.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureSet/PBFPointFeatureSetView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const i=8e3,a=4,n=4;class c{constructor(e,t,r,o,s){this.spatialReference=e,this.url=r,this.objectIdField=o,this.capabilities=s;const{supportsMaxRecordCountFactor:n,maxRecordCount:c}=this.capabilities.query,u=n?a:1,p=(c??i)*u;this._pageSize=Math.min(i,p);const l=t.clone();l.cacheHint=!0,l.resultType="tile",l.outSpatialReference=e,l.returnGeometry=!0,l.returnZ=!0,l.maxRecordCountFactor=u,l.num=this._pageSize,l.outFields=[o],this._baseQuery=l}async fetch(r,s){const{spatialReference:i}=this,a=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.toExtent)(r.extent,i),c=this._baseQuery.clone();c.geometry=a;const u=new Array;let p=0,l=!1,h=1;for(;!l;){const t=[];for(let e=0;e<h;++e)t.push(this._fetchPage(c,p++,s));const r=await Promise.all(t);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(s);for(const e of r){const t=0!==e.featureCount;l||=!e.exceededTransferLimit||!t,t&&u.push(e)}h=Math.min(h+1,n)}return new _Tile_js__WEBPACK_IMPORTED_MODULE_3__.Tile(r,u)}async _fetchPage(t,o,i){const a=t.clone();a.start=o*this._pageSize;const n=(await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_2__.executeQueryPBFBuffer)(this.url,a,{signal:i})).data;return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(i),new _featureSet_PBFPointFeatureSetView_js__WEBPACK_IMPORTED_MODULE_4__.PBFPointFeatureSetView(n)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/DirectRenderer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/DirectRenderer.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DirectRenderer: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../webgl-engine/effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _webgl_engine_lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../webgl-engine/lib/GLMaterials.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _webgl_engine_materials_DrawParameters_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../webgl-engine/materials/DrawParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js");
/* harmony import */ var _webgl_engine_materials_renderers_MergedRenderer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../webgl-engine/materials/renderers/MergedRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let m=class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_8__.SyncRenderPlugin{constructor(e){super(e),this._hasHighlights=!1,this._glMaterials=null,this._produces=new Map,this._renderGeometries=new Map,this._vaoCache=null,this._drawParameters=new _webgl_engine_materials_DrawParameters_js__WEBPACK_IMPORTED_MODULE_11__.DrawParameters,this._bufferWriter=null}get produces(){return this._produces}initialize(){this._bufferWriter=this.material.createBufferWriter(),this.material.produces.forEach(((e,r)=>{this._produces.set(r,(r=>!!(r!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_7__.ShaderOutput.Highlight&&r!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_7__.ShaderOutput.ShadowHighlight||this._hasHighlights)&&e(r)))}))}destroy(){this._glMaterials.dispose();const e=this._renderGeometries.keys();for(const r of e)this.removeRenderGeometry(r)}acquireTechniques(e){const r=this.material;if(!r.shouldRender(e))return null;const{output:t,bind:i}=e,o=r.produces.get(i.slot);if(!o?.(t))return null;if((t===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_7__.ShaderOutput.Highlight||t===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_7__.ShaderOutput.ShadowHighlight)&&!this._hasHighlights)return null;const a=this._glMaterials.load(e.rctx,i.slot,t);return a?.beginSlot(i)}render(e,r){const t=this._renderGeometries;if(0===t.size)return;const{bind:i}=e,s=i.slot===_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__.RenderSlot.OCCLUDER_MATERIAL||i.slot===_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_10__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL?i.slot:null,o=e.rctx;o.runAppleAmdDriverHelper(),o.bindTechnique(r,i,this.material.parameters);const a=r.program;for(const[n,l]of t)this._drawParameters.origin=l.localOrigin,a.bindDraw(i,this.material.parameters,this._drawParameters),r.ensureAttributeLocations(l.vao),o.bindVAO(l.vao),o.setPipelineState(r.getPipeline(!1,s)),o.drawArrays(r.primitiveType,0,l.numElements)}initializeRenderContext(e,r){this._glMaterials=new _webgl_engine_lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_9__.GLMaterials(this.material,e.materials);const t=e.renderContext.rctx.getVaoCache(this.material.vertexAttributeLocations,(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_6__.glLayout)(this._bufferWriter.vertexBufferLayout));this._vaoCache=t}uninitializeRenderContext(){}addRenderGeometry(e,r,t){this.removeRenderGeometry(e);const i=this._bufferWriter.vertexBufferLayout.stride,s=this._vaoCache.newVao((0,_webgl_engine_materials_renderers_MergedRenderer_js__WEBPACK_IMPORTED_MODULE_12__.sizeForVao)(r.data.byteLength));s.vertexBuffers.get("geometry").setSubData(new Uint8Array(r.data),0,0,r.elementCount*i);const o={localOrigin:t,vao:s,numElements:r.elementCount};return this._renderGeometries.set(e,o),o}removeRenderGeometry(e){const r=this._renderGeometries.get(e);null!=r&&(this._vaoCache.deleteVao(r.vao),this._renderGeometries.delete(e))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({constructOnly:!0})],m.prototype,"material",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.layers.graphics.pipeline.rendering.DirectRenderer")],m);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/FeaturePipelineRenderManager.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/FeaturePipelineRenderManager.js ***!
  \***************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeaturePipelineRenderManager: function() { return /* binding */ y; },
/* harmony export */   createDefaultMaterial: function() { return /* binding */ _; },
/* harmony export */   createHudMaterial: function() { return /* binding */ b; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _placementUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../placementUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js");
/* harmony import */ var _DirectRenderer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./DirectRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/DirectRenderer.js");
/* harmony import */ var _LodRenderer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./LodRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/LodRenderer.js");
/* harmony import */ var _support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../support/engineContent/sdfPrimitives.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/* harmony import */ var _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../webgl-engine/materials/HUDMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js");
/* harmony import */ var _webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../webgl-engine/materials/pbrUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let y=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(),this.view=null,this.layerUid=null,this._renderGeometries=new Map,this._materials=new Map,this._directRenderers=new Map,this._lodRenderers=new Map,this.view=e.view,this.layerUid=e.layerUid}initialize(){}destroy(){}async executeRenderCommands(e){for(const r of e)switch(r.id){case"create-material":await this._createMaterial(r);break;case"create-direct-renderer":await this._createDirectRenderer(r);break;case"add-direct-renderer-geometry":await this._addDirectRendererGeometry(r);break;case"remove-direct-renderer-geometry":await this._removeDirectRendererGeometry(r);break;case"create-lod-renderer":await this._createLodRenderer(r);break;case"add-lod-instances":await this._addLodInstances(r);break;case"remove-lod-instances":await this._removeLodInstances(r)}}async _createMaterial(e){const{view:r}=this,{sharedSymbolResources:s}=r;if(null==s)throw new Error("No shared symbol resources found!");const{textures:n}=s,a=r.state.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_11__.ViewingMode.Global;let d=null;switch(e.type){case"default":d=_(s,{physicalBasedRenderingEnabled:!0,slicePlaneEnabled:!1,castShadows:!0,isPrimitive:!0,screenSizePerspectiveEnabled:!0,doublePrecisionRequiresObfuscation:r._stage.renderView.renderingContext.driverTest.doublePrecisionRequiresObfuscation.result},a);break;case"hud":{const[e,r]=b(n,a);this.addHandles([(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.releaseMaybe)(r)))]),d=e}break;default:throw new Error(`unable to create unknown material type ${e.type}`)}this._materials.set(e.materialId,d)}_getMaterial(e){return this._materials.get(e)}async _createDirectRenderer(e){const r=e.materialId,t=this._getMaterial(r);if(null==t)throw new Error(`material not found ${r}`);const{view:i}=this,s=new _DirectRenderer_js__WEBPACK_IMPORTED_MODULE_13__.DirectRenderer({material:t});this._directRenderers.set(r,s),i._stage.addRenderPlugin(s),i._stage.renderView.renderer.updateHasFlags()}async _addDirectRendererGeometry(e){const r=e.renderGeometryId,t=e.materialId;null!=this._renderGeometries.get(r)&&await this._removeDirectRendererGeometry({renderGeometryId:r});const i=this._directRenderers.get(t);if(null==i)return void console.error("no renderer assigned to provided material");const s=i.addRenderGeometry(r,e.renderGeometryBuffer,e.localOrigin);this._renderGeometries.set(r,{renderGeometry:s,materialId:t}),this.view._stage.renderView.requestRender()}async _removeDirectRendererGeometry(e){const r=e.renderGeometryId,t=this._renderGeometries.get(r);if(null==t)return;const i=t.materialId,s=this._directRenderers.get(i);null!=s?s.removeRenderGeometry(e.renderGeometryId):console.error("no renderer assigned to provided material")}async _createLodRenderer(e){const r=new _LodRenderer_js__WEBPACK_IMPORTED_MODULE_14__.LodRenderer({view:this.view,layerUid:this.layerUid}),t=new AbortController,i=e=>this._getMaterial(e);await r.doLoad(e.lodRenderGeometry,i,t.signal),this._lodRenderers.set(e.lodRendererId,r)}async _addLodInstances(e){const r=this._lodRenderers.get(e.lodRendererId);if(null==r)throw new Error("no lod renderer assigned to provided lod renderer Id");r.addInstances(e.data)}async _removeLodInstances(e){const r=this._lodRenderers.get(e.lodRendererId);if(null==r)throw new Error("no lod renderer assigned to provided lod renderer Id");r.removeInstances(e.featureIds)}};function b(e,r){const t={anchorPosition:_placementUtils_js__WEBPACK_IMPORTED_MODULE_12__.namedAnchorToHUDMaterialAnchorPos.center,occlusionTest:!0,hasSlicePlane:!1},i=t,s=1;i.color=[1,0,0,1],i.outlineColor=[0,0,0,1],i.outlineSize=s;const n=null;if(null!=e){const r=e.fromData("circle-icon",(()=>(0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_15__.createTexture)("circle")));i.textureId=r.texture.id,i.textureIsSignedDistanceField=!0,i.sampleSignedDistanceFieldTexelCenter=(0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_15__.requiresHalfTexelOffset)("circle")}return i.distanceFieldBoundingBox=v,[new _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_18__.HUDMaterial(t,r),n]}function _(e,r,t){const i={usePBR:r.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_19__.schematicMRRFactors,ambient:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.ONES,diffuse:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.ONES,hasSlicePlane:r.slicePlaneEnabled,hasSliceHighlight:!1,castShadows:r.castShadows,offsetTransparentBackfaces:!r.isPrimitive};return R(i),r.screenSizePerspectiveEnabled&&(i.screenSizePerspective=e.screenSizePerspectiveSettings),i.externalColor=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.ONES,i.isInstanced=!0,new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_17__.DefaultMaterial(i,{spherical:t,doublePrecisionRequiresObfuscation:!0})}function R(e){const r=e.opacity??1,t=r<1;return e.transparent=t,e.opacity=r,e.cullFace=t?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_16__.CullFaceOptions.None:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_16__.CullFaceOptions.Back,e}y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.graphics.pipeline.rendering.FeaturePipelineRenderManager")],y);const v=[_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_15__.defaultSymbolSizeRatio/2,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_15__.defaultSymbolSizeRatio/2,1-_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_15__.defaultSymbolSizeRatio/2,1-_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_15__.defaultSymbolSizeRatio/2];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/LodRenderer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/LodRenderer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LodRenderer: function() { return /* binding */ c; },
/* harmony export */   isDefaultMaterial: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_lib_lodRendering_LodRenderer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../webgl-engine/lib/lodRendering/LodRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js");
/* harmony import */ var _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../webgl-engine/lib/lodRendering/LodResources.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodResources.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let c=class{constructor(e){this._optionalFields=new Array,this._instanceIndexToFeatureId=new Map,this._featureIdToInstanceIndex=new Map,this._disposeResourceHandles=new Array,this._lodRendererResources=null,this.layerUid=e.layerUid,this.view=e.view,this.sharedResources=this.view.sharedSymbolResources,this.scheduler=this.view.resourceController.scheduler}async doLoad(e,s,t){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:objectAndLayerId-rendering")&&this._optionalFields.push(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.OBJECTANDLAYERIDCOLOR);const i=u((e=>s(e)),e),d=this.view._stage,l=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_9__.materialsFromLodResources)(i);d.addMany(l),this._addDisposeResource((()=>d.removeMany(l)));const c=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_9__.texturesFromLodResources)(i);d.addMany(c),this._addDisposeResource((()=>{c.forEach((e=>e.unload())),d.removeMany(c)})),await Promise.all(c.map((e=>this.view._stage.schedule((()=>e.load(d.renderView.renderingContext)),t)))),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(t);const h=await this._createLodRenderer(i,t);this._lodRendererResources={lodRenderer:h,materials:l,textures:c}}addInstances(e){const r=this._lodRendererResources;if(null==r)return;const{featureIds:s,localTransforms:n,globalTransforms:t}=e,o=r.lodRenderer;if(null==o)return;const a=o.instanceData,i=s.length;for(let d=0;d<i;++d){const e=s[d],r=a.addInstance(),o=a.view,i=16*d;o.localTransform.copyFromTypedBuffer(r,n,i),o.globalTransform.copyFromTypedBuffer(r,t,i),a.updateModelTransform(r),a.setVisible(r,!0),this._instanceIndexToFeatureId.set(r,e),this._featureIdToInstanceIndex.set(e,r)}}removeInstances(e){const r=this._lodRendererResources;if(null==r)return;const s=r?.lodRenderer,n=s.instanceData,t=this._instanceIndexToFeatureId,o=this._featureIdToInstanceIndex,a=e.length;for(let i=0;i<a;++i){const r=e[i],s=o.get(r);null!=s&&(n.removeInstance(s),t.delete(s),o.delete(r))}}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createLodRenderer(e,r){const s=this.view._stage,n={layerUid:this.layerUid,graphicUid:e=>1,notifyGraphicGeometryChanged:e=>1,notifyGraphicVisibilityChanged:e=>1},o=new _webgl_engine_lib_lodRendering_LodRenderer_js__WEBPACK_IMPORTED_MODULE_8__.LodRenderer({symbol:e,optionalFields:this._optionalFields,metadata:n,shaderTransformation:null},this.scheduler);return o.slicePlaneEnabled=!1,this._addDisposeResource((()=>{s.removeRenderPlugin(o),o.destroy()})),await s.addRenderPlugin(o,r),o}};function u(e,r){const s=r.levels.map((r=>{const s=r.components.map((r=>{const s=e(r.materialId);if(!h(s))throw new Error("LodRenderer only supports DefaultMaterial");const n=s.createBufferWriter(),t={material:s,vertexBufferLayout:n.vertexBufferLayout,buffer:r.renderGeometryBuffer.data,elementCount:r.renderGeometryBuffer.elementCount,boundingInfo:r.boundingInfo};return new _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_9__.LodComponentResources(t)}));return new _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_9__.LodLevelResources(s,r.minScreenSpaceRadius)}));return new _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_9__.LodResources(s)}function h(e){return null!=e&&"materialType"in e&&"default"===e.materialType}c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.graphics.pipeline.rendering.LodRenderer")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandContext.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandContext.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderCommandContext: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _RenderCommandEncoder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RenderCommandEncoder.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandEncoder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(r){this._idCounter=0,this._bufferWriters=new Map,this._dispatchRenderCommandsCallback=async()=>{},this.globalViewingMode=!1,this.globalViewingMode=r.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_0__.ViewingMode.Global,this._dispatchRenderCommandsCallback=r.dispatchRenderCommandsCallback}generateId(e=""){return`${e}${this._idCounter++}`}createEncoder(){return new _RenderCommandEncoder_js__WEBPACK_IMPORTED_MODULE_1__.RenderCommandEncoder(this)}async dispatchRenderCommands(e,r){this._dispatchRenderCommandsCallback(e,r)}registerRenderGeometryBufferWriter(e,r){this._bufferWriters.set(e,r)}getRenderGeometryBufferWriter(e){return this._bufferWriters.get(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandEncoder.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderCommandEncoder.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderCommandEncoder: function() { return /* binding */ d; },
/* harmony export */   VertexAttribute: function() { return /* reexport safe */ _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute; }
/* harmony export */ });
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _FeaturePipelineRenderManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FeaturePipelineRenderManager.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/FeaturePipelineRenderManager.js");
/* harmony import */ var _RenderGeometryBufferWriter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RenderGeometryBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderGeometryBufferWriter.js");
/* harmony import */ var _webgl_engine_lib_BoundingInfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl-engine/lib/BoundingInfo.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class d{constructor(e){this._context=e,this._commands=[],this._transferables=new Set}createMaterial(e){const n=this._context,a=n.generateId("material");switch(e){case"default":{const e=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_5__.DefaultMaterial({},{spherical:this._context.globalViewingMode,doublePrecisionRequiresObfuscation:!0}),r=new _RenderGeometryBufferWriter_js__WEBPACK_IMPORTED_MODULE_2__.RenderGeometryBufferWriter(e);n.registerRenderGeometryBufferWriter(a,r)}break;case"hud":{const e=(0,_FeaturePipelineRenderManager_js__WEBPACK_IMPORTED_MODULE_1__.createHudMaterial)(null,this._context.globalViewingMode)[0],s=new _RenderGeometryBufferWriter_js__WEBPACK_IMPORTED_MODULE_2__.RenderGeometryBufferWriter(e);n.registerRenderGeometryBufferWriter(a,s)}}return this._commands.push({id:"create-material",type:e,materialId:a}),a}createDirectRenderer(e){const r=this._context.generateId("material-renderer");return this._commands.push({id:"create-direct-renderer",materialRendererId:r,materialId:e}),r}addDirectRendererGeometry(e,r,t){const n=r.materialId,a=this._context.getRenderGeometryBufferWriter(n);if(null==a)throw new Error(`no bufferwriter found for material ${n}`);const s=a.createBuffer(r,t);this._transferables.add(s.data),this._commands.push({id:"add-direct-renderer-geometry",renderGeometryId:e,materialId:n,renderGeometryBuffer:s,localOrigin:t})}removeDirectRendererGeometry(e){this._commands.push({id:"remove-direct-renderer-geometry",renderGeometryId:e})}createLodRenderer(r){const t=this._context.generateId("lod-renderer"),s={levels:r.levels.map((r=>({components:r.components.map((r=>{const t=r.attributes.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION);if(!t||0===t.indices.length)throw new Error("positions attribute expected");const s=3,d=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_0__.getContinuousIndexArray)(t.indices.length/s),i=new _webgl_engine_lib_BoundingInfo_js__WEBPACK_IMPORTED_MODULE_3__.BoundingInfo(d,s,t),o=this._context.getRenderGeometryBufferWriter(r.materialId);if(null==o)throw new Error("writer not found");const m=o.createBuffer(r,null);this._transferables.add(m.data);return{materialId:r.materialId,renderGeometryBuffer:m,boundingInfo:{bbMax:i.bbMax,bbMin:i.bbMin}}})),minScreenSpaceRadius:r.minScreenSpaceRadius})))};return this._commands.push({id:"create-lod-renderer",lodRendererId:t,lodRenderGeometry:s}),t}addLodInstances(e,r){this._commands.push({id:"add-lod-instances",lodRendererId:e,data:r}),this._transferables.add(r.featureIds.buffer),this._transferables.add(r.globalTransforms.buffer),this._transferables.add(r.localTransforms.buffer)}removeLodInstances(e,r){this._commands.push({id:"remove-lod-instances",lodRendererId:e,featureIds:r}),this._transferables.add(r.buffer)}async dispatch(){const e=this._commands,r=Array.from(this._transferables);this._clearCommandBuffer(),this._context.dispatchRenderCommands(e,r)}_clearCommandBuffer(){this._commands=[],this._transferables.clear()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderGeometryBufferWriter.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/RenderGeometryBufferWriter.js ***!
  \*************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderGeometryBufferWriter: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{constructor(r){this._bufferWriter=null,this._bufferWriter=r.createBufferWriter()}createBuffer(o,n){const s=this._bufferWriter;let l=null;if(o.transformation&&n)(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.copy)(f,o.transformation),f[12]-=n[0],f[13]-=n[1],f[14]-=n[2],l=f;else{if(n)throw new Error("not implemented");o.transformation&&(l=o.transformation)}let u=null;l&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.invert)(a,f),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.transpose)(a,a),u=a);const m=o.attributes,c=s.elementCount(m),b=s.vertexBufferLayout.stride/4;c>Math.floor(i/b)&&console.warn("geometry with very large number of elements encountered");const h=s.vertexBufferLayout.createBuffer(c),d=0;return s.write(l,u,m,o.objectAndLayerIdColor,h,d),{data:h.buffer,elementCount:c}}}const f=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),a=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),i=16777216/4;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/Symbolizer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/Symbolizer.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Symbolizer: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _featureData_FeatureData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../featureData/FeatureData.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureData.js");
/* harmony import */ var _UniqueValueFeatureRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UniqueValueFeatureRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/UniqueValueFeatureRenderer.js");
/* harmony import */ var _support_RenderCoordsHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../support/RenderCoordsHelper.js */ "./node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{constructor(e){this._tileFeatureData=new Map,this._context={viewSpatialReference:e.viewSpatialReference,renderSpatialReference:e.renderSpatialReference,renderCoordsHelper:_support_RenderCoordsHelper_js__WEBPACK_IMPORTED_MODULE_2__.RenderCoordsHelper.create(e.viewingMode,e.renderSpatialReference)}}async add(e,r){this._featureRenderer||(this._featureRenderer=new _UniqueValueFeatureRenderer_js__WEBPACK_IMPORTED_MODULE_1__.UniqueValueFeatureRenderer(this._context),await this._featureRenderer.load());const a=this._addTileFeatureData(e);await this._featureRenderer.add(a,r)}async remove(e,t){const r=this._getFeatureSetFromTileId(e);r&&(this._featureRenderer&&this._featureRenderer.remove(r,t),this._removeTileFeatureData(e))}_getFeatureSetFromTileId(e){return this._tileFeatureData.get(e)}_addTileFeatureData(t){const r=t.descriptor.id,a=t.pages.reduce(((e,{featureCount:t})=>e+t),0),i=new _featureData_FeatureData_js__WEBPACK_IMPORTED_MODULE_0__.FeatureData(t,a);return this._tileFeatureData.set(r,i),i}_removeTileFeatureData(e){const t=this._tileFeatureData.get(e);t&&(t.dispose(),this._tileFeatureData.delete(e))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/TestObjectSymbol.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/TestObjectSymbol.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TestObjectSymbol: function() { return /* binding */ j; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../geometry/projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../symbols/support/symbolLayerUtils3D.js */ "./node_modules/@arcgis/core/symbols/support/symbolLayerUtils3D.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../featureData/interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/interfaces.js");
/* harmony import */ var _primitiveObjectUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./primitiveObjectUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/primitiveObjectUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let j=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(),this._context=e,this.lodRendererId=null,this._loaded=!1}get loaded(){return this._loaded}async load(e){const r=e.createMaterial("default"),t=(0,_primitiveObjectUtils_js__WEBPACK_IMPORTED_MODULE_15__.createPrimitiveGeometry)("cone",r);this.lodRendererId=e.createLodRenderer(t),this._loaded=!0}async add(e,r){if(null==this.lodRendererId)throw new Error("expected lod renderer id to not be null");await this._provisionFeatureData(e);const t=e.numFeatures,o=!0,s=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.create)((0,_symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_12__.objectSymbolLayerPrimitiveBoundingBox)("cone")),i=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.fromArray)((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.size)(s)),n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.fromArray)((0,_symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_12__.objectSymbolLayerSizeWithResourceSize)(i,{isPrimitive:o,width:100,depth:null,height:null})),c=new Float64Array(16*t),f=new Float64Array(16*t),u=e.mapCoordinates;for(let a=0;a<t;++a){const e=a,r=u[3*a+0],t=u[3*a+1],o=u[3*a+2],s=this._computeGlobalTransform(r,t,o,this._context.viewSpatialReference,b),l=this._computeLocalTransform(n,i,y);this._writeMatrixToTypedBuffer(c,e,l),this._writeMatrixToTypedBuffer(f,e,s)}const h={featureIds:new Uint32Array(e.objectIds),localTransforms:c,globalTransforms:f};r.addLodInstances(this.lodRendererId,h)}async remove(e,r){if(null==this.lodRendererId)return;const t=new Uint32Array(e.objectIds);r.removeLodInstances(this.lodRendererId,t)}async _provisionFeatureData(e){await e.provision([_featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.FeatureDataItem.GEOMETRY_MAP_COORDINATES,_featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.FeatureDataItem.OBJECT_ID],this._context)}_writeMatrixToTypedBuffer(e,r,t){let o=16*r;for(let s=0;s<16;s++)e[o++]=t[s]}_computeGlobalTransform(e,r,t,o,s){return _[0]=e,_[1]=r,_[2]=t,(0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_10__.computeTranslationToOriginAndRotation)(o,_,s,this._context.renderSpatialReference),s}_computeLocalTransform(e,r,t){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.identity)(t),this._applyObjectScale(e,r,t),t}_applyObjectScale(e,r,t){const o=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_13__.computeObjectScale)(e,e,r,this._context.renderCoordsHelper.unitInMeters);1===o[0]&&1===o[1]&&1===o[2]||(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.scale)(t,t,o)}};j=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.graphics.pipeline.symbolization.TestObjectSymbol")],j);const _=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),y=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),b=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/TestSymbol.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/TestSymbol.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TestSymbol: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../featureData/interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/interfaces.js");
/* harmony import */ var _symbolizationUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./symbolizationUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let l=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(),this._context=e,this.materialId=null,this._loaded=!1}get loaded(){return this._loaded}async load(e){this.materialId=e.createMaterial("hud"),e.createDirectRenderer(this.materialId),this._loaded=!0}async add(e,r){if(null==this.materialId)throw new Error("expected material not to be null");await this._provisionFeatureData(e);const{numFeatures:t,tileId:a,renderCoordinates:l,tileCenterRenderCoordinates:m}=e,d=new Float64Array([0,0,1]),c=new Float64Array([255,255,255,255]),p=new Float64Array([24,24]),w=new Float64Array([0,0,0,1]),y=new Float64Array([0,0]),u=new Float64Array([0]),A=new Uint32Array(t);for(let o=0;o<t;++o)A[o]=o;const E=new Uint32Array(t);for(let o=0;o<t;++o)E[o]=0;const I=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__.Attribute(l,A,3,!0),R=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__.Attribute(d,E,3,!0),f=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__.Attribute(y,E,2,!0),h=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__.Attribute(c,E,4,!0),b=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__.Attribute(u,E,1,!0),j=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__.Attribute(p,E,2,!0),O=new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__.Attribute(w,E,4,!0),_=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.POSITION,I],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.NORMAL,R],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.UV0,f],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.COLOR,h],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.ROTATION,b],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.SIZE,j],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.CENTEROFFSETANDDISTANCE,O]],D={attributes:(0,_symbolizationUtils_js__WEBPACK_IMPORTED_MODULE_9__.inputAttributesToAttributesMap)(_),objectAndLayerIdColor:void 0,transformation:(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),materialId:this.materialId};r.addDirectRendererGeometry(a,D,m)}async remove(e,r){r.removeDirectRendererGeometry(e.tileId)}async _provisionFeatureData(e){await e.provision([_featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.FeatureDataItem.GEOMETRY_RENDER_COORDINATES,_featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.FeatureDataItem.TILE_CENTER_RENDER_COORDINATES],this._context)}};l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.graphics.pipeline.symbolization.TestSymbol")],l);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/UniqueValueFeatureRenderer.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/UniqueValueFeatureRenderer.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UniqueValueFeatureRenderer: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _featureData_FeatureData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../featureData/FeatureData.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/FeatureData.js");
/* harmony import */ var _featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../featureData/interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/featureData/interfaces.js");
/* harmony import */ var _TestObjectSymbol_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TestObjectSymbol.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/TestObjectSymbol.js");
/* harmony import */ var _TestSymbol_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TestSymbol.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/TestSymbol.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(t){this._symbols=new Map,this._context=t}async load(){this._symbols.set(0,new _TestSymbol_js__WEBPACK_IMPORTED_MODULE_3__.TestSymbol(this._context)),this._symbols.set(1,new _TestObjectSymbol_js__WEBPACK_IMPORTED_MODULE_2__.TestObjectSymbol(this._context))}async add(t,i){await this._provisionFeatureData(t,this._context);const o=this._partition(t);await Promise.all(o.map((async t=>{const o=await this._provisionSymbol(t.partitionInfo?.index,i);o&&await o.add(t,i)})))}async remove(t,i){const o=t.partitions;if(!o)throw new Error("partitioned featureset expected");await Promise.all(o.map((async t=>{const o=await this._provisionSymbol(t.partitionInfo?.index,i);o&&await o.remove(t,i)})))}async _provisionFeatureData(t,o){await t.provision([_featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.FeatureDataItem.PARTITION_ID,_featureData_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.FeatureDataItem.OBJECT_ID],o)}async _provisionSymbol(t,i){if(null==t)return null;const o=this._symbols.get(t);return o?(o.loaded||await o.load(i),o):null}_partition(i){const{numFeatures:o,objectIds:a,partitionIds:s}=i,e=[[],[]];for(let t=0;t<o;++t){const i=a[t]%2;e[i].push(t),s[t]=i}return i.partitions=e.filter((t=>t.length>0)).map(((o,a)=>{const s=o.length,e={index:a,tileIndices:new Uint32Array(o)};return new _featureData_FeatureData_js__WEBPACK_IMPORTED_MODULE_0__.FeatureData(i.tile,s,e)})),i.partitions}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/primitiveObjectUtils.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/primitiveObjectUtils.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertCoordinatesToZUp: function() { return /* binding */ a; },
/* harmony export */   createPrimitiveGeometry: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _symbolizationUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./symbolizationUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js");
/* harmony import */ var _webgl_engine_lib_AttributeArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../webgl-engine/lib/AttributeArray.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/AttributeArray.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function r(t,i){const r=(t,n,r=!1)=>({levels:t.map((t=>{const o=(0,_symbolizationUtils_js__WEBPACK_IMPORTED_MODULE_1__.inputAttributesToAttributesMap)(n(t.tesselation));r&&a(o);return{components:[{attributes:o,objectAndLayerIdColor:void 0,transformation:null,materialId:i}],minScreenSpaceRadius:t.minScreenSpaceRadius}}))});switch(t){case"cone":return r(s,(e=>(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_3__.createConeGeometryData)(1,.5,e,!1)),!0);case"sphere":case"cube":case"inverted-cone":case"cylinder":case"tetrahedron":case"diamond":throw new Error("not implemented");default:return}}function a(e){const t=e,n=t.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION).data,r=t.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.NORMAL).data;if(r){const t=o(e,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.NORMAL).data;for(let e=0;e<r.length;e+=3){const n=r[e+1];t[e+1]=-r[e+2],t[e+2]=n}}if(n){const t=o(e,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION).data;for(let e=0;e<n.length;e+=3){const i=n[e+1];t[e+1]=-n[e+2],t[e+2]=i}}}function o(e,n){let i=e.get(n);return i&&!i.exclusive&&(i={...i,exclusive:!0,data:(0,_webgl_engine_lib_AttributeArray_js__WEBPACK_IMPORTED_MODULE_2__.cloneAttributeData)(i.data)},e.set(n,i)),i}const s=[{tesselation:6,minScreenSpaceRadius:0},{tesselation:18,minScreenSpaceRadius:7},{tesselation:64,minScreenSpaceRadius:65}];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/symbolization/symbolizationUtils.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   attributesMapToInputAttributes: function() { return /* binding */ t; },
/* harmony export */   inputAttributesToAttributesMap: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(n){const t=new Map;for(const[r,s]of n)t.set(r,{...s,indices:(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_0__.compactIndices)(s.indices)});return t}function t(o){const n=[];for(const[t,r]of o)n.push([t,r]);return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMixModeEnum: function() { return /* binding */ n; },
/* harmony export */   encodeSymbolColor: function() { return /* binding */ r; },
/* harmony export */   parseColorMixMode: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var n;function e(t){switch(t){case"multiply":default:return n.Multiply;case"ignore":return n.Ignore;case"replace":return n.Replace;case"tint":return n.Tint}}function r(e,r,a){if(null==e||r===n.Ignore)return a[0]=255,a[1]=255,a[2]=255,void(a[3]=255);const c=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(e[3]*i),0,i),p=0===c||r===n.Tint?0:r===n.Replace?u:l;a[0]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(e[0]*o),0,o),a[1]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(e[1]*o),0,o),a[2]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(e[2]*o),0,o),a[3]=c+p}!function(t){t[t.Multiply=1]="Multiply",t[t.Ignore=2]="Ignore",t[t.Replace=3]="Replace",t[t.Tint=4]="Tint"}(n||(n={}));const o=255,i=85,u=i,l=2*i;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderCoordsHelper: function() { return /* binding */ B; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/spatialReferenceEllipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js");
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _geometry_projection_projectVectorToPoint_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToPoint.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/support/Axis.js */ "./node_modules/@arcgis/core/geometry/support/Axis.js");
/* harmony import */ var _geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/support/coordinateSystem.js */ "./node_modules/@arcgis/core/geometry/support/coordinateSystem.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/support/vector.js */ "./node_modules/@arcgis/core/geometry/support/vector.js");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/support/vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/* harmony import */ var _layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedFeatureUtils.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureUtils.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class B{constructor(t,e,o,r){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=o,this._coordinateSystem=r,this._tmpCoordinateSystem=(0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.create)(r),this.referenceEllipsoid=(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_4__.getReferenceEllipsoid)(e),this.sphericalPCPF=(0,_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_5__.getSphericalPCPF)(e)}set extent(t){t&&(0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.setExtent)(this._coordinateSystem,t,this._coordinateSystem)}get extent(){return (0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.getExtent)(this._coordinateSystem,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.create)())}getAltitude(t){return (0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.altitudeAt)(this._coordinateSystem,t)}setAltitude(t,e,o=t){return (0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.setAltitudeAt)(this._coordinateSystem,o,e,t)}setAltitudeOfTransformation(t,e){(0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.setAltitudeOfTransformation)(this._coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return (0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.normalAt)(this._coordinateSystem,t,e)}worldBasisAtPosition(t,e,o){return (0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.axisAt)(this._coordinateSystem,t,e,o)}basisMatrixAtPosition(t,e){const o=this.worldBasisAtPosition(t,_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_10__.Axis.X,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_14__.sv3d.get()),i=this.worldBasisAtPosition(t,_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_10__.Axis.Y,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_14__.sv3d.get()),s=this.worldBasisAtPosition(t,_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_10__.Axis.Z,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_14__.sv3d.get());return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.set)(e,o[0],o[1],o[2],0,i[0],i[1],i[2],0,s[0],s[1],s[2],0,0,0,0,1),e}headingAtPosition(e,o){const r=this.worldUpAtPosition(e,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_14__.sv3d.get()),i=this.worldBasisAtPosition(e,_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_10__.Axis.Y,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_14__.sv3d.get()),s=(0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_13__.angleAroundAxis)(o,i,r);return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.rad2deg)(s)}intersectManifoldClosestSilhouette(t,e,o){return (0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.elevate)(this._coordinateSystem,e,this._tmpCoordinateSystem),(0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.intersectRayClosestSilhouette)(this._tmpCoordinateSystem,t,o),o}intersectManifold(t,e,o){(0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.elevate)(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_14__.sv3d.get();return (0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.intersectRay)(this._tmpCoordinateSystem,t,r)?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(o,r):null}intersectInfiniteManifold(t,e,o){if(this.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__.ViewingMode.Global)return this.intersectManifold(t,e,o);(0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.elevate)(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=this._tmpCoordinateSystem.value,s=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_14__.sv3d.get();return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_12__.intersectRay)(r.plane,t,s)?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(o,s):null}toRenderCoords(t,e,o){return (0,_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_15__.isDehydratedPoint)(t)?(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_6__.projectPointToVector)(t,e,this.spatialReference):(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_8__.projectVectorToVector)(t,e,o,this.spatialReference)}fromRenderCoords(t,e,o=null){return (0,_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_15__.isDehydratedPoint)(e)?(null!=o&&(e.spatialReference=o),(0,_geometry_projection_projectVectorToPoint_js__WEBPACK_IMPORTED_MODULE_7__.projectVectorToPoint)(t,this.spatialReference,e)?e:null):(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_8__.projectVectorToVector)(t,this.spatialReference,e,o)?e:null}static create(t,o){switch(t){case _ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__.ViewingMode.Local:return new B(_ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__.ViewingMode.Local,o,(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(o),(0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.createLocal)());case _ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__.ViewingMode.Global:return new B(_ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__.ViewingMode.Global,o,1,(0,_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_11__.createGlobal)(o))}}static renderUnitScaleFactor(t,e){return (0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerCartesianUnitForSR)(t)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerCartesianUnitForSR)(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js ***!
  \*************************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DecodeSymbolColor: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/support/symbolColorUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js");
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e){e.vertex.code.add((0,_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl)`
    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {
      float symbolAlpha = 0.0;

      const float maxTint = 85.0;
      const float maxReplace = 170.0;
      const float scaleAlpha = 3.0;

      if (symbolColor.a > maxReplace) {
        colorMixMode = ${_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Multiply)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);
      } else if (symbolColor.a > maxTint) {
        colorMixMode = ${_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Replace)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);
      } else if (symbolColor.a > 0.0) {
        colorMixMode = ${_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Tint)};
        symbolAlpha = scaleAlpha * symbolColor.a;
      } else {
        colorMixMode = ${_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.int(_layers_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_0__.ColorMixModeEnum.Multiply)};
        symbolAlpha = 0.0;
      }

      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);
    }
  `)}


/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_arcgis_core_views_3d_layers_graphics_pipeline_Feature3DPipelineWorker_js-2b75a0.b2506cec08849f9ec598.js.map