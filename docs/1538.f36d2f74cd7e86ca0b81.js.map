{"version":3,"file":"1538.f36d2f74cd7e86ca0b81.js","mappings":"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","sources":["webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/layers/ImageryLayerView.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/2d/viewStateUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{brushes as e}from\"./brushes.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import s from\"./webgl/WGLContainer.js\";class a extends s{constructor(){super(...arguments),this._hasCrossfade=!1}get requiresDedicatedFBO(){return super.requiresDedicatedFBO||this._hasCrossfade}beforeRender(e){super.beforeRender(e),this._manageFade()}prepareRenderPasses(s){const a=s.registerRenderPass({name:\"bitmap\",brushes:[e.bitmap],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),a]}_manageFade(){this.children.reduce(((e,r)=>e+(r.inFadeTransition?1:0)),0)>=2?(this.children.forEach((e=>e.blendFunction=\"additive\")),this._hasCrossfade=!0):(this.children.forEach((e=>e.blendFunction=\"standard\")),this._hasCrossfade=!1)}}export{a as BitmapContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as p}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as n}from\"../../engine/BitmapContainer.js\";import{Container as l}from\"../../engine/Container.js\";import c from\"../../engine/ImageryBitmapSource.js\";import h from\"../support/ExportStrategy.js\";let m=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new l,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new n}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch((t=>{s(t)||r.getLogger(this).error(t)}))}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new h({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:e.extent,pixelBlock:e.originalPixelBlock??e.pixelBlock});e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...i,extent:e.extent}})).catch((t=>{s(t)||r.getLogger(this).error(t)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map((t=>t.source)).filter((t=>t.extent&&t.extent.intersects(e))).map((t=>({extent:t.extent,pixelBlock:t.originalPixelBlock}))),r=p(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(t,e,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new c(a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=t=>this.layer.applyFilter(t),o}};t([a()],m.prototype,\"attached\",void 0),t([a()],m.prototype,\"container\",void 0),t([a()],m.prototype,\"layer\",void 0),t([a()],m.prototype,\"strategy\",void 0),t([a()],m.prototype,\"timeExtent\",void 0),t([a()],m.prototype,\"view\",void 0),t([a()],m.prototype,\"updateRequested\",void 0),t([a()],m.prototype,\"updating\",null),t([a()],m.prototype,\"type\",void 0),m=t([o(\"esri.views.2d.layers.imagery.ImageryView2D\")],m);const d=m;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{debounce as r,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as l}from\"../../engine/imagery/RasterVFDisplayObject.js\";let c=class extends t{constructor(e){super(e),this._loading=null,this.update=r(((e,t)=>this._update(e,t).catch((e=>{o(e)||i.getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,i){if(!e.stationary)return;const{extent:r,spatialReference:o}=e.state,s=new n({xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax,spatialReference:o}),[a,l]=e.state.size;this._loading=this.fetchPixels(s,a,l,i);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,i){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:r,pixelBlock:o}=e,s=new l(o);s.offset=[0,0],s.symbolizerParameters=t,s.rawPixelData=e,s.invalidateVAO(),s.x=r.xmin,s.y=r.ymax,s.pixelRatio=i.pixelRatio,s.rotation=i.rotation,s.resolution=i.resolution,s.width=o.width*t.symbolTileSize,s.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(s)}};e([s()],c.prototype,\"fetchPixels\",void 0),e([s()],c.prototype,\"container\",void 0),e([s()],c.prototype,\"_loading\",void 0),e([s()],c.prototype,\"updating\",null),c=e([a(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],c);const p=c;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import i from\"../../../../core/Accessor.js\";import s from\"../../../../core/Logger.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{watch as o,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../../geometry/Extent.js\";import{srToRESTValue as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y,convertVectorFieldData as u}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as x}from\"../../engine/imagery/RasterVFContainer.js\";import d from\"./ImageryVFStrategy.js\";let f=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new x,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const s=await this._projectFullExtentPromise,{symbolTileSize:a}=this.layer.renderer,{extent:o,width:n,height:l}=y(t,e,r,a,s);if(null!=s&&!s.intersects(t))return{extent:o,pixelBlock:null};const m={bbox:`${o.xmin}, ${o.ymin}, ${o.xmax}, ${o.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(m)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===m.bbox)return t}}const{pixelData:c}=await this.layer.fetchImage(o,n,l,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=m;const p=c?.pixelBlock;if(null==p)return{extent:o,pixelBlock:null};return{extent:o,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?u(p,\"vector-uv\"):p}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new d({container:this.container,fetchPixels:this._fetchpixels}),this.addHandles(o((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),n),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.removeHandles(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams).catch((t=>{a(t)||s.getLogger(this).error(t)}))}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:p(t),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?c.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([l()],f.prototype,\"attached\",void 0),t([l()],f.prototype,\"container\",void 0),t([l()],f.prototype,\"layer\",void 0),t([l()],f.prototype,\"timeExtent\",void 0),t([l()],f.prototype,\"type\",void 0),t([l()],f.prototype,\"view\",void 0),t([l()],f.prototype,\"updating\",null),f=t([m(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combineTimeExtent as p}from\"../../layers/support/timeSupport.js\";import a from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as n}from\"./support/popupUtils.js\";const m=m=>{let u=class extends m{constructor(){super(...arguments),this.view=null}get timeExtent(){return p(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}async fetchPopupFeaturesAtLocation(e,o){const{layer:s}=this;if(!e)throw new t(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:p}=s,m=n(s,o);if(!p||null==m)return[];const u=await m.getRequiredFields();r(o);const c=new a;c.timeExtent=this.timeExtent,c.geometry=e,c.outFields=u,c.outSpatialReference=e.spatialReference;const{resolution:l,spatialReference:y}=this.view,h=\"2d\"===this.view.type?new i(l,l,y):new i(.5*l,.5*l,y),{returnTopmostRaster:d,showNoDataRecords:f}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},w={returnDomainValues:!0,returnTopmostRaster:d,pixelSize:h,showNoDataRecords:f,signal:o?.signal};return s.queryVisibleRasters(c,w).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"suspended\",void 0),e([o({readOnly:!0})],u.prototype,\"timeExtent\",null),e([o()],u.prototype,\"view\",void 0),u=e([s(\"esri.views.layers.ImageryLayerView\")],u),u};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import t from\"../../../core/Collection.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{watch as s,sync as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import l from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import w from\"./graphics/GraphicsView2D.js\";import p from\"./graphics/HighlightGraphicContainer.js\";import d from\"./imagery/ImageryView2D.js\";import m from\"./imagery/VectorFieldView2D.js\";import u from\"../../layers/ImageryLayerView.js\";import g from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";let v=class extends(u(y(c(g)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new w({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new p(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([s((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),s((()=>this.timeExtent),(e=>{const{subview:i}=this;i&&(i.timeExtent=e,\"redraw\"in i?this.requestUpdate():i.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),s((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,s){if(!((Array.isArray(e)?e[0]:t.isCollection(e)?e.at(0):e)instanceof i))return r();let a=[];return Array.isArray(e)||t.isCollection(e)?a=e.map((e=>e.clone())):e instanceof i&&(a=[e.clone()]),this._highlightGraphics.addMany(a),r((()=>this._highlightGraphics.removeMany(a)))}async doRefresh(){this.requestUpdate()}isUpdating(){const e=!this.subview||this.subview.updating||!!this._highlightView?.updating;return has(\"esri-2d-log-updating\")&&console.log(`Updating ImageryLayerView2D (${this.layer.id}): ${e}\\n-> subview ${!this.subview||this.subview.updating}\\n-> higlightView ${this._highlightView?.updating}\\n`),e}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let i=\"imagery\";if(\"vector-field\"===e?i=\"imageryVF\":\"flow\"===e&&(i=\"flow\"),this.subview){const{type:e}=this.subview;if(e===i)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===i?new d({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===i?new m({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new l({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0))}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([h()],v.prototype,\"pixelData\",null),e([h()],v.prototype,\"subview\",void 0),v=e([o(\"esri.views.2d.layers.ImageryLayerView2D\")],v);const b=v;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}export{a as getBBox,o as getOuterSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{debounce as i,throwIfAborted as o,throwIfAbortError as r,eachAlways as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p,toExtent as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as h}from\"../../../../geometry/support/spatialReferenceUtils.js\";import l from\"../../../../layers/support/TileInfo.js\";import{getOuterSize as d,getBBox as c}from\"../../viewStateUtils.js\";import{Bitmap as u}from\"../../engine/Bitmap.js\";import g from\"../../tiling/TileInfoView.js\";import f from\"../../tiling/TileKey.js\";const y=p(),x=[0,0],S=new f(0,0,0,0),w={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let M=class extends e{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=w.hidpi,this.imageMaxWidth=w.imageMaxWidth,this.imageMaxHeight=w.imageMaxHeight,this.imageRotationSupported=w.imageRotationSupported,this.imageNormalizationSupported=w.imageNormalizationSupported,this.update=i((async(t,e)=>{if(o(e),!t.stationary||this.destroyed)return;const i=t.state,s=h(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=i.worldScreenWidth>0,p=n&&this.imageNormalizationSupported&&i.worldScreenWidth<i.size[0],m=Math.round((this.imageMaxWidth??0)/a),l=Math.round((this.imageMaxHeight??0)/a);p?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):d(x,i);const c=Math.floor(x[0])>m||Math.floor(x[1])>l,u=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),g=!this.imageNormalizationSupported&&u,f=!c&&!g,y=this.imageRotationSupported?i.rotation:0,S=this.container.children.slice();if(f){const t=p?i.paddedViewState.center:i.center;this._imagePromise=this._singleExport(i,x,t,i.resolution,y,a,e)}else{let t=Math.min(m,l);n&&(t=Math.min(i.worldScreenWidth,t),t=Math.round(i.worldScreenWidth/Math.ceil(i.worldScreenWidth/t))),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise??[];o(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t;for(const e of S)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(w){this._imagePromise=null,r(w)}}),5e3),this.updateExports=i((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=s(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});o(a);const p=new u(null,!0);return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),o(a),p}async _singleExport(t,e,i,o,r,s,a){c(y,i,o,e);const n=m(y,t.spatialReference);return[await this._export(n,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=l.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new g(r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,p,h)=>{S.set(r,a,p,0),s.getTileBounds(y,S);const l=m(y,t.spatialReference);n.push(this._export(l,e,e,0,i,o).then((t=>(0!==h&&(S.set(r,a,p,h),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(n)}};t([a()],M.prototype,\"_imagePromise\",void 0),t([a()],M.prototype,\"bitmaps\",void 0),t([a()],M.prototype,\"container\",void 0),t([a()],M.prototype,\"fetchSource\",void 0),t([a()],M.prototype,\"hidpi\",void 0),t([a()],M.prototype,\"imageMaxWidth\",void 0),t([a()],M.prototype,\"imageMaxHeight\",void 0),t([a()],M.prototype,\"imageRotationSupported\",void 0),t([a()],M.prototype,\"imageNormalizationSupported\",void 0),t([a()],M.prototype,\"requestUpdate\",void 0),t([a()],M.prototype,\"updating\",null),M=t([n(\"esri.views.2d.layers.support.ExportStrategy\")],M);const _=M;export{_ as default};\n"],"names":["a","constructor","super","arguments","this","_hasCrossfade","requiresDedicatedFBO","beforeRender","e","_manageFade","prepareRenderPasses","s","registerRenderPass","name","brushes","bitmap","target","children","drawPhase","MAP","reduce","r","inFadeTransition","forEach","blendFunction","m","attached","container","updateRequested","type","_bitmapView","destroy","detach","updating","isUpdating","update","t","strategy","catch","getLogger","error","hitTest","attributes","geometry","clone","layer","attach","addChild","version","imageMaxHeight","i","imageMaxWidth","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","removeAllChildren","redraw","updateExports","async","source","ImageBitmap","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","view","getPixelData","bitmaps","length","map","intersects","timeExtent","requestAsImageElement","returnImageBitmap","fetchImage","imageBitmap","pixelData","signal","o","prototype","d","symbolTypes","doRender","visible","renderPass","c","_loading","_update","symbolizerParameters","invalidateVAO","style","requestRender","stationary","spatialReference","state","xmin","ymin","xmax","ymax","l","size","fetchPixels","_addToDisplay","offset","rawPixelData","x","y","pixelRatio","rotation","resolution","width","symbolTileSize","height","p","f","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","n","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","rasterInfo","dataType","_strategy","_getProjectedFullExtent","addHandles","_updateSymbolizerParams","removeHandles","_symbolizerParams","fullExtent","url","query","option","outSR","data","featureCollection","layers","layerDefinition","fromJSON","symbolizer","generateWebGLParameters","g","u","_get","fetchPopupFeaturesAtLocation","popupEnabled","getRequiredFields","outFields","outSpatialReference","h","returnTopmostRaster","showNoDataRecords","layerOptions","w","returnDomainValues","pixelSize","queryVisibleRasters","then","canResume","isEmpty","readOnly","v","_exportImageVersion","_highlightGraphics","_highlightView","subview","increaseRasterJobHandlerUsage","_setSubView","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","redrawOrRefetch","on","decreaseRasterJobHandlerUsage","_detachSubview","viewChange","moveEnd","highlight","Array","isArray","isCollection","at","addMany","removeMany","doRefresh","has","_attachSubview","format","layerView","addChildAt","removeChild","b","Math","PI","abs","cos","sin","round","S","M","_imagePromise","hidpi","imageRotationSupported","destroyed","worldScreenWidth","floor","valid","slice","paddedViewState","center","_singleExport","min","ceil","_tiledExport","includes","push","fadeOut","remove","fadeIn","Promise","all","stage","invalidateTexture","_export","opacity","setSourceAsync","create","scales","scale","getTileCoverage","set","getTileBounds","_"],"sourceRoot":""}