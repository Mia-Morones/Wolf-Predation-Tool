"use strict";
(self["webpackChunkreact_redux_arcgis_boilerplate"] = self["webpackChunkreact_redux_arcgis_boilerplate"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_graphics_ElevationContext_js-node_modules_ar-f77b49"],{

/***/ "./node_modules/@arcgis/core/chunks/RibbonLine.glsl.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/RibbonLine.glsl.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   R: function() { return /* binding */ C; },
/* harmony export */   b: function() { return /* binding */ y; },
/* harmony export */   r: function() { return /* binding */ w; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const w=1;function y(y){const C=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_16__.ShaderBuilder,{attributes:j,varyings:P,vertex:R,fragment:A}=C,{applyMarkerOffset:F,draped:z,output:T,capType:E,stippleEnabled:V,falloffEnabled:O,roundJoins:W,wireframe:I,innerColorEnabled:N}=y;C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_6__.PiUtils),C.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_3__.RibbonVertexPosition,y),C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_4__.LineStipple,y),C.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_2__.ObjectAndLayerIdColor,y);const _=F&&!z;_&&(R.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_13__.FloatPassUniform("markerScale",(e=>e.markerScale))),C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_5__.MarkerSizing,{space:_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LineMarkerSpace.World})),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_10__.addProjViewLocalOrigin)(R,y),R.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_15__.Matrix4PassUniform("inverseProjectionMatrix",((e,i)=>i.camera.inverseProjectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_11__.Float2PassUniform("nearFar",((e,i)=>i.camera.nearFar)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_13__.FloatPassUniform("miterLimit",(e=>"miter"!==e.join?0:e.miterLimit)),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float4PassUniform("viewport",((e,i)=>i.camera.fullViewport))),R.constants.add("LARGE_HALF_FLOAT","float",65500),j.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION,"vec3"),j.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.PREVPOSITION,"vec3"),j.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.NEXTPOSITION,"vec3"),j.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.SUBDIVISIONFACTOR,"float"),j.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.UV0,"vec2"),P.add("vColor","vec4"),P.add("vpos","vec3"),P.add("vLineDistance","float"),P.add("vLineWidth","float");const M=y.terrainDepthTest&&T===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color;M&&P.add("depth","float");const U=V;U&&P.add("vLineSizeInv","float");const k=E===_views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.CapType.ROUND,$=V&&k,H=O||$;H&&P.add("vLineDistanceNorm","float"),k&&(P.add("vSegmentSDF","float"),P.add("vReverseSegmentSDF","float")),R.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`#define PERPENDICULAR(v) vec2(v.y, -v.x);
float interp(float ncp, vec4 a, vec4 b) {
return (-ncp - a.z) / (b.z - a.z);
}
vec2 rotate(vec2 v, float a) {
float s = sin(a);
float c = cos(a);
mat2 m = mat2(c, -s, s, c);
return m * v;
}`),R.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vec4 projectAndScale(vec4 pos) {
vec4 posNdc = proj * pos;
posNdc.xy *= viewport.zw / posNdc.w;
return posNdc;
}`),R.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
    void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {
      float vnp = nearFar[0] * 0.99;

      if(pos.z > -nearFar[0]) {
        //current pos behind ncp --> we need to clip
        if (!isStartVertex) {
          if(prev.z < -nearFar[0]) {
            //previous in front of ncp
            pos = mix(prev, pos, interp(vnp, prev, pos));
            next = pos;
          } else {
            pos = vec4(0.0, 0.0, 0.0, 1.0);
          }
        } else {
          if(next.z < -nearFar[0]) {
            //next in front of ncp
            pos = mix(pos, next, interp(vnp, pos, next));
            prev = pos;
          } else {
            pos = vec4(0.0, 0.0, 0.0, 1.0);
          }
        }
      } else {
        //current position visible
        if (prev.z > -nearFar[0]) {
          //previous behind ncp
          prev = mix(pos, prev, interp(vnp, pos, prev));
        }
        if (next.z > -nearFar[0]) {
          //next behind ncp
          next = mix(next, pos, interp(vnp, next, pos));
        }
      }

      ${M?"depth = pos.z;":""}

      pos = projectAndScale(pos);
      next = projectAndScale(next);
      prev = projectAndScale(prev);
    }
  `),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_10__.addPixelRatio)(R),R.constants.add("aaWidth","float",V?0:1).main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
    // unpack values from uv0.y
    bool isStartVertex = abs(abs(uv0.y)-3.0) == 1.0;

    float coverage = 1.0;

    // Check for special value of uv0.y which is used by the Renderer when graphics
    // are removed before the VBO is recompacted. If this is the case, then we just
    // project outside of clip space.
    if (uv0.y == 0.0) {
      // Project out of clip space
      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
    }
    else {
      bool isJoin = abs(uv0.y) < 3.0;
      float lineSize = getSize();

      if (lineSize < 1.0) {
        coverage = lineSize; // convert sub-pixel coverage to alpha
        lineSize = 1.0;
      }
      lineSize += aaWidth;

      float lineWidth = lineSize * pixelRatio;
      vLineWidth = lineWidth;
      ${U?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vLineSizeInv = 1.0 / lineSize;`:""}

      vec4 pos  = view * vec4(position, 1.0);
      vec4 prev = view * vec4(prevPosition, 1.0);
      vec4 next = view * vec4(nextPosition, 1.0);
  `),_&&R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vec4 other = isStartVertex ? next : prev;
bool markersHidden = areWorldMarkersHidden(pos, other);
if(!isJoin && !markersHidden) {
pos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos) * 0.5;
}`),R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`clipAndTransform(pos, prev, next, isStartVertex);
vec2 left = (pos.xy - prev.xy);
vec2 right = (next.xy - pos.xy);
float leftLen = length(left);
float rightLen = length(right);`);(V||k)&&R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
      float isEndVertex = float(!isStartVertex);
      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);
      vec2 segment = mix(right, left, isEndVertex);
      ${k?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);`:""}
    `),R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);
right = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);
vec2 capDisplacementDir = vec2(0, 0);
vec2 joinDisplacementDir = vec2(0, 0);
float displacementLen = lineWidth;
if (isJoin) {
bool isOutside = (left.x * right.y - left.y * right.x) * uv0.y > 0.0;
joinDisplacementDir = normalize(left + right);
joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);
if (leftLen > 0.001 && rightLen > 0.001) {
float nDotSeg = dot(joinDisplacementDir, left);
displacementLen /= length(nDotSeg * left - joinDisplacementDir);
if (!isOutside) {
displacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));
}
}
if (isOutside && (displacementLen > miterLimit * lineWidth)) {`),W?R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
        vec2 startDir = leftLen < 0.001 ? right : left;
        startDir = PERPENDICULAR(startDir);

        vec2 endDir = rightLen < 0.001 ? left : right;
        endDir = PERPENDICULAR(endDir);

        float factor = ${V?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`min(1.0, subdivisionFactor * ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl.float((w+2)/(w+1))})`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`subdivisionFactor`};

        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));
        joinDisplacementDir = rotate(startDir, -sign(uv0.y) * factor * rotationAngle);
      `):R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`if (leftLen < 0.001) {
joinDisplacementDir = right;
}
else if (rightLen < 0.001) {
joinDisplacementDir = left;
}
else {
joinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;
}
joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);`);const J=E!==_views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.CapType.BUTT;return R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
        displacementLen = lineWidth;
      }
    } else {
      // CAP handling ---------------------------------------------------
      joinDisplacementDir = isStartVertex ? right : left;
      joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);

      ${J?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`capDisplacementDir = isStartVertex ? -right : left;`:""}
    }
  `),R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
    // Displacement (in pixels) caused by join/or cap
    vec2 dpos = joinDisplacementDir * sign(uv0.y) * displacementLen + capDisplacementDir * displacementLen;
    float lineDistNorm = sign(uv0.y) * pos.w;

    vLineDistance =  lineWidth * lineDistNorm;
    ${H?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vLineDistanceNorm = lineDistNorm;`:""}

    pos.xy += dpos;
  `),k&&R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vec2 segmentDir = normalize(segment);
vSegmentSDF = (isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir) * pos.w) ;
vReverseSegmentSDF = (isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir) * pos.w);`),V&&(z?R.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_13__.FloatPassUniform("worldToScreenRatio",((e,i)=>1/i.screenToPCSRatio))):R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vec3 segmentCenter = mix((nextPosition + position) * 0.5, (position + prevPosition) * 0.5, isEndVertex);
float worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`float segmentLengthScreenDouble = length(segment);
float segmentLengthScreen = segmentLengthScreenDouble * 0.5;
float discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);
float segmentLengthRender = length(mix(nextPosition - position, position - prevPosition, isEndVertex));
vStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`),z?R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;
float startPseudoScreen = uv0.x * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`):R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`float startPseudoScreen = mix(uv0.x, uv0.x - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;
float segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),R.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_13__.FloatPassUniform("stipplePatternPixelSize",(e=>(0,_views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_4__.computePixelSize)(e)))),R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`float patternLength = lineSize * stipplePatternPixelSize;
vStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);
vStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);
if (segmentLengthScreenDouble >= 0.001) {
vec2 stippleDisplacement = pos.xy - segmentOrigin;
float stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);
vStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);
}
vStippleDistanceLimits *= pos.w;
vStippleDistance *= pos.w;
vStippleDistanceLimits = isJoin ?
vStippleDistanceLimits :
isStartVertex ?
vec2(-1e34, vStippleDistanceLimits.y) :
vec2(vStippleDistanceLimits.x, 1e34);`)),R.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
      // Convert back into NDC
      pos.xy = (pos.xy / viewport.zw) * pos.w;

      vColor = getColor();
      vColor.a *= coverage;

      ${I&&!z?"pos.z -= 0.001 * pos.w;":""}

      // transform final position to camera space for slicing
      vpos = (inverseProjectionMatrix * pos).xyz;
      gl_Position = pos;
      forwardObjectAndLayerIdColor();
    }`),M&&C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_7__.terrainDepthTest,y),C.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,y),C.include(_views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_19__.outputColorHighlightOID,y),A.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_9__.ColorConversion),A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
    discardBySlice(vpos);
    ${M?"terrainDepthTest(depth);":""}
  `),I?A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`):(k&&A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
        float sdf = min(vSegmentSDF, vReverseSegmentSDF);
        vec2 fragmentPosition = vec2(
          min(sdf, 0.0),
          vLineDistance
        ) * gl_FragCoord.w;

        float fragmentRadius = length(fragmentPosition);
        float fragmentCapSDF = (fragmentRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale
        float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);

        if (capCoverage < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_8__.alphaCutoff)}) {
          discard;
        }
      `),$?A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`
      vec2 stipplePosition = vec2(
        min(getStippleSDF() * 2.0 - 1.0, 0.0),
        vLineDistanceNorm * gl_FragCoord.w
      );
      float stippleRadius = length(stipplePosition * vLineWidth);
      float stippleCapSDF = (stippleRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale
      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);
      float stippleAlpha = step(${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_8__.alphaCutoff)}, stippleCoverage);
      `):A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`float stippleAlpha = getStippleAlpha();`),T!==_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.ObjectAndLayerIdColor&&A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`discardByStippleAlpha(stippleAlpha, ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_8__.alphaCutoff)});`),A.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float4PassUniform("intrinsicColor",(e=>e.color))),A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vec4 color = intrinsicColor * vColor;`),N&&(A.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float4PassUniform("innerColor",(e=>e.innerColor??e.color)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_13__.FloatPassUniform("innerWidth",((e,i)=>e.innerWidth*i.camera.pixelRatio))),A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;
float innerAA = clamp(0.5 - distToInner, 0.0, 1.0);
float innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);
color = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`)),A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`vec4 finalColor = blendStipple(color, stippleAlpha);`),O&&(A.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_13__.FloatPassUniform("falloff",(e=>e.falloff))),A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);`)),V||A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`float featherStartDistance = max(vLineWidth - 2.0, 0.0);
float value = abs(vLineDistance) * gl_FragCoord.w;
float feather = (value - featherStartDistance) / (vLineWidth - featherStartDistance);
finalColor.a *= 1.0 - clamp(feather, 0.0, 1.0);`)),A.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.glsl)`outputColorHighlightOID(finalColor, vpos);`),C}const C=Object.freeze(Object.defineProperty({__proto__:null,build:y,ribbonlineNumRoundJoinSubdivisions:w},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ElevationContext: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../symbols/support/unitConversionUtils.js */ "./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js");
/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./featureExpressionInfoUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit="meters",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnit)(e)}get requiresSampledElevationInfo(){return"absolute-height"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit="meters"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.execute)(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.supportsUnit)(t.unit)?t.unit:"meters",this.offsetElevationInfoUnits=t.offset??0}updateFeatureExpressionInfoContext(t,e,n){if(null==t)return void(this._featureExpressionInfoContext=null);const o=t?.arcade;o&&null!=e&&null!=n?(this._featureExpressionInfoContext=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.clone)(t),(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.setContextFeature)(this._featureExpressionInfoContext,(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.createFeature)(o.modules,e,n))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SampleElevationInfo: function() { return /* binding */ R; },
/* harmony export */   SymbolUpdateType: function() { return /* binding */ b; },
/* harmony export */   applyElevationAlignmentForHUD: function() { return /* binding */ p; },
/* harmony export */   applyPerVertexElevationAlignment: function() { return /* binding */ u; },
/* harmony export */   elevationModeChangeUpdateType: function() { return /* binding */ m; },
/* harmony export */   evaluateElevationAlignmentAtPoint: function() { return /* binding */ f; },
/* harmony export */   evaluateElevationInfoAtPoint: function() { return /* binding */ c; },
/* harmony export */   needsElevationUpdates2D: function() { return /* binding */ d; },
/* harmony export */   needsElevationUpdates3D: function() { return /* binding */ g; },
/* harmony export */   updateVertexPointGroundDistance: function() { return /* binding */ E; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatureUtils.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureUtils.js");
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/ElevationProvider.js */ "./node_modules/@arcgis/core/views/3d/support/ElevationProvider.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function u(e,t,n,o,i,a,s,l,u,c,f){const m=x[f.mode];let d,g,p=0;if((0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__.projectBuffer)(e,t,n,o,u.spatialReference,i,l))return m?.requiresAlignment(f)?(p=m.applyElevationAlignmentBuffer(o,i,a,s,l,u,c,f),d=a,g=s):(d=o,g=i),(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__.projectBuffer)(d,u.spatialReference,g,a,c.spatialReference,s,l)?p:void 0}function c(e,t,n,o,r){const l=((0,_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_5__.isDehydratedPoint)(e)?e.z:(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_6__.isSamplePosition)(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case"on-the-ground":{const n=(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_6__.getElevationAtPoint)(t,e,"ground")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case"relative-to-ground":{const i=(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_6__.getElevationAtPoint)(t,e,"ground")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case"relative-to-scene":{const i=(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_6__.getElevationAtPoint)(t,e,"scene")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case"absolute-height":{const i=n.geometryZWithOffset(l,o),a=(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_6__.getElevationAtPoint)(t,e,"ground")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function f(e,t,n,o){return c(e,t,n,o,D),D.z}function m(e,t,n){return"on-the-ground"===t&&"on-the-ground"===n?e.staysOnTheGround:t===n||"on-the-ground"!==t&&"on-the-ground"!==n?null==t||null==n?e.definedChanged:b.UPDATE:e.onTheGroundChanged}function d(e){return"relative-to-ground"===e||"relative-to-scene"===e}function g(e){return"absolute-height"!==e}function p(t,n,r,i,a){c(n,r,a,i,D),E(t,D.verticalDistanceToGround);const s=D.sampledElevation,l=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.copy)(C,t.transformation);O[0]=n.x,O[1]=n.y,O[2]=D.z;return (0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_3__.computeTranslationToOriginAndRotation)(n.spatialReference,O,l,i.spatialReference)?t.transformation=l:console.warn("Could not locate symbol object properly, it might be misplaced"),s}function E(e,t){for(let n=0;n<e.geometries.length;++n){const o=e.geometries[n].getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.CENTEROFFSETANDDISTANCE);o&&o.data[3]!==t&&(o.data[3]=t,e.geometryVertexAttributeUpdated(e.geometries[n],_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.CENTEROFFSETANDDISTANCE))}}function v(e,t,n,o,r,i){let a=0;const s=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],u=e[t+2],c=i.getElevation(r,l,u,s,"ground")??0;a+=c,n[o]=r,n[o+1]=l,n[o+2]=c,t+=3,o+=3}return a/r}function h(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,"ground")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function A(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,"scene")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function T(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function y(e,t,n,o,r,i,a,s){const l=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext;t*=3,o*=3;for(let c=0;c<r;++c){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==u?a+l:l,t+=3,o+=3}return 0}class R{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}var b;!function(e){e[e.NONE=0]="NONE",e[e.UPDATE=1]="UPDATE",e[e.RECREATE=2]="RECREATE"}(b||(b={}));const x={"absolute-height":{applyElevationAlignmentBuffer:y,requiresAlignment:T},"on-the-ground":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},"relative-to-ground":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},"relative-to-scene":{applyElevationAlignmentBuffer:A,requiresAlignment:()=>!0}},C=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),D=new R,O=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clone: function() { return /* binding */ o; },
/* harmony export */   createContext: function() { return /* binding */ a; },
/* harmony export */   createContextWithoutExpressionSupport: function() { return /* binding */ u; },
/* harmony export */   createFeature: function() { return /* binding */ s; },
/* harmony export */   execute: function() { return /* binding */ i; },
/* harmony export */   extractExpressionInfo: function() { return /* binding */ d; },
/* harmony export */   setContextFeature: function() { return /* binding */ l; },
/* harmony export */   zeroContext: function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const c=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.layers.graphics.featureExpressionInfoUtils");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if("string"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if("string"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__.loadArcade)();(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error("Expressions containing '$view' are not supported on ElevationInfo"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c().errorOncePerTick("Arcade support required but not provided");const n=t;n._geometry&&(n._geometry=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.hydrateGeometry)(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return"number"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||"0"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return"0"===e?0:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/interfaces.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrapeSourceType: function() { return /* binding */ e; },
/* harmony export */   DrapeTargetType: function() { return /* binding */ t; },
/* harmony export */   DrapedRenderGroup: function() { return /* binding */ a; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var e,a,t;!function(e){e[e.RasterImage=0]="RasterImage",e[e.Features=1]="Features"}(e||(e={})),function(e){e[e.MapLayer=0]="MapLayer",e[e.ViewLayer=1]="ViewLayer",e[e.Outline=2]="Outline",e[e.SnappingHint=3]="SnappingHint"}(a||(a={})),function(e){e[e.WithRasterImage=0]="WithRasterImage",e[e.WithoutRasterImage=1]="WithoutRasterImage"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/ElevationProvider.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/ElevationProvider.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SamplePosition: function() { return /* binding */ r; },
/* harmony export */   getElevationAtPoint: function() { return /* binding */ a; },
/* harmony export */   isSamplePosition: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedFeatureUtils.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return"array"in e}function a(r,a,n="ground"){if((0,_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_0__.isDehydratedPoint)(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/engineContent/marker.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/engineContent/marker.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createMarkerTexture: function() { return /* binding */ f; },
/* harmony export */   markerSizePerLineWidth: function() { return /* binding */ p; },
/* harmony export */   markerSymbolSize: function() { return /* binding */ s; },
/* harmony export */   markerTextureSize: function() { return /* binding */ m; },
/* harmony export */   markerThickness: function() { return /* binding */ n; },
/* harmony export */   markerTipThicknessFactor: function() { return /* binding */ w; }
/* harmony export */ });
/* harmony import */ var _sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sdfPrimitives.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const m=64,s=m/2,n=s/5,p=m/n,w=.25;function f(p,w){const f=(0,_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_0__.createPrimitive)(p,m,s,n),u=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.TextureDescriptor;return u.internalFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,u.width=m,u.height=m,u.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.CLAMP_TO_EDGE,new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__.Texture(w,u,f)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js ***!
  \********************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RibbonVertexPosition: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shading/VisualVariables.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js");
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/FloatsPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const o=8;function c(c,s){const l=c.vertex;l.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("intrinsicWidth",(t=>t.width))),s.vvSize?(c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.SIZEFEATUREATTRIBUTE,"float"),l.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float3PassUniform("vvSizeMinSize",(t=>t.vvSize.minSize)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float3PassUniform("vvSizeMaxSize",(t=>t.vvSize.maxSize)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float3PassUniform("vvSizeOffset",(t=>t.vvSize.offset)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float3PassUniform("vvSizeFactor",(t=>t.vvSize.factor))),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`float getSize() {
return intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;
}`)):(c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.SIZE,"float"),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`float getSize(){
return intrinsicWidth * size;
}`)),s.vvOpacity?(c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.OPACITYFEATUREATTRIBUTE,"float"),l.constants.add("vvOpacityNumber","int",8),l.uniforms.add(new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatsPassUniform("vvOpacityValues",(t=>t.vvOpacity.values),o),new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatsPassUniform("vvOpacityOpacities",(t=>t.vvOpacity.opacityValues),o)),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`float interpolateOpacity( float value ){
if (value <= vvOpacityValues[0]) {
return vvOpacityOpacities[0];
}
for (int i = 1; i < vvOpacityNumber; ++i) {
if (vvOpacityValues[i] >= value) {
float f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);
return mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);
}
}
return vvOpacityOpacities[vvOpacityNumber - 1];
}
vec4 applyOpacity( vec4 color ){
return vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));
}`)):l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec4 applyOpacity( vec4 color ){
return color;
}`),s.vvColor?(c.include(_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_0__.VisualVariables,s),c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.COLORFEATUREATTRIBUTE,"float"),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec4 getColor(){
return applyOpacity(interpolateVVColor(colorFeatureAttribute));
}`)):(c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.COLOR,"vec4"),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec4 getColor(){
return applyOpacity(color);
}`))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineStipple: function() { return /* binding */ d; },
/* harmony export */   computePixelSize: function() { return /* binding */ S; }
/* harmony export */ });
/* harmony import */ var _util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/RgbaFloatEncoding.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js");
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _materials_stippleTextureRepository_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../materials/stippleTextureRepository.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js");
/* harmony import */ var _shaders_ensureColor4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shaders/ensureColor4.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function d(e,t){t.stippleEnabled?c(e,t):f(e)}function c(p,n){const d=!(n.draped&&n.stipplePreferContinuous),{vertex:c,fragment:f}=p;f.include(_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_0__.RgbaFloatEncoding),n.draped||((0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__.addCameraPosition)(c,n),c.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("worldToScreenPerDistanceRatio",((e,t)=>1/t.camera.perScreenPixelRatio))),c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`float computeWorldToScreenRatio(vec3 segmentCenter) {
float segmentDistanceToCamera = length(segmentCenter - cameraPosition);
return worldToScreenPerDistanceRatio / segmentDistanceToCamera;
}`)),p.varyings.add("vStippleDistance","float"),p.varyings.add("vStippleDistanceLimits","vec2"),p.varyings.add("vStipplePatternStretch","float"),c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`
    float discretizeWorldToScreenRatio(float worldToScreenRatio) {
      float step = ${u};

      float discreteWorldToScreenRatio = log(worldToScreenRatio);
      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;
      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);
      return discreteWorldToScreenRatio;
    }
  `),c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {`),c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`
    if (segmentLengthPseudoScreen >= ${d?"patternLength":"1e4"}) {
  `),(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__.addPixelRatio)(c),c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`float repetitions = segmentLengthScreen / (patternLength * pixelRatio);
float flooredRepetitions = max(1.0, floor(repetitions + 0.5));
float segmentLengthScreenRounded = flooredRepetitions * patternLength;
float stretch = repetitions / flooredRepetitions;
vStipplePatternStretch = max(0.75, stretch);
return vec2(0.0, segmentLengthScreenRounded);
}
return vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);
}`),f.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("stipplePatternTexture",(e=>e.stippleTexture)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("stipplePatternSDFNormalizer",(e=>m(e.stipplePattern))),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("stipplePatternPixelSizeInv",(e=>1/S(e)))),f.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`float getStippleSDF(out bool isClamped) {
float stippleDistanceClamped = clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y);
vec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;
isClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;
float u = stippleDistanceClamped * gl_FragCoord.w * stipplePatternPixelSizeInv * vLineSizeInv;
u = fract(u);
float encodedSDF = rgba2float(texture(stipplePatternTexture, vec2(u, 0.5)));
float sdf = (encodedSDF * 2.0 - 1.0) * stipplePatternSDFNormalizer;
return (sdf - 0.5) * vStipplePatternStretch + 0.5;
}
float getStippleSDF() {
bool ignored;
return getStippleSDF(ignored);
}
float getStippleAlpha() {
bool isClamped;
float stippleSDF = getStippleSDF(isClamped);
float antiAliasedResult = clamp(stippleSDF * vLineWidth + 0.5, 0.0, 1.0);
return isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;
}`),n.stippleOffColorEnabled?(f.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float4PassUniform("stippleOffColor",(e=>(0,_shaders_ensureColor4_js__WEBPACK_IMPORTED_MODULE_7__.ensureColor4)(e.stippleOffColor)))),f.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`#define discardByStippleAlpha(stippleAlpha, threshold) {}
#define blendStipple(color, stippleAlpha) mix(color, stippleOffColor, stippleAlpha)`)):f.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`#define discardByStippleAlpha(stippleAlpha, threshold) if (stippleAlpha < threshold) { discard; }
#define blendStipple(color, stippleAlpha) vec4(color.rgb, color.a * stippleAlpha)`)}function f(e){e.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`float getStippleAlpha() { return 1.0; }
#define discardByStippleAlpha(_stippleAlpha_, _threshold_) {}
#define blendStipple(color, _stippleAlpha_) color`)}function m(e){return e?(Math.floor(.5*((0,_materials_stippleTextureRepository_js__WEBPACK_IMPORTED_MODULE_6__.computeLongestPattern)(e)-1))+.5)/e.pixelRatio:1}function S(e){const t=e.stipplePattern;return t?(0,_materials_stippleTextureRepository_js__WEBPACK_IMPORTED_MODULE_6__.computeTextureSize)(e.stipplePattern)/t.pixelRatio:1}const u=_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl.float(.4);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MarkerSizing: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../support/engineContent/marker.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/marker.js");
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shaders/LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(n,i){const d=n.vertex;(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__.addPixelRatio)(d),null==d.uniforms.get("markerScale")&&d.constants.add("markerScale","float",1),d.constants.add("markerSizePerLineWidth","float",_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerSizePerLineWidth).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`float getLineWidth() {
return max(getSize(), 1.0) * pixelRatio;
}
float getScreenMarkerSize() {
return markerSizePerLineWidth * markerScale * getLineWidth();
}`),i.space===_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.LineMarkerSpace.World&&(d.constants.add("maxSegmentLengthFraction","float",.45),d.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("perRenderPixelRatio",((e,r)=>r.camera.perRenderPixelRatio))),d.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`bool areWorldMarkersHidden(vec4 pos, vec4 other) {
vec3 midPoint = mix(pos.xyz, other.xyz, 0.5);
float distanceToCamera = length(midPoint);
float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;
float worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;
float segmentLen = length(pos.xyz - other.xyz);
return worldMarkerSize > maxSegmentLengthFraction * segmentLen;
}
float getWorldMarkerSize(vec4 pos) {
float distanceToCamera = length(pos.xyz);
float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;
return getScreenMarkerSize() * screenToWorldRatio;
}`))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DirtyEventNames: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const e=["layerObjectAdded","layerObjectRemoved","layerObjectsAdded","layerObjectsRemoved","transformationChanged","shaderTransformationChanged","visibilityChanged","occlusionChanged","highlightChanged","geometryAdded","geometryRemoved","attributesChanged"];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GridLocalOriginFactory: function() { return /* binding */ _; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _Attribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LocalOriginFactory.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js");
/* harmony import */ var _Object3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _testUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./testUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/testUtils.js");
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _WebGLLayer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./WebGLLayer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js");
/* harmony import */ var _materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../materials/RibbonLineMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class _{constructor(i){this._originSR=i,this._rootOriginId="root/"+(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_1__.generateUID)(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const r=this._origins.get(this._rootOriginId);if(null==r){const i=_testUtils_js__WEBPACK_IMPORTED_MODULE_11__.gridLocalOriginFactory.rootOrigin;if(null!=i)return this._origins.set(this._rootOriginId,(0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_9__.fromValues)(i[0],i[1],i[2],this._rootOriginId)),this.getOrigin(t);const r=(0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_9__.fromValues)(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),a=`${s}/${e}/${n}`;let m=this._origins.get(a);const g=.5*o;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.d)(l,t,r.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]),l[0]<g&&l[1]<g&&l[2]<g){if(m){const r=Math.max(...l);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.d)(l,t,m.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]);if(Math.max(...l)<r)return m}return r}return m||(m=(0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_9__.fromValues)(s*o,e*o,n*o,a),this._origins.set(a,m)),m}_drawOriginBox(t,i=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(1,1,0,1)){const r=window.view,h=r._stage,c=i.toString();if(!this._objects.has(c)){this._material=new _materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_14__.RibbonLineMaterial({width:2,color:i}),h.add(this._material);const t=new _WebGLLayer_js__WEBPACK_IMPORTED_MODULE_13__.WebGLLayer(h,{pickable:!1}),r=new _Object3D_js__WEBPACK_IMPORTED_MODULE_10__.Object3D({castShadow:!1});h.add(r),t.add(r),this._objects.set(c,r)}const _=this._objects.get(c),l=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],p=l.length,j=new Array(3*p),b=new Array,u=.5*this._gridSize;for(let o=0;o<p;o++)j[3*o]=t[0]+(1&l[o]?u:-u),j[3*o+1]=t[1]+(2&l[o]?u:-u),j[3*o+2]=t[2]+(4&l[o]?u:-u),o>0&&b.push(o-1,o);(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_5__.projectBuffer)(j,this._originSR,0,j,r.renderSpatialReference,0,p);const M=new _Geometry_js__WEBPACK_IMPORTED_MODULE_8__.Geometry(this._material,[[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,new _Attribute_js__WEBPACK_IMPORTED_MODULE_6__.Attribute(j,b,3,!0)]],null,_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_7__.ContentObjectType.Line);h.add(M),_.addGeometry(M)}get test(){}}const l=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LocalOrigin: function() { return /* binding */ s; },
/* harmony export */   fromValues: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(r,s){this.vec3=r,this.id=s}}function t(t,o,c,e){return new s((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(t,o,c),e)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Object3D: function() { return /* binding */ A; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/mathUtils.js */ "./node_modules/@arcgis/core/views/3d/support/mathUtils.js");
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _ContentObject_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ContentObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js");
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Object3DStateID.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../materials/renderers/utils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class A extends _ContentObject_js__WEBPACK_IMPORTED_MODULE_8__.ContentObject{get geometries(){return this._geometries}get transformation(){return this._transformation??_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.IDENTITY}set transformation(e){this._transformation=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.copy)(this._transformation??(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),e),this._invalidateBoundingVolume(),this._emit("transformationChanged",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(e){this._shaderTransformation=e?(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.copy)(this._shaderTransformation??(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),e):null,this._invalidateBoundingVolume(),this._emit("shaderTransformationChanged",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}constructor(t={}){super(),this.type=_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_9__.ContentObjectType.Object,this._shaderTransformation=null,this._parentLayer=null,this._visible=!0,this.castShadow=t.castShadow??!0,this.usesVerticalDistanceToGround=t.usesVerticalDistanceToGround??!1,this.graphicUid=t.graphicUid,this.layerUid=t.layerUid,t.isElevationSource&&(this.lastValidElevationBB=new L),this._geometries=t.geometries?Array.from(t.geometries):new Array}dispose(){this._geometries.length=0}get parentLayer(){return this._parentLayer}set parentLayer(t){(0,_Util_js__WEBPACK_IMPORTED_MODULE_11__.assert)(null==this._parentLayer||null==t,"Object3D can only be added to a single Layer"),this._parentLayer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t),this._emit("geometryAdded",{object:this,geometry:t}),this._invalidateBoundingVolume()}removeGeometry(t){const e=this._geometries.splice(t,1)[0];e&&(this._emit("geometryRemoved",{object:this,geometry:e}),this._invalidateBoundingVolume())}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,e,i=!1){this._emit("attributesChanged",{object:this,geometry:t,attribute:e,sync:i}),(0,_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.affectsGeometry)(e)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit("visibilityChanged",this)}}maskOccludee(){const t=new _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_10__.Object3DOccludeeStateID;for(const e of this._geometries)e.occludees=(0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_13__.addObject3DStateID)(e.occludees,t);return this._emit("occlusionChanged",this),t}removeOcclude(t){for(const e of this._geometries)e.occludees=(0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_13__.removeObject3DStateID)(e.occludees,t);this._emit("occlusionChanged",this)}highlight(t){const e=new _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_10__.Object3DHighlightStateID(t);for(const i of this._geometries)i.addHighlight(e);return this._emit("highlightChanged",this),e}removeHighlight(t){for(const e of this._geometries)e.removeHighlight(t);this._emit("highlightChanged",this)}removeStateID(t){t.channel===_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.Object3DState.Highlight?this.removeHighlight(t):this.removeOcclude(t)}getCombinedStaticTransformation(t,i){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.multiply)(i,this.transformation,t.transformation)}getCombinedShaderTransformation(t,i=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)()){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.multiply)(i,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new M,this._validateBoundingVolume(this._bvWorldSpace,E.WorldSpace)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new M,this._validateBoundingVolume(this._bvObjectSpace,E.ObjectSpace)),this._bvObjectSpace}_validateBoundingVolume(t,e){const i=e===E.ObjectSpace;for(const s of this._geometries){const e=s.boundingInfo;e&&T(e,t,i?s.transformation:this.getCombinedShaderTransformation(s))}(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.m)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_5__.a)(t.bounds),t.min,t.max,.5);for(const s of this._geometries){const e=s.boundingInfo;if(null==e)continue;const r=i?s.transformation:this.getCombinedShaderTransformation(s),o=(0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_6__.maxScale)(r);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(W,e.center,r);const m=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.j)(W,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_5__.a)(t.bounds)),h=e.radius*o;t.bounds[3]=Math.max(t.bounds[3],m+h)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this._parentLayer&&t&&this._parentLayer.notifyObjectBBChanged(this,t)}_emit(t,e){this._parentLayer&&this._parentLayer.events.emit(t,e)}get test(){}}class L{constructor(){this.min=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.max=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)}isEmpty(){return this.max[0]<this.min[0]&&this.max[1]<this.min[1]&&this.max[2]<this.min[2]}}class M extends L{constructor(){super(...arguments),this.bounds=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_5__.c)()}}function T(t,e,s){const r=t.bbMin,o=t.bbMax;if((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.hasIdentityRotation)(s)){const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(C,s[12],s[13],s[14]);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.g)(B,r,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.g)(U,o,t);for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],U[i])}else if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(B,r,s),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.p)(r,o))for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],B[i]);else{(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(U,o,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t]);for(let t=0;t<3;++t){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(B,r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(U,o),B[t]=o[t],U[t]=r[t],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(B,B,s),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(U,U,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t])}}}const C=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),B=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),U=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),W=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)();var E;!function(t){t[t.WorldSpace=0]="WorldSpace",t[t.ObjectSpace=1]="ObjectSpace"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UpdatePolicy: function() { return /* binding */ C; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var C;!function(C){C[C.ASYNC=0]="ASYNC",C[C.SYNC=1]="SYNC"}(C||(C={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebGLLayer: function() { return /* binding */ a; },
/* harmony export */   isWebGLLayer: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _ContentObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ContentObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js");
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _DirtyEvents_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DirtyEvents.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js");
/* harmony import */ var _Octree_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Octree.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js");
/* harmony import */ var _UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a extends _ContentObject_js__WEBPACK_IMPORTED_MODULE_4__.ContentObject{constructor(s,r,d=""){super(),this.stage=s,this.apiLayerUid=d,this.type=_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__.ContentObjectType.Layer,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.visible=!0,this.sliceable=!1,this._objectsAdded=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._objects=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._pickable=!0,this.visible=r?.visible??!0,this._pickable=r?.pickable??!0,this.updatePolicy=r?.updatePolicy??_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_8__.UpdatePolicy.ASYNC,this._disableOctree=r?.disableOctree??!1,s.add(this);for(const e of _DirtyEvents_js__WEBPACK_IMPORTED_MODULE_6__.DirtyEventNames)this._handles.add(this.events.on(e,(t=>s.handleEvent(e,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.remove(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit("layerObjectAdded",{layer:this,object:e}),null!=this._octree&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit("layerObjectRemoved",{layer:this,object:e}),null!=this._octree&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit("layerObjectsAdded",{layer:this,objects:e}),null!=this._octree&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit("layerObjectsRemoved",{layer:this,objects:t}),null!=this._octree){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){this.updatePolicy!==_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_8__.UpdatePolicy.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.length>50&&!this._disableOctree?(this._octree=new _Octree_js__WEBPACK_IMPORTED_MODULE_7__["default"]((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}invalidateSpatialQueryAccelerator(){this._octree=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._octree),this._objectsAdded.clear()}}function l(e){return null!=e&&e.type===_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__.ContentObjectType.Layer}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/testUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/testUtils.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   gridLocalOriginFactory: function() { return /* binding */ e; },
/* harmony export */   textTextureAtlas: function() { return /* binding */ n; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n={stableRendering:!1},e={rootOrigin:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ProceduralTextureRepository.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ProceduralTextureRepository.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProceduralTextureRepository: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t,r,s){this._createTexture=t,this._parametersKey=r,this._repository=new Map,this._orphanCache=s.newCache(`procedural-texture-repository:${(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__.generateUID)()}`,(e=>e.dispose()))}destroy(){for(const{texture:e}of this._repository.values())e.dispose();this._repository.clear(),this._orphanCache.destroy()}swap(e,t=null){const r=this._acquire(e);return this.release(t),r}release(e){if(null==e)return;const t=this._parametersKey(e),r=this._repository.get(t);if(r&&(r.refCount--,0===r.refCount)){this._repository.delete(t);const{texture:e}=r,s=e.usedMemory;this._orphanCache.put(t,e,s)}}_acquire(e){if(null==e)return null;const t=this._parametersKey(e),s=this._repository.get(t);if(s)return s.refCount++,s.texture;const o=this._orphanCache.pop(t)??this._createTexture(e),i=new r(o);return this._repository.set(t,i),o}}class r{constructor(e){this.texture=e,this.refCount=1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Parameters: function() { return /* binding */ q; },
/* harmony export */   RibbonLineMaterial: function() { return /* binding */ W; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/frustum.js */ "./node_modules/@arcgis/core/geometry/support/frustum.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/* harmony import */ var _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../shaders/LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/* harmony import */ var _chunks_RibbonLine_glsl_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../chunks/RibbonLine.glsl.js */ "./node_modules/@arcgis/core/chunks/RibbonLine.glsl.js");
/* harmony import */ var _shaders_RibbonLineTechnique_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../shaders/RibbonLineTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js");
/* harmony import */ var _shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../shaders/RibbonLineTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var Z;!function(e){e[e.LEFT_JOIN_START=-2]="LEFT_JOIN_START",e[e.LEFT_JOIN_END=-1]="LEFT_JOIN_END",e[e.LEFT_CAP_START=-4]="LEFT_CAP_START",e[e.LEFT_CAP_END=-5]="LEFT_CAP_END",e[e.RIGHT_JOIN_START=2]="RIGHT_JOIN_START",e[e.RIGHT_JOIN_END=1]="RIGHT_JOIN_END",e[e.RIGHT_CAP_START=4]="RIGHT_CAP_START",e[e.RIGHT_CAP_END=5]="RIGHT_CAP_END"}(Z||(Z={}));class W extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_15__.Material{constructor(e){super(e,q),this._configuration=new _shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_23__.RibbonLineTechniqueConfiguration,this.vertexAttributeLocations=_shaders_RibbonLineTechnique_js__WEBPACK_IMPORTED_MODULE_22__.vertexAttributeLocations,this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__.RenderSlot.OPAQUE_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.isHighlightOrOID)(e)||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.isColor)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_15__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__.RenderSlot.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.isDepth)(e)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__.RenderSlot.OCCLUDER_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.isColorHighlightOIDOrDepth)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_15__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.isColorHighlightOIDOrDepth)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_15__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__.RenderSlot.TRANSPARENT_MATERIAL,e=>e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.ShaderOutput.Color&&this.parameters.writeDepth&&this.parameters.renderOccluded!==_lib_Material_js__WEBPACK_IMPORTED_MODULE_15__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.ShaderOutput.Color&&!this.parameters.writeDepth&&this.parameters.renderOccluded!==_lib_Material_js__WEBPACK_IMPORTED_MODULE_15__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__.RenderSlot.DRAPED_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.is2DGeometryOutput)(e)]])}getConfiguration(e,t){this._configuration.output=e,this._configuration.oitPass=t.oitPass,this._configuration.draped=t.slot===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_16__.RenderSlot.DRAPED_MATERIAL;const r=null!=this.parameters.stipplePattern&&e!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_11__.ShaderOutput.Highlight;return this._configuration.stippleEnabled=r,this._configuration.stippleOffColorEnabled=r&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=r&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.roundJoins="round"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&$(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.hasOccludees=t.hasOccludees,this._configuration.occluder=this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_15__.RenderOccludedFlag.OccludeAndTransparentStencil,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.wireframe=this.parameters.wireframe,this._configuration}get visible(){return this.parameters.color[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__.alphaCutoff||null!=this.parameters.stipplePattern&&(this.parameters.stippleOffColor?.[3]??0)>_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__.alphaCutoff}intersectDraped({attributes:e,screenToWorldRatio:r},i,s,a,n,o){if(!s.options.selectionMode)return;const l=e.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZE);let c=this.parameters.width;if(this.parameters.vvSize){const r=e.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZEFEATUREATTRIBUTE).data[0];c*=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(this.parameters.vvSize.offset[0]+r*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else l&&(c*=l.data[0]);const p=a[0],h=a[1],u=(c/2+4)*r;let f=Number.MAX_VALUE,m=0;const T=e.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.POSITION).data,d=K(this.parameters,e)?T.length-2:T.length-5;for(let _=0;_<d;_+=3){const e=T[_],r=T[_+1],i=(_+3)%T.length,s=p-e,a=h-r,n=T[i]-e,o=T[i+1]-r,l=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)((n*s+o*a)/(n*n+o*o),0,1),c=n*l-s,u=o*l-a,d=c*c+u*u;d<f&&(f=d,m=_/3)}f<u*u&&n(o.dist,o.normal,m,!1)}intersect(r,u,f,m,d,R){if(!f.options.selectionMode||!r.visible)return;if(!(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_17__.isTranslationMatrix)(u))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.webgl-engine.materials.RibbonLineMaterial").error("intersection assumes a translation-only matrix");const S=r.attributes,v=S.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.POSITION).data;let P=this.parameters.width;if(this.parameters.vvSize){const e=S.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZEFEATUREATTRIBUTE).data[0];P*=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(this.parameters.vvSize.offset[0]+e*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else S.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZE)&&(P*=S.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZE).data[0]);const N=f.camera,L=se;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.copy)(L,f.point);const C=P*N.pixelRatio/2+4*N.pixelRatio;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(me[0],L[0]-C,L[1]+C,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(me[1],L[0]+C,L[1]+C,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(me[2],L[0]+C,L[1]-C,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(me[3],L[0]-C,L[1]-C,0);for(let e=0;e<4;e++)if(!N.unprojectFromRenderScreen(me[e],Te[e]))return;(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(N.eye,Te[0],Te[1],de),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(N.eye,Te[1],Te[2],_e),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(N.eye,Te[2],Te[3],Ee),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(N.eye,Te[3],Te[0],Ae);let b=Number.MAX_VALUE,U=0;const y=K(this.parameters,S)?v.length-2:v.length-5;for(let e=0;e<y;e+=3){ee[0]=v[e]+u[12],ee[1]=v[e+1]+u[13],ee[2]=v[e+2]+u[14];const t=(e+3)%v.length;if(te[0]=v[t]+u[12],te[1]=v[t+1]+u[13],te[2]=v[t+2]+u[14],(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(de,ee)<0&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(de,te)<0||(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(_e,ee)<0&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(_e,te)<0||(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(Ee,ee)<0&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(Ee,te)<0||(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(Ae,ee)<0&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(Ae,te)<0)continue;if(N.projectToRenderScreen(ee,ae),N.projectToRenderScreen(te,ne),ae[2]<0&&ne[2]>0){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.d)(re,ee,te);const e=N.frustum,t=-(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__.PlaneIndex.NEAR],ee)/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.f)(re,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.getNormal)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__.PlaneIndex.NEAR]));(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.h)(re,re,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(ee,ee,re),N.projectToRenderScreen(ee,ae)}else if(ae[2]>0&&ne[2]<0){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.d)(re,te,ee);const e=N.frustum,t=-(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__.PlaneIndex.NEAR],te)/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.f)(re,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.getNormal)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__.PlaneIndex.NEAR]));(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.h)(re,re,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(te,te,re),N.projectToRenderScreen(te,ne)}else if(ae[2]<0&&ne[2]<0)continue;ae[2]=0,ne[2]=0;const r=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.distance2)((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(ae,ne,ce),L);r<b&&(b=r,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(oe,ee),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(le,te),U=e/3)}const D=f.rayBegin,j=f.rayEnd;if(b<C*C){let e=Number.MAX_VALUE;if((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.closestLineSegmentPoint)((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(oe,le,ce),(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(D,j,pe),ie)){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.d)(ie,ie,D);const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.l)(ie);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.h)(ie,ie,1/t),e=t/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.j)(D,j)}R(e,ie,U,!1)}}get _layout(){const e=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_10__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.POSITION).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.PREVPOSITION).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.NEXTPOSITION).f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SUBDIVISIONFACTOR).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.UV0);return this.parameters.vvSize?e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZEFEATUREATTRIBUTE):e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZE),this.parameters.vvColor?e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLORFEATUREATTRIBUTE):e.vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLOR),this.parameters.vvOpacity&&e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.OPACITYFEATUREATTRIBUTE),(0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_13__.olidEnabled)()&&e.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.OBJECTANDLAYERIDCOLOR),e}createBufferWriter(){return new X(this._layout,this.parameters)}createGLMaterial(e){return new Y(e)}validateParameters(e){"miter"!==e.join&&(e.miterLimit=0),null!=e.markerParameters&&(e.markerScale=e.markerParameters.width/e.width)}}class Y extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_14__["default"]{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextures.release(this._stipplePattern),this._stipplePattern=null}beginSlot(e){const t=this._material.parameters.stipplePattern;return this._stipplePattern!==t&&(this._material.setParameters({stippleTexture:this._stippleTextures.swap(t,this._stipplePattern)}),this._stipplePattern=t),this.acquireTechnique(_shaders_RibbonLineTechnique_js__WEBPACK_IMPORTED_MODULE_22__.RibbonLineTechnique,e)}}class q extends _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_19__.VisualVariablePassParameters{constructor(){super(...arguments),this.width=0,this.color=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.ONES,this.join="miter",this.cap=_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_23__.CapType.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.wireframe=!1}get transparent(){return this.color[3]<1||null!=this.stipplePattern&&(this.stippleOffColor?.[3]??0)<1}}class X{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t,this.numJoinSubdivisions=0;const r=t.stipplePattern?1:0;switch(this._parameters.join){case"miter":case"bevel":this.numJoinSubdivisions=r;break;case"round":this.numJoinSubdivisions=_chunks_RibbonLine_glsl_js__WEBPACK_IMPORTED_MODULE_21__.r+r}}_isClosed(e){return K(this._parameters,e)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.POSITION).indices.length/2+1,i=this._isClosed(e);let s=i?2:2*t;return s+=((i?r:r-1)-(i?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(e,t,r,i,a,n){const o=he,l=ue,p=fe,f=r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.POSITION),m=f.indices,T=f.data.length/3,d=r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.DISTANCETOSTART)?.data;m&&m.length!==2*(T-1)&&console.warn("RibbonLineMaterial does not support indices");const _=r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZEFEATUREATTRIBUTE)?.data[0]??r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.SIZE)?.data[0]??1;let E=[1,1,1,1],A=0;const R=this.vertexBufferLayout.fields.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLORFEATUREATTRIBUTE);R?A=r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLORFEATUREATTRIBUTE).data[0]:r.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLOR)&&(E=r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLOR).data);const O=this.vertexBufferLayout.fields.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.OPACITYFEATUREATTRIBUTE),g=O?r.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.OPACITYFEATUREATTRIBUTE).data[0]:0,I=new Float32Array(a.buffer),S=(0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_13__.olidEnabled)()?new Uint8Array(a.buffer):null,v=this.vertexBufferLayout.stride/4;let P=n*v;const N=P;let L=0;const C=d?(e,t,r)=>L=d[r]:(e,t,r)=>L+=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.j)(e,t),b=(e,t,r,s,a,n,o)=>{if(I[P++]=t[0],I[P++]=t[1],I[P++]=t[2],I[P++]=e[0],I[P++]=e[1],I[P++]=e[2],I[P++]=r[0],I[P++]=r[1],I[P++]=r[2],I[P++]=s,I[P++]=o,I[P++]=a,I[P++]=_,R)I[P++]=A;else{const e=Math.min(4*n,E.length-4);I[P++]=E[e],I[P++]=E[e+1],I[P++]=E[e+2],I[P++]=E[e+3]}O&&(I[P++]=g),(0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_13__.olidEnabled)()&&(i&&(S[4*P]=i[0],S[4*P+1]=i[1],S[4*P+2]=i[2],S[4*P+3]=i[3]),P++)};P+=v,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(l,f.data[0],f.data[1],f.data[2]),e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.t)(l,l,e);const U=this._isClosed(r);if(U){const t=f.data.length-3;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(o,f.data[t],f.data[t+1],f.data[t+2]),e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.t)(o,o,e)}else (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(p,f.data[3],f.data[4],f.data[5]),e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.t)(p,p,e),b(l,l,p,1,Z.LEFT_CAP_START,0,0),b(l,l,p,1,Z.RIGHT_CAP_START,0,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(o,l),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(l,p);const D=U?0:1,j=U?T:T-1;for(let h=D;h<j;h++){const t=(h+1)%T*3;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(p,f.data[t],f.data[t+1],f.data[t+2]),e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.t)(p,p,e),C(o,l,h),b(o,l,p,0,Z.LEFT_JOIN_END,h,L),b(o,l,p,0,Z.RIGHT_JOIN_END,h,L);const r=this.numJoinSubdivisions;for(let e=0;e<r;++e){const t=(e+1)/(r+1);b(o,l,p,t,Z.LEFT_JOIN_END,h,L),b(o,l,p,t,Z.RIGHT_JOIN_END,h,L)}b(o,l,p,1,Z.LEFT_JOIN_START,h,L),b(o,l,p,1,Z.RIGHT_JOIN_START,h,L),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(o,l),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(l,p)}U?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(p,f.data[3],f.data[4],f.data[5]),e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.t)(p,p,e),L=C(o,l,j),b(o,l,p,0,Z.LEFT_JOIN_END,D,L),b(o,l,p,0,Z.RIGHT_JOIN_END,D,L)):(L=C(o,l,j),b(o,l,l,0,Z.LEFT_CAP_END,j,L),b(o,l,l,0,Z.RIGHT_CAP_END,j,L)),Q(I,N+v,I,N,v);P=Q(I,P-v,I,P,v),this._parameters.wireframe&&this._addWireframeVertices(a,N,P,v)}_addWireframeVertices(e,t,r,i){const s=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=Q(a,e,s,n,i);for(let l=0;l<a.length-1;l+=2*i)o(l),o(l+2*i),o(l+1*i),o(l+2*i),o(l+1*i),o(l+3*i)}}function Q(e,t,r,i,s){for(let a=0;a<s;a++)r[i++]=e[t++];return i}function K(e,t){if(!e.isClosed)return!1;return t.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.POSITION).indices.length>2}function $(e){return e.anchor===_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.LineMarkerAnchor.Tip&&e.hideOnShortSegments&&"begin-end"===e.placement&&e.worldSpace}const ee=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),te=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),re=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),ie=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),se=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),ae=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),ne=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),oe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),le=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),ce=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.create)(),pe=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.create)(),he=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),ue=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),fe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),me=[(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)()],Te=[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)()],de=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.create)(),_e=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.create)(),Ee=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.create)(),Ae=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeLongestPattern: function() { return /* binding */ s; },
/* harmony export */   computeTextureSize: function() { return /* binding */ f; },
/* harmony export */   createStippleTextureRepository: function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/floatRGBA.js */ "./node_modules/@arcgis/core/core/floatRGBA.js");
/* harmony import */ var _ProceduralTextureRepository_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ProceduralTextureRepository.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ProceduralTextureRepository.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function u(t,u){return new _ProceduralTextureRepository_js__WEBPACK_IMPORTED_MODULE_1__.ProceduralTextureRepository((e=>{const{encodedData:u,textureSize:c}=a(e),f=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor;return f.internalFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.RGBA,f.width=c,f.height=1,f.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.REPEAT,new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__.Texture(t,f,u)}),(t=>`${t.pattern.join(",")}-r${t.pixelRatio}`),u)}function a(e){const r=c(e),o=1/e.pixelRatio,n=f(e),i=s(e),u=(Math.floor(.5*(i-1))+.5)*o,a=[];let l=1;for(const t of r){for(let e=0;e<t;e++){const r=l*(Math.min(e,t-1-e)+.5)*o/u*.5+.5;a.push(r)}l=-l}const p=Math.round(r[0]/2),m=[...a.slice(p),...a.slice(0,p)],d=new Uint8Array(4*n);let x=0;for(const c of m)(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.packFloatRGBA)(c,d,x),x+=4;return{encodedData:d,textureSize:n}}function c(t){return t.pattern.map((e=>Math.round(e*t.pixelRatio)))}function f(t){if(null==t)return 1;const e=c(t);return Math.floor(e.reduce(((t,e)=>t+e)))}function s(t){return c(t).reduce(((t,e)=>Math.max(t,e)))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineMarkerAnchor: function() { return /* binding */ p; },
/* harmony export */   LineMarkerSpace: function() { return /* binding */ s; },
/* harmony export */   LineMarkerTechniqueConfiguration: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var s,p;!function(e){e[e.Draped=0]="Draped",e[e.Screen=1]="Screen",e[e.World=2]="World",e[e.COUNT=3]="COUNT"}(s||(s={})),function(e){e[e.Center=0]="Center",e[e.Tip=1]="Tip",e[e.COUNT=2]="COUNT"}(p||(p={}));class a extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.space=s.Screen,this.anchor=p.Center,this.occluder=!1,this.hasSlicePlane=!1,this.writeDepth=!1,this.hideOnShortSegments=!1,this.hasCap=!1,this.hasTip=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0,this.objectAndLayerIdColorInstanced=!1}get draped(){return this.space===s.Draped}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)({count:s.COUNT})],a.prototype,"space",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)({count:p.COUNT})],a.prototype,"anchor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"occluder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hideOnShortSegments",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasCap",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasTip",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"vvSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"vvOpacity",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"cullAboveTerrain",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RibbonLineTechnique: function() { return /* binding */ g; },
/* harmony export */   vertexAttributeLocations: function() { return /* binding */ _; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_RibbonLine_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/RibbonLine.glsl.js */ "./node_modules/@arcgis/core/chunks/RibbonLine.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class g extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique{constructor(e,i,r){super(e,i,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_RibbonLine_glsl_js__WEBPACK_IMPORTED_MODULE_9__.R,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_RibbonLine_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./RibbonLine.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLine.glsl.js")))),r,_),this.primitiveType=i.wireframe?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.PrimitiveType.LINES:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.PrimitiveType.TRIANGLE_STRIP}_makePipelineState(t,i){const{oitPass:p,output:d,hasOccludees:T,hasPolygonOffset:h}=t,O=p===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.NONE,m=p===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.makePipelineState)({blending:t.output===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color?(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.blending)(p):null,depthTest:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitDepthTest)(p)},depthWrite:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.depthWrite)(t),drawBuffers:d===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.SpecialDrawBuffers.NONE]}:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getDrawBuffers)(p,d),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultColorWrite,stencilWrite:T?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilWriteMaskOn:null,stencilTest:T?i?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilBaseAllZerosParams:null,polygonOffset:O||m?h?A:null:_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.OITPolygonOffset})}initializePipeline(t){if(t.occluder){const i=t.hasPolygonOffset?A:null;this._occluderPipelineTransparent=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.premultipliedAlphaToPremultipliedAlpha,polygonOffset:i,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.depthCompareAlways,depthWrite:null,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultColorWrite,stencilWrite:null,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilToolTransparentOccluderParams,drawBuffers:t.output===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.SpecialDrawBuffers.NONE]}:null}),this._occluderPipelineOpaque=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.premultipliedAlphaToPremultipliedAlpha,polygonOffset:i,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.depthCompareAlways,depthWrite:null,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultColorWrite,stencilWrite:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilWriteMaskOff,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilToolMaskOccluderParams,drawBuffers:t.output===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.SpecialDrawBuffers.NONE]}:null}),this._occluderPipelineMaskWrite=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.makePipelineState)({blending:null,polygonOffset:i,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.depthCompareLess,depthWrite:null,colorWrite:null,stencilWrite:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilWriteMaskOn,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_7__.stencilToolMaskBaseParams,drawBuffers:t.output===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.SpecialDrawBuffers.NONE]}:null})}return this._occludeePipeline=this._makePipelineState(t,!0),this._makePipelineState(t,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL:return this._occluderPipelineTransparent??super.getPipeline();case _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OCCLUDER_MATERIAL:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const A={factor:0,units:-4},_=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PREVPOSITION,1],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.NEXTPOSITION,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SUBDIVISIONFACTOR,3],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.UV0,4],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR,5],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLORFEATUREATTRIBUTE,5],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZE,6],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZEFEATUREATTRIBUTE,6],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.OPACITYFEATUREATTRIBUTE,7],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.OBJECTANDLAYERIDCOLOR,8]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CapType: function() { return /* binding */ s; },
/* harmony export */   RibbonLineTechniqueConfiguration: function() { return /* binding */ p; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var s;!function(o){o[o.BUTT=0]="BUTT",o[o.SQUARE=1]="SQUARE",o[o.ROUND=2]="ROUND",o[o.COUNT=3]="COUNT"}(s||(s={}));class p extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.capType=s.BUTT,this.hasSlicePlane=!1,this.hasPolygonOffset=!1,this.writeDepth=!1,this.draped=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stipplePreferContinuous=!0,this.roundJoins=!1,this.applyMarkerOffset=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.hasOccludees=!1,this.occluder=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.wireframe=!1,this.discardInvisibleFragments=!1,this.objectAndLayerIdColorInstanced=!1,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)({count:s.COUNT})],p.prototype,"capType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"hasPolygonOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"draped",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"stippleEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"stippleOffColorEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"stipplePreferContinuous",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"roundJoins",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"applyMarkerOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"vvSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"vvOpacity",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"falloffEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"innerColorEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"occluder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"cullAboveTerrain",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"wireframe",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"discardInvisibleFragments",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],p.prototype,"objectAndLayerIdColorInstanced",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ensureColor4: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function s(t){return null==t?_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.ZEROS:4===t.length?t:(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_0__.s)(c,t[0],t[1],t[2],1)}const c=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_arcgis_core_views_3d_layers_graphics_ElevationContext_js-node_modules_ar-f77b49.f3ee26dcf7f229e1458e.js.map