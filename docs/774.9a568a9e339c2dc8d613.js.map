{"version":3,"file":"774.9a568a9e339c2dc8d613.js","mappings":"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","sources":["webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/rasterTransforms/IdentityTransform.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/RasterWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./BaseRasterTransform.js\";var e;let a=e=class extends t{constructor(){super(...arguments),this.type=\"identity\"}clone(){return new e}};r([o({IdentityXform:\"identity\"})],a.prototype,\"type\",void 0),a=e=r([s(\"esri.layers.support.rasterTransforms.IdentityTransform\")],a);const p=a;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"./GCSShiftTransform.js\";import t from\"./IdentityTransform.js\";import n from\"./PolynomialTransform.js\";const o={GCSShiftXform:r,IdentityXform:t,PolynomialXform:n},e=Object.keys(o);function f(r){const t=r?.type;return!r||e.includes(t)}function i(r){const t=r?.type;if(!t)return null;const n=o[r?.type];if(n){const t=new n;return t.read(r),t}return null}export{f as isTransformSupported,i as readTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import r from\"../../geometry/support/GeographicTransformation.js\";import e from\"./PixelBlock.js\";import{decode as t}from\"./rasterFormats/RasterCodec.js\";import{split as s,clipTile as o,mosaic as i,approximateTransform as n,getLocalArithmeticNorthRotations as a}from\"./rasterFunctions/pixelUtils.js\";import{create as l}from\"./rasterFunctions/rasterFunctionHelper.js\";import{requirePE as m,load as c,getProjectionOffsetGrid as f}from\"./rasterFunctions/rasterProjectionHelper.js\";import{computeStatisticsHistograms as p,estimateStatisticsHistograms as u}from\"./rasterFunctions/stretchUtils.js\";import{convertVectorFieldData as S,convertToLocalDirections as d}from\"./rasterFunctions/vectorFieldUtils.js\";import{readTransform as x}from\"./rasterTransforms/utils.js\";import y from\"../../renderers/support/RasterSymbolizer.js\";import{createFlowMesh as O}from\"../../views/2d/engine/flow/dataUtils.js\";import h from\"../../geometry/Extent.js\";import N from\"../../geometry/Point.js\";class J{convertVectorFieldData(r){const t=e.fromJSON(r.pixelBlock),s=S(t,r.type);return Promise.resolve(null!=s?s.toJSON():null)}computeStatisticsHistograms(r){const t=e.fromJSON(r.pixelBlock),s=p(t);return Promise.resolve(s)}async decode(r){const e=await t(r.data,r.options);return e&&e.toJSON()}symbolize(r){r.pixelBlock=e.fromJSON(r.pixelBlock),r.extent=r.extent?h.fromJSON(r.extent):null;const t=this.symbolizer.symbolize(r);return Promise.resolve(null!=t?t.toJSON():null)}async updateSymbolizer(r){this.symbolizer=y.fromJSON(r.symbolizerJSON),r.histograms&&\"rasterStretch\"===this.symbolizer?.rendererJSON.type&&(this.symbolizer.rendererJSON.histograms=r.histograms)}async updateRasterFunction(r){this.rasterFunction=l(r.rasterFunctionJSON)}async process(r){const t=this.rasterFunction.process({extent:h.fromJSON(r.extent),primaryPixelBlocks:r.primaryPixelBlocks.map((r=>null!=r?e.fromJSON(r):null)),primaryPixelSizes:r.primaryPixelSizes?.map((r=>null!=r?N.fromJSON(r):null)),primaryRasterIds:r.primaryRasterIds});return null!=t?t.toJSON():null}stretch(r){const t=this.symbolizer.simpleStretch(e.fromJSON(r.srcPixelBlock),r.stretchParams);return Promise.resolve(t?.toJSON())}estimateStatisticsHistograms(r){const t=u(e.fromJSON(r.srcPixelBlock));return Promise.resolve(t)}split(r){const t=s(e.fromJSON(r.srcPixelBlock),r.tileSize,r.maximumPyramidLevel??0,!1===r.useBilinear);return t&&t.forEach(((r,e)=>{t.set(e,r?.toJSON())})),Promise.resolve(t)}clipTile(r){const t=e.fromJSON(r.pixelBlock),s=o({...r,pixelBlock:t});return Promise.resolve(s?.toJSON())}async mosaicAndTransform(r){const t=r.srcPixelBlocks.map((r=>r?new e(r):null)),s=i(t,r.srcMosaicSize,{blockWidths:r.blockWidths,alignmentInfo:r.alignmentInfo,clipOffset:r.clipOffset,clipSize:r.clipSize});let o,l=s;return r.coefs&&(l=n(s,r.destDimension,r.coefs,r.sampleSpacing,r.interpolation)),r.projectDirections&&r.gcsGrid&&(o=a(r.destDimension,r.gcsGrid),l=d(l,r.isUV?\"vector-uv\":\"vector-magdir\",o)),{pixelBlock:l?.toJSON(),localNorthDirections:o}}async createFlowMesh(r,e){const t={data:new Float32Array(r.flowData.buffer),mask:new Uint8Array(r.flowData.maskBuffer),width:r.flowData.width,height:r.flowData.height},{vertexData:s,indexData:o}=await O(r.meshType,r.simulationSettings,t,e.signal);return{result:{vertexBuffer:s.buffer,indexBuffer:o.buffer},transferList:[s.buffer,o.buffer]}}async getProjectionOffsetGrid(e){const t=h.fromJSON(e.projectedExtent),s=h.fromJSON(e.srcBufferExtent);let o=null;e.datumTransformationSteps&&(o=new r({steps:e.datumTransformationSteps})),(e.includeGCSGrid||m(t.spatialReference,s.spatialReference,o))&&await c();const i=e.rasterTransform?x(e.rasterTransform):null;return f({...e,projectedExtent:t,srcBufferExtent:s,datumTransformation:o,rasterTransform:i})}}export{J as default};\n"],"names":["e","a","constructor","super","arguments","this","type","clone","IdentityXform","prototype","p","o","GCSShiftXform","PolynomialXform","Object","keys","r","t","n","read","J","convertVectorFieldData","fromJSON","pixelBlock","s","Promise","resolve","toJSON","computeStatisticsHistograms","decode","data","options","symbolize","extent","symbolizer","updateSymbolizer","symbolizerJSON","histograms","rendererJSON","updateRasterFunction","rasterFunction","rasterFunctionJSON","process","primaryPixelBlocks","map","primaryPixelSizes","primaryRasterIds","stretch","simpleStretch","srcPixelBlock","stretchParams","estimateStatisticsHistograms","split","tileSize","maximumPyramidLevel","useBilinear","forEach","set","clipTile","mosaicAndTransform","srcPixelBlocks","srcMosaicSize","blockWidths","alignmentInfo","clipOffset","clipSize","l","coefs","destDimension","sampleSpacing","interpolation","projectDirections","gcsGrid","isUV","localNorthDirections","createFlowMesh","Float32Array","flowData","buffer","mask","Uint8Array","maskBuffer","width","height","vertexData","indexData","meshType","simulationSettings","signal","result","vertexBuffer","indexBuffer","transferList","getProjectionOffsetGrid","projectedExtent","srcBufferExtent","datumTransformationSteps","steps","includeGCSGrid","spatialReference","i","rasterTransform","datumTransformation"],"sourceRoot":""}