"use strict";(self.webpackChunkreact_redux_arcgis_boilerplate=self.webpackChunkreact_redux_arcgis_boilerplate||[]).push([[3513],{23513:function(n,t,r){r.d(t,{projectMeshVertexPositions:function(){return l}});var e=r(88133),o=r(58823),i=r(67488),u=r(81587);function l(n,t){const r=(0,u.UR)(n,o.A.absolute);if(!r)return null;let l=r.position;return(0,i.aI)(n.spatialReference,t)||(l=new Float64Array(r.position.length),(0,e.projectBuffer)(r.position,n.spatialReference,0,l,t,0))?l:null}},90514:function(n,t,r){r.d(t,{$5:function(){return E},CN:function(){return v},JP:function(){return m},KM:function(){return C},Mv:function(){return h},X4:function(){return R},gr:function(){return x},qs:function(){return N},si:function(){return d},xA:function(){return w}});var e=r(4506),o=r(82541),i=r(79441),u=r(25336),l=r(26110),c=r(80347),a=r(19913),s=r(80788),f=r(88133),p=(r(99263),r(67488)),g=r(64672),A=r(40041),y=r(72449),T=r(66335);const m="Projection may be possible after calling projection.load().";function v(n,t,r,e){n.error(`Failed to project from (wkid:${t.wkid}) to (wkid:${r.wkid}).${e?" ":""}${e}`)}function R(n,t,r,e,o,i){return P(_.TO_PCPF,A.xs.fromTypedArray(n),F.NORMAL,A.Xm.fromTypedArray(t),r,A.Xm.fromTypedArray(e),o,A.xs.fromTypedArray(i))?i:null}function d(n,t,r,e,o,i){return P(_.FROM_PCPF,A.xs.fromTypedArray(n),F.NORMAL,A.Xm.fromTypedArray(t),r,A.Xm.fromTypedArray(e),o,A.xs.fromTypedArray(i))?i:null}function x(n,t,r,e){return(0,f.projectBuffer)(n,t,0,r,e,0)?r:null}function E(n,t,r,e){return(0,f.projectBuffer)(n,t,0,r,e,0)?r:null}function N(n,t,r){return(0,o.Ge)(b,r),(0,y.b)(t,n,b),(0,e.or)(b)&&(0,y.n)(t,t),t}function C(n,t,r){return(0,o.z0)(b,r),(0,T.t)(t,n,b),(0,e.or)(b)&&(0,y.n)(t,t,4),t}function w(n,t,r,e,o,i){if(!P(_.TO_PCPF,A.xs.fromTypedArray(n,4*Float32Array.BYTES_PER_ELEMENT),F.TANGENT,A.Xm.fromTypedArray(t),r,A.Xm.fromTypedArray(e),o,A.xs.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let t=3;t<n.length;t+=4)i[t]=n[t];return i}function h(n,t,r,e,o,i){if(!P(_.FROM_PCPF,A.xs.fromTypedArray(n,16),F.TANGENT,A.Xm.fromTypedArray(t),r,A.Xm.fromTypedArray(e),o,A.xs.fromTypedArray(i,16)))return null;for(let t=3;t<n.length;t+=4)i[t]=n[t];return i}var F,_,O;function M(n,t,r,e,i){switch((0,s.l)(e,r,U,e),n===_.FROM_PCPF&&(0,u.B8)(U,U),t){case F.NORMAL:return(0,o.Ge)(i,U);case F.TANGENT:return(0,o.z0)(i,U)}}function P(n,t,r,e,o,i,u,l){if(!t)return;const a=e.count;if(function(n){return n.isWGS84||(0,p.x1)(n)||(0,p.q8)(n)||(0,p.KQ)(n)}(o))for(let e=0;e<a;e++)i.getVec(e,S),t.getVec(e,G),(0,c.q)(G,G,M(n,r,S,u,b)),l.setVec(e,G);else for(let o=0;o<a;o++){i.getVec(o,S),t.getVec(o,G);const a=(0,g.jg)(e.get(o,1));let s=Math.cos(a);r===F.TANGENT!=(n===_.TO_PCPF)&&(s=1/s),M(n,r,S,u,b),n===_.TO_PCPF?(b[0]*=s,b[1]*=s,b[2]*=s,b[3]*=s,b[4]*=s,b[5]*=s):(b[0]*=s,b[3]*=s,b[6]*=s,b[1]*=s,b[4]*=s,b[7]*=s),(0,c.q)(G,G,b),(0,c.n)(G,G),l.setVec(o,G)}return l}(O=F||(F={}))[O.NORMAL=0]="NORMAL",O[O.TANGENT=1]="TANGENT",function(n){n[n.TO_PCPF=0]="TO_PCPF",n[n.FROM_PCPF=1]="FROM_PCPF"}(_||(_={}));const S=(0,a.vt)(),G=(0,a.vt)(),U=(0,l.vt)(),b=(0,i.vt)()},81587:function(n,t,r){r.d(t,{UR:function(){return x},p5:function(){return d},xK:function(){return F}});var e=r(80861),o=r(4506),i=r(5262),u=r(82541),l=r(79441),c=r(25336),a=r(26110),s=r(80347),f=r(19913),p=r(32159),g=r(80788),A=r(64159),y=r(28364),T=r(67488),m=r(72449),v=r(90514);const R=()=>e.A.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function d(n,t,{vertexSpace:r,spatialReference:e}){if("georeferenced"===r.type){const o=n;if(!(0,A.g)(t,o,e))return!1;const{origin:i}=r;return(0,s.d)(n,o,i),!0}const o=(0,p.lO)(e),i=n;if(!(0,A.g)(t,i,o))return!1;const{origin:u}=r,l=S;if(!(0,g.l)(e,u,l,o))return!1;const a=(0,c.B8)(S,l);return null!=a&&((0,s.t)(n,i,a),!0)}function x(n,t,r){const{vertexSpace:e,transform:o,vertexAttributes:i}=n,l=(0,y.Hq)(e)?o:null,f=w(n.spatialReference,r,G.SOURCE_AND_TARGET);if((0,y.yJ)(e,t)&&(!l||(0,c.t2)(l.localMatrix,a.zK))&&h(f)){const{position:n,normal:t,tangent:e}=i,o=r?.allowBufferReuse;return{position:o?n:n.slice(),normal:o?t:t?.slice(),tangent:o?e:e?.slice()}}switch(n.vertexSpace.type){case"local":return"local"===t.type?function({vertexAttributes:n,spatialReference:t,transform:r},{origin:e},o,i){const u=E(t,i);if(!(0,g.l)(t,e,_,u))return(0,v.CN)(R(),t,u),null;if(r&&(0,c.lw)(_,_,r.localMatrix),!(0,g.l)(t,o,O,u))return(0,v.CN)(R(),u,t),null;(0,c.B8)(O,O);const l=(0,c.lw)(_,O,_);return C(l,t,i,G.SOURCE_AND_TARGET),N(n,l)}(n,n.vertexSpace,t.origin,r):function({spatialReference:n,vertexAttributes:t,transform:r},{origin:e},o,i){const u=E(n,i);if(!(0,g.l)(n,e,_,u))return(0,v.CN)(R(),n,u),null;r&&(0,c.lw)(_,_,r.localMatrix),C(_,n,i,G.SOURCE);const l=new Float64Array(t.position.length),a=function(n,t,r,e,o){(0,m.t)(e,n,t);const i=new Float64Array(n.length);return(0,v.$5)(e,o,i,r)?i:((0,v.CN)(R(),o,r),null)}(t.position,_,n,l,u);if(!a)return null;const f=function(n,t,r,e,o,i){if(null==o)return null;const u=new Float32Array(o.length);return(0,v.qs)(o,u,i),(0,v.si)(u,n,t,r,e,u)?u:((0,v.CN)(R(),e,t),null)}(a,n,l,u,t.normal,_);if(t.normal&&!f)return null;const p=function(n,t,r,e,o,i){if(null==o)return null;const u=new Float32Array(o.length);return(0,v.KM)(o,u,i),(0,v.Mv)(u,n,t,r,e,u)?u:((0,v.CN)(R(),e,t),null)}(a,n,l,u,t.tangent,_);if(t.tangent&&!p)return null;if(o){const n=(0,s.v)(P,o);(0,m.a)(a,a,n)}return{position:a,normal:f,tangent:p}}(n,n.vertexSpace,t.origin,r);case"georeferenced":return"local"===t.type?function({vertexAttributes:n,spatialReference:t,transform:r},{origin:e},o,i){const l=E(t,i);if(!(0,g.l)(t,o,_,l))return(0,v.CN)(R(),t,l),null;const a=1/w(t,i,G.TARGET);(0,c.hs)(_,_,[a,a,a]);const s=(0,c.B8)(O,_),{position:f,normal:p,tangent:A}=function(n,t,r){if(!t)return n;if(!r){const{position:r,normal:e,tangent:o}=n;return{position:(0,m.a)(new Float64Array(r.length),r,t),tangent:o,normal:e}}const e=N(n,r.localMatrix);return(0,m.a)(e.position,e.position,t),e}(n,e,r),y=new Float64Array(f.length),T=function(n,t,r,e,o){const i=(0,v.gr)(n,t,e,o);if(!i)return(0,v.CN)(R(),t,o),null;const u=new Float64Array(i.length);return(0,m.t)(u,i,r),u}(f,t,s,y,l);if(!T)return null;const d=(0,u.Ge)(M,s),x=function(n,t,r,e,o,i,u){if(null==n)return null;const l=u??new Float32Array(n.length);return(0,v.X4)(n,t,r,e,o,l)?((0,m.b)(l,l,i),l):((0,v.CN)(R(),r,o),null)}(p,f,t,y,l,d,p!==n.normal?p:void 0);if(!x&&p)return null;const C=function(n,t,r,e,o,i,u){if(null==n)return null;const l=u??new Float32Array(n.length);return(0,v.xA)(n,t,r,e,o,l)?((0,m.b)(l,l,i,4),l):((0,v.CN)(R(),r,o),null)}(A,f,t,y,l,d,A!==n.tangent?A:void 0);return!C&&A?null:{position:T,normal:x,tangent:C}}(n,n.vertexSpace,t.origin,r):function({vertexAttributes:n,transform:t,spatialReference:r},{origin:e},o,i){const u=w(r,i,G.SOURCE_AND_TARGET),l=e||!h(u)?(0,c.C)(_,t?.localMatrix??a.zK):null;l&&C(l,r,i,G.SOURCE_AND_TARGET);const{position:f,normal:p,tangent:g}=l?N(n,l):n,A=i?.allowBufferReuse,y=A?f:new Float64Array(f.length);let T=f;if(e&&(T=(0,m.a)(y,T,e)),o){const n=(0,s.v)(P,o);T=(0,m.a)(y,T,n)}return{position:T!==n.position||A?T:T.slice(),normal:p!==n.normal||A?p:p?.slice(),tangent:g!==n.tangent||A?g:g?.slice()}}(n,n.vertexSpace,t.origin,r)}}function E(n,t){return t?.useEllipsoid&&(0,T.B3)(n)?p.Y0:(0,p.lO)(n)}function N(n,t){const r=new Float64Array(n.position.length);(0,m.t)(r,n.position,t);const e=n.normal?new Float32Array(n.normal.length):null,o=n.tangent?new Float32Array(n.tangent.length):null;return e&&n.normal&&(0,v.qs)(n.normal,e,t),o&&n.tangent&&(0,v.KM)(n.tangent,o,t),{position:r,normal:e,tangent:o}}function C(n,t,r,e){const o=w(t,r,e);h(o)||(0,c.hs)(n,n,[o,o,o])}function w(n,t,r){const e=!!(r&G.SOURCE),o=!!(r&G.TARGET),i=t?.sourceUnit,u=t?.targetUnit;if(!i&&!u)return 1;let l=F(i,n);e||!i||h(l)||(R().warn("source unit conversion not supported"),l=1);let c=1/F(u,n);return o||!u||h(c)||(R().warn("target unit conversion not supported"),c=1),l*c}function h(n){return(0,o.Io)(n,1)}function F(n,t){if(null==n)return 1;const r=(0,i.KX)(t);return 1/(0,i.oU)(r,"meters",n)}const _=(0,a.vt)(),O=(0,a.vt)(),M=(0,l.vt)(),P=(0,f.vt)(),S=(0,a.vt)();var G;!function(n){n[n.NONE=0]="NONE",n[n.SOURCE=1]="SOURCE",n[n.TARGET=2]="TARGET",n[n.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"}(G||(G={}))},28364:function(n,t,r){r.d(t,{CK:function(){return f},Hq:function(){return s},MW:function(){return p},TE:function(){return g},yJ:function(){return A}});var e=r(61090),o=r(80861),i=r(80347),u=r(1912),l=r(58823),c=r(93320);function a(){return o.A.getLogger("esri.geometry.Mesh")}function s(n){return null!=n.origin}function f(n){return s(n.vertexSpace)}function p(n,t){if(!s(n))return null;const[r,e,o]=n.origin;return new u.A({x:r,y:e,z:o,spatialReference:t})}function g(n,t){const{x:r,y:o,z:i,spatialReference:u}=n,s=[r,o,i??0];return void 0!==t?.geographic&&((0,e.io)(a(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),t.vertexSpace&&a().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(t?.vertexSpace??(f=t?.geographic,null==f?void 0:f?"local":"georeferenced")??function(n){return n.isGeographic||n.isWebMercator?"local":"georeferenced"}(u))?new c.A({origin:s}):new l.A({origin:s});var f}function A(n,t){return n.type===t.type&&(n.origin===t.origin||null!=n.origin&&null!=t.origin&&(0,i.p)(n.origin,t.origin))}}}]);
//# sourceMappingURL=3513.a24325c75c777a943a65.js.map