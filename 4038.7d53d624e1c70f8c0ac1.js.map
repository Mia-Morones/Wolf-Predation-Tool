{"version":3,"file":"4038.7d53d624e1c70f8c0ac1.js","mappings":"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","sources":["webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/Intersector.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{copy as t,set as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as r,ZEROS as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{TextRenderAlignment as c,textVerticalPaddingPx as n}from\"../../webgl-engine/lib/TextRenderer.js\";const i=Object.freeze({left:0,center:.5,right:1}),s=Object.freeze({\"bottom-left\":r(0,0),bottom:r(.5,0),\"bottom-right\":r(1,0),left:r(0,.5),center:r(.5,.5),right:r(1,.5),\"top-left\":r(0,1),top:r(.5,1),\"top-right\":r(1,1)});function f(t){switch(t){case\"left\":return c.Left;case\"right\":return c.Right;default:return c.Center}}function a(t){switch(t){case\"bottom-left\":case\"left\":case\"top-left\":return\"left\";case\"bottom\":case\"center\":case\"top\":return\"center\";case\"bottom-right\":case\"right\":case\"top-right\":return\"right\"}}function l(t){switch(t){case\"bottom-left\":case\"bottom\":case\"bottom-right\":return\"bottom\";case\"left\":case\"center\":case\"right\":return\"center\";case\"top-left\":case\"top\":case\"top-right\":return\"top\"}}function m(t,e){switch(e){case\"bottom\":return\"left\"===t?\"bottom-left\":\"right\"===t?\"bottom-right\":\"bottom\";case\"center\":return t;case\"top\":return\"left\"===t?\"top-left\":\"right\"===t?\"top-right\":\"top\"}}function u(t){return\"middle\"===t?\"center\":t}function h(r,c){switch(r){case\"top\":return e(c,0,n);case\"bottom\":return e(c,0,-n);default:return t(c,o)}}export{m as anchorFromPlacements,a as horizontalPlacementFromAnchor,i as horizontalPlacementToAnchorX,s as namedAnchorToHUDMaterialAnchorPos,f as textRenderAlignmentFromHorizontalPlacement,u as verticalPlacementFromAlignment,l as verticalPlacementFromAnchor,h as verticalScreenOffsetFromAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getTextHelperCanvas as t}from\"./TextHelperCanvas.js\";function e(e){const{size:c}=e.definition,a=e.fontString(c);let i=n.get(a);if(!i){const u=t(o,0,0).getContext(\"2d\");e.setFontProperties(u,c);const x=u.measureText(r);i=new s(x.actualBoundingBoxAscent,x.actualBoundingBoxDescent),n.set(a,i)}return i}const n=new Map;class s{get maxHeight(){return this.maxAscent+this.maxDescent}constructor(t,e){this.maxAscent=t,this.maxDescent=e}}const o={canvas:null},r=(()=>{let t=\"\";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();export{e as getFontMetrics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction a(a,n,c){return a.canvas||(a.canvas=document.createElement(\"canvas\")),a.canvas.width=n,a.canvas.height=c,a.canvas}export{a as getTextHelperCanvas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{debugFlags as e}from\"../../support/debugFlags.js\";import{getFontMetrics as i}from\"./FontMetrics.js\";import{getTextHelperCanvas as n}from\"./TextHelperCanvas.js\";const s=1;class r{constructor(t,e,i,n){this.text=t,this._alignment=e,this._parameters=i,this._maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._metricsCached=null,this.key=`${t}--${this._parameters.key}-${this._alignment}`,this._lines=t.replaceAll(\" \",\"Â \").split(/\\r?\\n/)}get displayWidth(){return Math.ceil(this._displayWidth+2*this._horizontalPadding)}get displayHeight(){let t=this._metrics.firstLineAscent;for(let e=0;e<this._lines.length-1;e++)t+=this._lineSpacing;return t+=this._metrics.lastLineDescent,Math.ceil(t+2*this._haloSize+2*this._verticalPadding)}get renderedWidth(){return this._toRoundedRenderUnit(this.displayWidth)}get renderedHeight(){return this._toRoundedRenderUnit(this.displayHeight)}get firstRenderedBaselinePosition(){return this._toRenderUnit(this._firstLineYOffset+this._metrics.firstLineAscent)}get _firstLineYOffset(){return this._verticalPadding+this._haloSize}get _metrics(){if(null==this._metricsCached){const t=n(a,l,l).getContext(\"2d\"),e=this._parameters.definition.pixelRatio,s=this._fontSize*e;this._parameters.setFontProperties(t,s);let r=2*this._haloSize;const h=this._parameters.definition.font;\"italic\"!==h.style&&\"oblique\"!==h.style&&\"bold\"!==h.weight&&\"bolder\"!==h.weight||(r+=.3*t.measureText(\"A\").width),this._textWidths.length=0,this._lineWidths.length=0;let o=0,d=0,_=0,g=0,m=0;this._lines.forEach(((i,n)=>{const s=t.measureText(i),h=s.width/e,a=h+r;this._textWidths.push(h),this._lineWidths.push(a),o=Math.max(o,a),g=Math.max(g,s.actualBoundingBoxAscent/e),m=Math.max(m,s.actualBoundingBoxDescent/e),0===n&&(d=s.actualBoundingBoxAscent/e),n===this._lines.length-1&&(_=s.actualBoundingBoxDescent/e)}));const f=i(this._parameters),u=Math.max(g,f.maxAscent),p=Math.max(m,f.maxDescent),x=d,R=\"underline\"===this._parameters.definition.font.decoration?p:_,S=o;this._metricsCached=new c(x,R,u,p,S)}return this._metricsCached}get _lineSpacing(){return(this._midLineHeight+this._linePadding)*this._parameters.definition.lineSpacingFactor}get _midLineHeight(){return this._metrics.midLineHeight}get _linePadding(){return this._midLineHeight*d}get _midLineAscent(){return this._metrics.maxLineAscent}get _renderedFontSize(){return this._toRenderUnit(this._fontSize)}get _fontSize(){return this._parameters.definition.size}get _renderedHaloSize(){return this._toRenderUnit(this._haloSize)}get _haloSize(){return this._parameters.haloSize}get _horizontalPadding(){return this._hasBackground?this._parameters.definition.background.padding[0]:0}get _verticalPadding(){return Math.max(this._hasBackground?this._parameters.definition.background.padding[1]:0,s)}get _hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(null==this._renderPixelRatio){const t=this._parameters.definition.pixelRatio;this._renderPixelRatio=Math.min(t,Math.min(this._maxSize[0]/this.displayWidth,this._maxSize[1]/this.displayHeight))}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case o.Left:return this._horizontalPadding;case o.Center:return(this.displayWidth-this._lineWidths[t])/2;case o.Right:return this.displayWidth-this._horizontalPadding-this._lineWidths[t]}}render(t,i,n){t.save();const s=i/=this.renderPixelRatio,r=n/=this.renderPixelRatio,h=this._haloSize,o=this._firstLineYOffset+this._metrics.firstLineAscent;i+=h,n+=o;const a=this._haloSize>0;a&&this._renderHalo(t,s,r,h,o),this._parameters.setFontProperties(t,this._renderedFontSize);for(let e=0;e<this._lines.length;++e){const s=this._lines[e],r=this._getLineXOffset(e);a&&(t.globalCompositeOperation=\"destination-out\",t.fillStyle=\"rgb(0, 0, 0)\",this._fillText(t,s,i+r,n),this._renderLineDecoration(t,i+r,n,this._textWidths[e])),t.globalCompositeOperation=\"source-over\",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,i+this._getLineXOffset(e),n),this._renderLineDecoration(t,i+r,n,this._textWidths[e]),n+=this._lineSpacing}if(e.TEXT_SHOW_BASELINE){t.strokeStyle=_,t.setLineDash([2,2]),t.lineWidth=1;let e=r+o;for(let i=0;i<this._lines.length;++i)this._drawLine(t,[s,e],[s+this.displayWidth,e]),e+=this._lineSpacing}if(e.TEXT_SHOW_BORDER&&(t.strokeStyle=_,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this._hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation=\"destination-over\",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if(\"none\"===this._parameters.definition.font.decoration||0===n)return;const r=1,h=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case\"underline\":i+=2*h;break;case\"line-through\":i-=.33*this._midLineAscent}const o=s?this._haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(h+2*o),t.beginPath(),t.moveTo(this._toRenderUnit(e-o),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+o),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,h=this.renderedHeight;0!==s?(s=t(s,0,Math.floor(h/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+h-s),e.arcTo(i+r,n+h,i+r-s,n+h,s),e.lineTo(i+s,n+h),e.arcTo(i,n+h,i,n+h-s,s),e.closePath()):e.rect(i,n,r,h)}_renderHalo(t,e,i,s,r){const h=this.renderedWidth,o=this.renderedHeight,d=n(a,Math.max(h,l),Math.max(o,l)),_=d.getContext(\"2d\");_.clearRect(0,0,h,o),this._parameters.setFontProperties(_,this._renderedFontSize),_.fillStyle=this._parameters.haloStyle,_.strokeStyle=this._parameters.haloStyle;const c=this._renderedHaloSize<3;_.lineJoin=c?\"miter\":\"round\",c?this._renderHaloEmulated(_,s,r):this._renderHaloNative(_,s,r);let g=r;for(let n=0;n<this._lines.length;++n){const t=this._getLineXOffset(n);this._renderLineDecoration(_,s+t,g,this._textWidths[n],!0),g+=this._lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(d,0,0,h,o,this._toRenderUnit(e),this._toRenderUnit(i),h,o),t.globalAlpha=1}_renderHaloEmulated(t,e,i){for(let n=0;n<this._lines.length;++n){const s=this._lines[n],r=this._getLineXOffset(n);for(const[n,o]of h)this._fillText(t,s,e+r+this._haloSize*n,i+this._haloSize*o);i+=this._lineSpacing}}_renderHaloNative(t,e,i){const n=2*this._haloSize;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],h=this._getLineXOffset(s),o=5,a=.1;for(let s=0;s<o;s++){const d=1-(o-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+h,i)}i+=this._lineSpacing}}get _displayWidth(){return this._metrics.displayWidth}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),h=this._toRenderUnit(i[1]),o=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+h)-.5;t.beginPath(),t.moveTo(o,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(o,l),t.lineTo(o,d),t.stroke()}}const h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var o;!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(o||(o={}));const a={canvas:null},d=.2,l=512,_=\"rgb(255, 0, 255, 0.5)\";class c{get firstLineHeight(){return this.firstLineAscent+this.maxLineDescent}get midLineHeight(){return this.maxLineAscent+this.maxLineDescent}get lastLineHeight(){return this.maxLineAscent+this.lastLineDescent}constructor(t,e,i,n,s){this.firstLineAscent=t,this.lastLineDescent=e,this.maxLineAscent=i,this.maxLineDescent=n,this.displayWidth=s}}export{o as TextRenderAlignment,r as TextRenderer,s as textVerticalPaddingPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{IntersectorType as t}from\"../IntersectorInterfaces.js\";import{Graphic3DTarget as r}from\"../IntersectorTarget.js\";import{isValidIntersectorResult as e}from\"../intersectorUtils.js\";class s extends r{constructor(t,r,e,s,i,o){super(t,r),this.layerUid=t,this.graphicUid=r,this.geometryId=e,this.triangleNr=s,this.baseBoundingSphere=i,this.numLodLevels=o}}function i(r){return e(r)&&r.intersector===t.LOD&&!!r.target}export{s as LodTarget,i as isLodIntersectorResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as t}from\"../../../../webgl/enums.js\";class r{constructor(r,i,s){this._elementSize=i,this._buffer=e.createVertex(r,t.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get usedMemory(){return this._array.byteLength+this._buffer.usedMemory}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{reallocShrinkThreshold as t,reallocGrowthFactor as i,reallocShrinkFactor as e}from\"../../../../../core/arrayUtils.js\";import{BufferViewVec3f as s,BufferViewMat3f as a,BufferViewVec4f as r,BufferViewVec4u8 as n}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as h}from\"../Util.js\";import{VertexAttribute as d}from\"../VertexAttribute.js\";import _ from\"./BackedBufferObject.js\";class c{constructor(t){this.modelOriginHi=t.getField(d.INSTANCEMODELORIGINHI,s),this.modelOriginLo=t.getField(d.INSTANCEMODELORIGINLO,s),this.model=t.getField(d.INSTANCEMODEL,a),this.modelNormal=t.getField(d.INSTANCEMODELNORMAL,a),this.featureAttribute=t.getField(d.INSTANCEFEATUREATTRIBUTE,r),this.color=t.getField(d.INSTANCECOLOR,n),this.objectAndLayerIdColor=t.getField(d.INSTANCEOBJECTANDLAYERIDCOLOR,n)}}class f{constructor(t,i){this._rctx=t,this._instanceBufferLayout=i,this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get usedMemory(){return this._buffer?.usedMemory??0}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){h(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){h(this._updating,\"not updating\"),this.size<t*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){h(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),h(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){h(this._updating,\"not updating\"),h(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(u,Math.floor(this._capacity*i));this._resize(t)}_shrink(){const t=Math.max(u,Math.floor(this._capacity*e));this._resize(t)}_resize(t){if(h(this._updating,\"not updating\"),t===this._capacity)return;const i=new _(this._rctx,this._instanceBufferLayout.stride,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);h(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const u=64;export{f as RenderInstanceData,c as RenderInstanceDataView,u as initialCapacity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{reallocGrowthFactor as s}from\"../../../../../core/arrayUtils.js\";import i from\"../../../../../core/Evented.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as o,invert as h,transpose as l}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as n}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{multiply as c}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as g}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as m}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BufferViewMat4f64 as d,BufferViewVec3f64 as _,BufferViewMat3f as p,BufferViewVec2f as T,BufferViewVec4f64 as u,BufferViewVec4f as L,BufferViewVec4u8 as E,BufferViewUint8 as A}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as v}from\"../../../support/mathUtils.js\";import{newLayout as M}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as O}from\"../Util.js\";import{VertexAttribute as I}from\"../VertexAttribute.js\";import{initialCapacity as S}from\"./RenderInstanceData.js\";var F;function C(t){let e=M().mat4f64(I.LOCALTRANSFORM).mat4f64(I.GLOBALTRANSFORM).vec4f64(I.BOUNDINGSPHERE).vec3f64(I.MODELORIGIN).mat3f(I.INSTANCEMODEL).mat3f(I.INSTANCEMODELNORMAL).vec2f(I.MODELSCALEFACTORS);return t.includes(I.FEATUREATTRIBUTE)&&(e=e.vec4f(I.FEATUREATTRIBUTE)),t.includes(I.COLOR)&&(e=e.vec4u8(I.COLOR)),t.includes(I.OBJECTANDLAYERIDCOLOR)&&(e=e.vec4u8(I.OBJECTANDLAYERIDCOLOR)),e=e.u8(I.STATE).u8(I.LODLEVEL),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(F||(F={}));class R{constructor(t){this.localTransform=t.getField(I.LOCALTRANSFORM,d),this.globalTransform=t.getField(I.GLOBALTRANSFORM,d),this.modelOrigin=t.getField(I.MODELORIGIN,_),this.model=t.getField(I.INSTANCEMODEL,p),this.modelNormal=t.getField(I.INSTANCEMODELNORMAL,p),this.modelScaleFactors=t.getField(I.MODELSCALEFACTORS,T),this.boundingSphere=t.getField(I.BOUNDINGSPHERE,u),this.featureAttribute=t.getField(I.FEATUREATTRIBUTE,L),this.color=t.getField(I.COLOR,E),this.objectAndLayerIdColor=t.getField(I.OBJECTANDLAYERIDCOLOR,E),this.state=t.getField(I.STATE,A),this.lodLevel=t.getField(I.LODLEVEL,A)}}let b=class extends e{constructor(t,e){super(t),this.events=new i,this._capacity=0,this._size=0,this._next=0,this._highlightGroupMap=new Map,this._highlightGroupMapPrev=new Map,this._layout=C(e),this._capacity=S,this._buffer=this._layout.createBuffer(this._capacity),this._view=new R(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,F.ALLOCATED),this._size++,this.events.emit(\"instances-changed\"),t}removeInstance(t){const e=this._view.state;O(t>=0&&t<this._capacity&&!!(e.get(t)&F.ALLOCATED),\"invalid instance handle\"),this._getStateFlag(t,F.ACTIVE)?this._setStateFlags(t,F.REMOVE):this.freeInstance(t),this.events.emit(\"instances-changed\")}freeInstance(t){const e=this._view.state;O(t>=0&&t<this._capacity&&!!(e.get(t)&F.ALLOCATED),\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=G,i=y;e.localTransform.getMat(t,D),e.globalTransform.getMat(t,N);const a=c(N,N,D);m(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),o(i,a),e.model.setMat(t,i);const r=v(G,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),h(i,i),l(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,F.TRANSFORM_CHANGED),this.events.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,y),s.modelOrigin.getVec(t,G),e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=0,e[4]=y[3],e[5]=y[4],e[6]=y[5],e[7]=0,e[8]=y[6],e[9]=y[7],e[10]=y[8],e[11]=0,e[12]=G[0],e[13]=G[1],e[14]=G[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(G,this,t),e*=Math.max(G[0],G[1],G[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(G,this,t),e*=w(G[0],G[1],G[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,F.VISIBLE,e),this.events.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,F.VISIBLE)}setHighlight(t,e,s){let i=this._highlightGroupMap.get(t);e?(i||(i=new Set,this._highlightGroupMap.set(t,i)),i.add(s)&&(this._setStateFlag(t,F.HIGHLIGHT,!0),this.events.emit(\"instance-highlight-changed\"))):i?.delete(s)&&(0===i.size&&(this._highlightGroupMap.delete(t),this._setStateFlag(t,F.HIGHLIGHT,!1)),this.events.emit(\"instance-highlight-changed\"))}getHighlight(t){return this._getStateFlag(t,F.HIGHLIGHT)}foreachHighlightGroupPrev(t,e){this._highlightGroupMapPrev.get(t)?.forEach(e),this._highlightGroupMapPrev.delete(t)}foreachHighlightGroup(t,e){const s=this._highlightGroupMap.get(t);s?.forEach(e),s?this._highlightGroupMapPrev.set(t,new Set(s)):this._highlightGroupMapPrev.delete(t)}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(S,Math.floor(this._capacity*s)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new R(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&F.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function w(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}t([a({constructOnly:!0})],b.prototype,\"shaderTransformation\",void 0),t([a()],b.prototype,\"_size\",void 0),t([a({readOnly:!0})],b.prototype,\"size\",null),b=t([r(\"esri.views.3d.webgl-engine.lib.lodRendering.InstanceData\")],b);const G=f(),y=n(),D=g(),N=g();export{b as InstanceData,R as InstanceDataView,F as StateFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e}from\"../../../../../chunks/vec32.js\";import{w as s,c as i,a as r}from\"../../../../../chunks/sphere.js\";import{maxScale as a}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=i(),this._tmpMat4=t()}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(r(this._tmpSphere),this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*a(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}export{e as LevelSelector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glLayout as t}from\"../../../support/buffer/glUtil.js\";import{ContentObject as e}from\"../ContentObject.js\";import{Default3D as r}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as s}from\"../GLMaterials.js\";import{newIntersectorResult as o}from\"../Intersector.js\";import{IntersectorType as n,StoreResults as i}from\"../IntersectorInterfaces.js\";import{VertexArrayObject as a}from\"../VertexArrayObject.js\";import{LodTarget as u}from\"./Intersector.js\";import{BufferObject as m}from\"../../../../webgl/BufferObject.js\";import{Usage as l}from\"../../../../webgl/enums.js\";function f(t,e,r,s=null){const o=t.createBufferWriter(),n=o.vertexBufferLayout,i=o.elementCount(e),a=n.createBuffer(i);return o.write(null,null,e,s,a,0),{material:t,vertexBufferLayout:n,buffer:a.buffer,elementCount:i,boundingInfo:r}}class d{constructor(o,n){const i=o.renderContext.rctx,u=n.geometry;let d=null;d=u instanceof e?f(u.material,u.attributes,u.boundingInfo):u;const c=d.material;this._materials=o.materials,c.setParameters({instancedDoublePrecision:!0}),this.geometry=u,this.material=c,this.glMaterials=new s(c,this._materials),this.vertexBufferLayout=d.vertexBufferLayout,this.vbo=m.createVertex(i,l.STATIC_DRAW,d.buffer),this.vao=new a(i,r,new Map([[\"geometry\",t(d.vertexBufferLayout)]]),new Map([[\"geometry\",this.vbo]])),this.vertexCount=d.elementCount}destroy(){this.glMaterials.dispose(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}intersect(t,r,s,a,m,l,f,d){if(!(this.geometry instanceof e))return;const c=this.geometry.id;this.material.intersect(this.geometry,t.transform.transform,t,s,a,((e,s,a,p,y)=>{if(e>=0){if(null!=r&&!r(t.rayBegin,t.rayEnd,e))return;const p=new u(l.layerUid,l.graphicUid(m),c,a,f,d);if((null==t.results.min.drapedLayerOrder||y>=t.results.min.drapedLayerOrder)&&(null==t.results.min.dist||e<t.results.min.dist)&&t.results.min.set(n.LOD,p,e,s,t.transform.transform,y),t.options.store!==i.MIN&&(null==t.results.max.drapedLayerOrder||y>=t.results.max.drapedLayerOrder)&&(null==t.results.max.dist||e>t.results.max.dist)&&t.results.max.set(n.LOD,p,e,s,t.transform.transform,y),t.options.store===i.ALL){const r=o(t.results.min.ray);r.set(n.LOD,p,e,s,t.transform.transform,y),t.results.all.push(r)}}}))}}export{d as LodComponentData,f as createLodComponentRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{isAborted as n,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((o=>e.controller.schedule((()=>new u(e,o)),i)))),c=s.map((o=>\"fulfilled\"===o.status?o.value:null)).filter(o);if(n(i)||c.length!==s.length){c.forEach((o=>o.destroy())),t(i);for(const o of s)if(\"rejected\"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach((o=>o.destroy()))}intersect(o,n,t,e,r,i,s){this.components.forEach((c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const o=r();this.components.forEach((n=>{null!=n.boundingInfo&&(i(o,n.boundingInfo.bbMin),i(o,n.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=e();s(o,n),this._boundingSphere={center:n,radius:.5*c(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((o,n)=>o+n.triangleCount),0)}}export{a as LodLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../../core/arrayUtils.js\";import r from\"../../../../../core/Error.js\";import{someMap as n}from\"../../../../../core/MapUtils.js\";import{destroyMaybe as a}from\"../../../../../core/maybe.js\";import{isAborted as s,throwIfAborted as i}from\"../../../../../core/promiseUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{d as h,f as d,t as u}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as m,fromValues as p}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{debugFlags as _}from\"../../../support/debugFlags.js\";import{glLayout as g}from\"../../../support/buffer/glUtil.js\";import{newLayout as I}from\"../../../support/buffer/InterleavedLayout.js\";import y from\"../../../webgl/RenderCamera.js\";import{ShaderOutput as C}from\"../../core/shaderLibrary/ShaderOutput.js\";import{AsyncRenderPlugin as v}from\"../../effects/RenderPlugin.js\";import{Default3D as E}from\"../DefaultVertexAttributeLocations.js\";import{IntersectorType as R}from\"../IntersectorInterfaces.js\";import b from\"../Octree.js\";import{RenderSlot as D}from\"../RenderSlot.js\";import{assert as A}from\"../Util.js\";import{VertexAttribute as T}from\"../VertexAttribute.js\";import{InstanceData as L,StateFlags as S}from\"./InstanceData.js\";import{InstanceOctree as O}from\"./InstanceOctree.js\";import{LevelSelector as M}from\"./LevelSelector.js\";import{LodLevel as j}from\"./LodLevel.js\";import{RenderInstanceData as x}from\"./RenderInstanceData.js\";import{colorMixModes as N}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as w}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as U}from\"../../shaders/DefaultMaterialTechnique.js\";import{TaskPriority as H,noBudget as F}from\"../../../../support/Scheduler.js\";import{bindVertexBufferLayout as V,unbindVertexBufferLayout as B}from\"../../../../webgl/Util.js\";const G=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map((e=>e.minScreenSpaceRadius));return new M(t,r)};let q=class extends v{constructor(e,t){super(e),this.type=R.LOD,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=new Array,this._highlightRenderInstanceDataMap=new Map,this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new y,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.produces=new Map([[D.OPAQUE_MATERIAL,e=>this._produces(e)],[D.TRANSPARENT_MATERIAL,e=>!!this._hasTransparentLevels()&&this._produces(e)]]),this._instanceData=new L({shaderTransformation:e.shaderTransformation},e.optionalFields),this.addHandles(t.registerTask(H.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=k(this.optionalFields),this._glInstanceBufferLayout=g(this._instanceBufferLayout,1),this.addHandles([this._instanceData.events.on(\"instances-changed\",(()=>this._requestUpdateCycle())),this._instanceData.events.on(\"instance-transform-changed\",(({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)})),this._instanceData.events.on(\"instance-visibility-changed\",(({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)})),this._instanceData.events.on(\"instance-highlight-changed\",(()=>this._requestUpdateCycle(!0)))])}get _allRenderInstanceData(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDataMap)e.push(t[1]);return e}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerUid(){return this.metadata.layerUid}get instanceData(){return this._instanceData}get hasEmissions(){return this.baseMaterial.hasEmissions}get usedMemory(){return this._allRenderInstanceData.reduce(((e,t)=>t.reduce(((e,t)=>e+t.usedMemory),e)),0)}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,r)=>{const n=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,a=e.triangleCount;t.push({renderedInstances:n,renderedTriangles:n*a,trianglesPerInstance:a})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}_createRenderInstanceDataArray(e=[]){const{rctx:t}=this._context.renderContext;return this.symbol.levels.map((r=>{e.push(new x(t,this._instanceBufferLayout))})),e}async initializeRenderContext(e,r){this._context=e,this._createRenderInstanceDataArray(this._defaultRenderInstanceData);const n=await Promise.allSettled(this.symbol.levels.map((t=>j.create(e,t,r)))),a=n.map((e=>\"fulfilled\"===e.status?e.value:null)).filter(t);if(s(r)||a.length!==n.length){a.forEach((e=>e.destroy())),i(r);for(const e of n)if(\"rejected\"===e.status)throw e.reason}this._levels=a,this._levelSelector=G(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData.forEach((e=>e.destroy())),this._highlightRenderInstanceDataMap.forEach((e=>e.forEach((e=>e.destroy()))))}_hasTransparentLevels(){return this._levels.some((e=>e.components.some((e=>{const t=e.material.produces.get(D.TRANSPARENT_MATERIAL);return t?.(C.Color)}))))}hasHighlights(){return n(this._highlightRenderInstanceDataMap,(e=>e.some((e=>e.size>0))))}_produces(e){return e!==C.Highlight&&e!==C.ShadowHighlight||this.hasHighlights()}prepareRender(e){if(!_.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bind.contentCamera.equals(this._camera);this._camera.copyFrom(e.bind.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(F),this._needFullCycle=!1)}}acquireTechniques(e){if(!this.baseMaterial.visible||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e);if(!t)return null;const r=new Array,n=this.levels;return t.forEach((t=>n.forEach((({components:n},a)=>n.forEach((n=>r.push(this._beginComponent(e,t[a],n)))))))),r}render(e,t){const r=this._getInstanceDatas(e);if(!r||null==t)return;let n=0;e.rctx.bindVAO();const a=this.levels;r.forEach((r=>a.forEach((({components:a},s)=>a.forEach((a=>this._renderComponent(e,t[n++],r[s],a,s)))))))}_getInstanceDatas(e){const{output:t,bind:r}=e,n=t===C.Highlight,a=!n&&t!==C.ShadowHighlight,s=t!==C.ShadowExcludeHighlight;if(a)return s?this._allRenderInstanceData:[this._defaultRenderInstanceData];if(s){if(n){const{highlightGroupName:e}=r;if(!e)return null;const t=this._highlightRenderInstanceDataMap.get(e);return t?[t]:null}const e=[];for(const t of this._highlightRenderInstanceDataMap)e.push(t[1]);return e}return null}intersect(e,t,r,n){if(!this.baseMaterial.visible||null==this._octree)return;const a=f();h(a,n,r);const s=a=>{this._instanceData.getCombinedModelTransform(a,Y),e.transform.set(Y),u(J,r,e.transform.inverse),u(Q,n,e.transform.inverse);const s=this._instanceData.getState(a),i=this._instanceData.getLodLevel(a),o=this._levels.length;A(!!(s&S.ACTIVE),\"invalid instance state\"),A(i>=0&&i<o,\"invaid lod level\"),this._levels[i].intersect(e,t,J,Q,a,this.metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(s):this._octree.forEachAlongRay(r,a,s)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new O(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)t.get(r)&S.ACTIVE&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=a(this._octreeCached)}queryDepthRange(e){if(null==this._octree)return{near:1/0,far:-1/0};const t=e.viewForward,r=this._octree.findClosest(t,b.DepthOrder.FRONT_TO_BACK,e.frustum),n=this._octree.findClosest(t,b.DepthOrder.BACK_TO_FRONT,e.frustum);if(null==r||null==n)return{near:1/0,far:-1/0};const a=e.eye,s=this._instanceData.view;s.boundingSphere.getVec(r,K),h(K,K,a);const i=d(K,t)-K[3];s.boundingSphere.getVec(n,K),h(K,K,a);const o=d(K,t)+K[3];return{near:Math.max(e.near,i),far:Math.min(e.far,o)}}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.startUpdateCycle()))))}get running(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:n,_levelSelector:a}=this;this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.beginUpdate()))));const s=this._instanceData,i=s.view;let o=s.size;const l=s.capacity;let c=this._instanceIndex;const h=Math.ceil(l/500);for(let d=0;d<o&&!e.done;++d){c===this._cycleStartIndex&&this._startUpdateCycle();const d=i.state.get(c);let u=0;if(!(d&S.ALLOCATED)){c=c+1===l?0:c+1,o++;continue}const f=i.lodLevel.get(c);if(d&S.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[f].freeTail(),d&S.HIGHLIGHT_ACTIVE&&s.foreachHighlightGroupPrev(c,(e=>{const t=this._highlightRenderInstanceDataMap.get(e);if(!t)throw new r(\"Internal error in lodRenderer\");t[f].freeTail()})),d&S.REMOVE)s.freeInstance(c);else if(d&S.VISIBLE){let e=0;t&&(i.modelOrigin.getVec(c,W),e=a.selectLevel(W,s.getCombinedMedianScaleFactor(c),n)),u=d&~(S.ACTIVE|S.TRANSFORM_CHANGED),e>=0&&(d&S.HIGHLIGHT?(s.foreachHighlightGroup(c,(t=>{let n=this._highlightRenderInstanceDataMap.get(t);if(n||(n=this._createRenderInstanceDataArray(),n.forEach((e=>e.beginUpdate())),this._highlightRenderInstanceDataMap.set(t,n)),e>=n.length)throw new r(`LodRenderer internal error - missing lodLevel ${e}`);P(n[e],i,c)})),u|=S.HIGHLIGHT_ACTIVE):(P(this._defaultRenderInstanceData[e],i,c),u|=S.DEFAULT_ACTIVE)),i.state.set(c,u),i.lodLevel.set(c,e)}else u=d&~(S.ACTIVE|S.TRANSFORM_CHANGED),i.state.set(c,u);if(null!=this._octreeCached){const e=!!(d&S.ACTIVE),t=!!(u&S.ACTIVE);!e&&t?this._octreeCached.addInstance(c):e&&!t?this._octreeCached.removeInstance(c):e&&t&&d&S.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(c),this._octreeCached.addInstance(c))}c=c+1===l?0:c+1,c%h==0&&e.madeProgress()}this._instanceIndex=c,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.endUpdate())))),this._context.requestRender()}_beginComponent(e,t,r){if(0===t.size)return null;const n=r.glMaterials.load(e.rctx,e.bind.slot,e.output);return n?.beginSlot(e.bind)}_renderComponent(e,t,r,n,a){if(!t)return;const{bind:s,rctx:i}=e;i.runAppleAmdDriverHelper();const o=i.bindTechnique(t,s,n.material.parameters,$);i.bindVAO(n.vao),t.ensureAttributeLocations(n.vao),_.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&e.output===C.Color&&(o.setUniform4fv(\"externalColor\",Z[Math.min(a,Z.length-1)]),o.setUniform1i(\"colorMixMode\",N.replace));const l=r.capacity,c=r.headIndex,h=r.tailIndex,d=r.firstIndex,u=this._glInstanceBufferLayout,f=(e,a)=>{V(i,E,r.buffer,u,e),i.drawArraysInstanced(t.primitiveType,0,n.vertexCount,a-e),B(i,E,r.buffer,u)};n.material.parameters.transparent&&null!=d?c>h?(A(d>=h&&d<=c,\"invalid firstIndex\"),f(d,c),f(h,d)):c<h&&(d<=c?(A(d>=0&&d<=c,\"invalid firstIndex\"),f(d,c),f(h,l),f(0,d)):(A(d>=h&&d<=l,\"invalid firstIndex\"),f(d,l),f(0,c),f(h,d))):c>h?f(h,c):c<h&&(f(0,c),f(h,l)),i.bindVAO(null)}};function P(e,t,r){const n=e.allocateHead();z(t,r,e.view,n)}function z(e,t,r,n){w(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,n),r.model.copyFrom(n,e.model,t),r.modelNormal.copyFrom(n,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(n,e.color,t),e.objectAndLayerIdColor&&r.objectAndLayerIdColor&&r.objectAndLayerIdColor.copyFrom(n,e.objectAndLayerIdColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(n,e.featureAttribute,t)}function k(e){let t=I().vec3f(T.INSTANCEMODELORIGINHI).vec3f(T.INSTANCEMODELORIGINLO).mat3f(T.INSTANCEMODEL).mat3f(T.INSTANCEMODELNORMAL);return null!=e&&e.includes(\"featureAttribute\")&&(t=t.vec4f(T.INSTANCEFEATUREATTRIBUTE)),null!=e&&e.includes(\"color\")&&(t=t.vec4u8(T.INSTANCECOLOR)),null!=e&&e.includes(\"objectAndLayerIdColor\")&&(t=t.vec4u8(T.INSTANCEOBJECTANDLAYERIDCOLOR)),t}e([o({constructOnly:!0})],q.prototype,\"symbol\",void 0),e([o({constructOnly:!0})],q.prototype,\"optionalFields\",void 0),e([o({constructOnly:!0})],q.prototype,\"metadata\",void 0),e([o({constructOnly:!0})],q.prototype,\"shaderTransformation\",void 0),e([o()],q.prototype,\"_instanceData\",void 0),e([o()],q.prototype,\"_cycleStartIndex\",void 0),e([o({readOnly:!0})],q.prototype,\"_enableLevelSelection\",null),e([o()],q.prototype,\"_updateCyclesWithStaticCamera\",void 0),e([o({readOnly:!0})],q.prototype,\"running\",null),q=e([l(\"esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer\")],q);const W=f(),K=m(),Y=c(),J=f(),Q=f(),Z=[p(1,0,1,1),p(0,0,1,1),p(0,1,0,1),p(1,1,0,1),p(1,0,0,1)],$=new U;export{q as LodRenderer};\n"],"names":["i","Object","freeze","left","center","right","s","bottom","top","f","t","Left","Right","Center","m","e","u","h","r","c","size","definition","a","fontString","n","get","o","getContext","setFontProperties","x","measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","set","Map","maxHeight","this","maxAscent","maxDescent","constructor","canvas","String","fromCharCode","document","createElement","width","height","text","_alignment","_parameters","_maxSize","_textWidths","_lineWidths","_renderPixelRatio","_metricsCached","key","_lines","replaceAll","split","displayWidth","Math","ceil","_displayWidth","_horizontalPadding","displayHeight","_metrics","firstLineAscent","length","_lineSpacing","lastLineDescent","_haloSize","_verticalPadding","renderedWidth","_toRoundedRenderUnit","renderedHeight","firstRenderedBaselinePosition","_toRenderUnit","_firstLineYOffset","l","pixelRatio","_fontSize","font","style","weight","d","_","g","forEach","push","max","p","R","decoration","S","_midLineHeight","_linePadding","lineSpacingFactor","midLineHeight","_midLineAscent","maxLineAscent","_renderedFontSize","_renderedHaloSize","haloSize","_hasBackground","background","padding","backgroundStyle","renderPixelRatio","min","_getLineXOffset","render","save","_renderHalo","globalCompositeOperation","fillStyle","_fillText","_renderLineDecoration","textStyle","TEXT_SHOW_BASELINE","strokeStyle","setLineDash","lineWidth","_drawLine","TEXT_SHOW_BORDER","_drawBox","borderRadius","_roundedRect","fill","restore","haloStyle","beginPath","moveTo","lineTo","stroke","floor","arcTo","closePath","rect","clearRect","lineJoin","_renderHaloEmulated","_renderHaloNative","globalAlpha","halo","color","drawImage","_strokeText","round","fillText","strokeText","cos","PI","sin","firstLineHeight","maxLineDescent","lastLineHeight","super","layerUid","graphicUid","geometryId","triangleNr","baseBoundingSphere","numLodLevels","_elementSize","_buffer","createVertex","STATIC_DRAW","resize","destroy","dispose","elementSize","capacity","_capacity","array","_array","buffer","usedMemory","byteLength","copyRange","Uint8Array","transferAll","setData","transferRange","setSubData","ArrayBuffer","subarray","setSize","modelOriginHi","getField","INSTANCEMODELORIGINHI","modelOriginLo","INSTANCEMODELORIGINLO","model","INSTANCEMODEL","modelNormal","INSTANCEMODELNORMAL","featureAttribute","INSTANCEFEATUREATTRIBUTE","INSTANCECOLOR","objectAndLayerIdColor","INSTANCEOBJECTANDLAYERIDCOLOR","_rctx","_instanceBufferLayout","_headIndex","_tailIndex","_firstIndex","_captureFirstIndex","_updating","_prevHeadIndex","_resized","view","_view","isEmpty","isFull","headIndex","tailIndex","firstIndex","reset","startUpdateCycle","beginUpdate","endUpdate","_shrink","_transferRange","allocateHead","_grow","_incrementHead","freeTail","_incrementTail","_resize","stride","_compactInstances","createView","F","ALLOCATED","DEFAULT_ACTIVE","VISIBLE","HIGHLIGHT","HIGHLIGHT_ACTIVE","REMOVE","TRANSFORM_CHANGED","ACTIVE","localTransform","LOCALTRANSFORM","globalTransform","GLOBALTRANSFORM","modelOrigin","MODELORIGIN","modelScaleFactors","MODELSCALEFACTORS","boundingSphere","BOUNDINGSPHERE","FEATUREATTRIBUTE","COLOR","OBJECTANDLAYERIDCOLOR","state","STATE","lodLevel","LODLEVEL","b","events","_size","_next","_highlightGroupMap","_highlightGroupMapPrev","_layout","mat4f64","vec4f64","vec3f64","mat3f","vec2f","includes","vec4f","vec4u8","u8","C","createBuffer","addInstance","_findSlot","emit","removeInstance","_getStateFlag","_setStateFlags","freeInstance","setLocalTransform","setMat","updateModelTransform","getLocalTransform","getMat","setGlobalTransform","getGlobalTransform","G","y","D","N","setVec","sort","index","getModelTransform","getVec","applyShaderTransformation","shaderTransformation","applyTransform","getCombinedModelTransform","getCombinedLocalTransform","getCombinedMaxScaleFactor","scaleFactor","getCombinedMedianScaleFactor","w","getModel","setFeatureAttribute","getFeatureAttribute","setColor","setObjectAndLayerIdColor","setVisible","getVisible","_setStateFlag","setHighlight","Set","add","delete","getHighlight","foreachHighlightGroupPrev","foreachHighlightGroup","getState","getLodLevel","countFlags","_clearStateFlags","copyFrom","constructOnly","prototype","readOnly","_instanceData","_tmpSphere","maximumDepth","_boundingSphere","_tmpMat4","radius","remove","_worldSpaceRadius","_minScreenSpaceRadii","selectLevel","computeScreenPixelSizeAt","renderContext","rctx","geometry","createBufferWriter","vertexBufferLayout","elementCount","write","material","boundingInfo","attributes","_materials","materials","setParameters","instancedDoublePrecision","glMaterials","vbo","vao","vertexCount","triangleCount","intersect","id","transform","rayBegin","rayEnd","results","drapedLayerOrder","dist","LOD","options","store","MIN","ALL","ray","all","create","Promise","allSettled","components","map","controller","schedule","status","value","filter","reason","minScreenSpaceRadius","boundingBox","_boundingBox","bbMin","bbMax","reduce","q","type","isGround","_levels","_defaultRenderInstanceData","Array","_highlightRenderInstanceDataMap","_instanceIndex","_cycleStartIndex","_slicePlane","_camera","_updateCyclesWithStaticCamera","_needFullCycle","produces","OPAQUE_MATERIAL","_produces","TRANSPARENT_MATERIAL","_hasTransparentLevels","optionalFields","addHandles","registerTask","LOD_RENDERER","initialize","vec3f","k","_glInstanceBufferLayout","on","_requestUpdateCycle","metadata","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","_allRenderInstanceData","_enableLevelSelection","symbol","levels","baseBoundingBox","baseMaterial","slicePlaneEnabled","instanceData","hasEmissions","renderStats","renderedInstances","renderedTriangles","trianglesPerInstance","totalInstances","_createRenderInstanceDataArray","_context","initializeRenderContext","_levelSelector","uninitializeRenderContext","_invalidateOctree","some","Color","hasHighlights","Highlight","ShadowHighlight","prepareRender","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","bind","contentCamera","equals","runTask","acquireTechniques","visible","isVisibleForOutput","output","_getInstanceDatas","_beginComponent","bindVAO","_renderComponent","ShadowExcludeHighlight","highlightGroupName","_octree","Y","J","inverse","Q","parameters","verticalOffset","forEachAlongRay","notifyShaderTransformationChanged","_octreeCached","queryDepthRange","near","far","viewForward","findClosest","DepthOrder","FRONT_TO_BACK","frustum","BACK_TO_FRONT","eye","K","requestRender","_startUpdateCycle","running","done","W","P","madeProgress","load","slot","beginSlot","runAppleAmdDriverHelper","bindTechnique","$","ensureAttributeLocations","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","setUniform4fv","Z","setUniform1i","replace","drawArraysInstanced","primitiveType","transparent","z"],"sourceRoot":""}