{"version":3,"file":"5049.6c7ea76c79ba3610c0ed.js","mappings":"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","sources":["webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/graphics/sources/MemorySource.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/support/PublishingInfo.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/mixins/PublishableLayer.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/layers/FeatureLayer.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/renderers/support/styleUtils.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/rest/query/operations/editsZScale.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js","webpack://react-redux-arcgis-boilerplate/./node_modules/@arcgis/core/webdoc/interfaces.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Collection.js\";import s from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import i from\"../../../core/Loadable.js\";import o from\"../../../core/Logger.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{open as a}from\"../../../core/workers/workers.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{ensureType as u}from\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/RandomLCG.js\";import{shared as p}from\"../../../core/accessorSupport/decorators/shared.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{unapplyEditsZUnitScaling as d}from\"../../../rest/query/operations/editsZScale.js\";import{applyFeatureSetZUnitScaling as h}from\"../../../rest/query/operations/queryZScale.js\";import y from\"../../../rest/support/FeatureSet.js\";import m from\"../../../geometry/Extent.js\";import f from\"../../../geometry/Polygon.js\";import{typeKebabDictionary as g}from\"../../../geometry/support/typeUtils.js\";let _=0,T=class extends(i.LoadableMixin(n(r))){constructor(e){super(e),this._idToClientGraphic=null,this.type=\"memory\"}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const e=this.layer?.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?\"polygon\":e:null}applyEdits(e){return this.load().then((()=>this._applyEdits(e)))}openPorts(){return this.load().then((()=>this._connection.openPorts()))}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke(\"queryFeatures\",e?e.toJSON():null,t);h(e,this.layer.spatialReference,r);const s=y.fromJSON(r);if(!this._requiresClientGraphicMapping())return s;const i=this.layer.objectIdField;for(const o of s.features){const e=o.attributes[i],t=this._idToClientGraphic.get(e);t&&(o.geometry=t.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new s(\"query-features-json:unsupported\",\"Cannot query in JSON format for client only geometry types (mesh and extent)\");await this.load(t);const r=await this._connection.invoke(\"queryFeatures\",e?e.toJSON():null,t);return h(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then((()=>this._connection.invoke(\"queryFeatureCount\",e?e.toJSON():null,t)))}queryObjectIds(e,t={}){return this.load(t).then((()=>this._connection.invoke(\"queryObjectIds\",e?e.toJSON():null,t)))}queryExtent(e,t={}){return this.load(t).then((()=>this._connection.invoke(\"queryExtent\",e?e.toJSON():null,t))).then((e=>({count:e.count,extent:m.fromJSON(e.extent)})))}querySnapping(e,t={}){return this.load(t).then((()=>this._connection.invoke(\"querySnapping\",e,t)))}async _applyEdits(e){if(!this._connection)throw new s(\"feature-layer-source:edit-failure\",\"Memory source not loaded\");const t=this.layer.objectIdField;let r=null;const i=[],o=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const n=e=>\"objectId\"in e&&null!=e.objectId?e.objectId:\"attributes\"in e&&null!=e.attributes[t]?e.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const s of e.deleteFeatures){const e=n(s);null!=e&&i.push(e)}const a=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures)for(const s of e.updateFeatures)if(o.push(this._serializeFeature(s)),a){const e=n(s);null!=e&&a.set(e,s)}d(r?r.features:null,o,this.layer.spatialReference);const{fullExtent:l,featureEditResults:u}=await this._connection.invoke(\"applyEdits\",{adds:r?r.features:[],updates:o,deletes:i});return this.fullExtent=l,r&&r.finish(u.uidToObjectId),this._updateClientGraphicIds(a,u),this._createEditsResult(u)}async _prepareClientMapping(e,t){if(\"mesh\"!==this._layerOrSourceGeometryType||null==e)return;const r=[];for(const{geometry:s}of e)null==s||\"mesh\"!==s.type||s.hasExtent||s.loaded||r.push(s.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const t=e.get(r.objectId);null!=t&&this._addIdToClientGraphic(t)}for(const e of t.deleteResults)e.success&&this._idToClientGraphic.delete(e.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new s(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let s=null;for(let o=0;o<e.length;o++){const i=e[o],n=this._serializeFeature(i);s||null==i.geometry||(s=i.geometry.type),r[o]=n,t.set(`${n.uid}`,i)}const i=this;return{features:r,inferredGeometryType:s,finish(e){const r=i.sourceJSON.objectIdField;for(const s in e){const o=e[s],n=t.get(s);n&&(n.attributes||(n.attributes={}),-1===o?delete n.attributes[r]:n.attributes[r]=o,i._addIdToClientGraphic(n))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes?.[t];null!=r&&this._idToClientGraphic.set(r,e)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return\"mesh\"===e||\"multipatch\"===e||\"extent\"===e}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),s=(_++).toString();return r?{uid:s,geometry:r.toJSON(),attributes:t}:{uid:s,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;if(null==t)return null;if(this._geometryRequiresClientGraphicMapping(t)){return t.extent?f.fromExtent(t.extent):null}return t}async _startWorker(e){this._connection=await a(\"MemorySourceWorker\",{strategy:has(\"feature-layers-workers\")?\"dedicated\":\"local\",signal:e,registryTarget:this});const{fields:t,spatialReference:r,objectIdField:s,hasM:i,hasZ:n,timeInfo:l,dateFieldsTimeZone:u}=this.layer,p=\"defaults\"===this.layer.originOf(\"spatialReference\");await this._prepareClientMapping(this.items,e);const c=this._prepareAddFeatures(this.items);this.addHandles(this.on(\"before-changes\",(e=>{o.getLogger(this).error(\"Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead\"),e.preventDefault()})));const d={features:c.features,fields:t?.map((e=>e.toJSON())),geometryType:g.toJSON(this._workerGeometryType),hasM:\"mesh\"!==this._layerOrSourceGeometryType&&i,hasZ:\"mesh\"===this._layerOrSourceGeometryType||n,objectIdField:s,spatialReference:p?null:r&&r.toJSON(),timeInfo:l?.toJSON()??null,dateFieldsTimeZone:u},h=await this._connection.invoke(\"load\",d,{signal:e});for(const a of h.warnings)o.getLogger(this.layer).warn(\"#load()\",`${a.message} (title: '${this.layer.title||\"no title\"}', id: '${this.layer.id??\"no id\"}')`,{warning:a});h.featureErrors.length&&o.getLogger(this.layer).warn(\"#load()\",`Encountered ${h.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||\"no title\"}', id: '${this.layer.id??\"no id\"}')`,{errors:h.featureErrors});const y=h.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(c.inferredGeometryType)&&(y.geometryType=g.toJSON(c.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),c.finish(h.assignedObjectIds)}};e([p({Type:t,ensureType:u(t)})],T.prototype,\"itemType\",void 0),e([l()],T.prototype,\"type\",void 0),e([l({constructOnly:!0})],T.prototype,\"layer\",void 0),e([l({readOnly:!0})],T.prototype,\"_workerGeometryType\",null),e([l()],T.prototype,\"sourceJSON\",void 0),T=e([c(\"esri.layers.graphics.sources.MemorySource\")],T);export{T as MemorySource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import s from\"../../core/Accessor.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";let e=class extends s{constructor(){super(...arguments),this.updating=!1,this.status=\"unknown\"}};o([r()],e.prototype,\"updating\",void 0),o([r()],e.prototype,\"status\",void 0),e=o([t(\"esri.layers.support.PublishingInfo\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../support/PublishingInfo.js\";const o=Symbol();function i(t){return null!=t&&\"object\"==typeof t&&o in t}const n=i=>{var n;let u=class extends i{constructor(){super(...arguments),this[n]=!0}get publishingInfo(){if(this.destroyed)return null;const t=this._get(\"publishingInfo\");if(t)return t;const s=new r;return this._checkPublishingStatus(s),s}_checkPublishingStatus(t){const s=250,e=125;let r=0;const o=async s=>{let n;t.updating=!0;try{n=await this.fetchPublishingStatus()}catch(u){n=\"unavailable\"}\"published\"!==n&&\"unavailable\"!==n||(\"publishing\"===t.status&&this.refresh(),i.remove()),t.status=n,t.updating=!1,i.removed||(r=setTimeout(o,s,s+e))},i={removed:!1,remove(){this.removed=!0,clearTimeout(r)}};this.when().catch((()=>i.remove())),o(s),this.addHandles(i)}};return n=o,t([s({readOnly:!0,clonable:!1})],u.prototype,\"publishingInfo\",null),u=t([e(\"esri.layers.mixins.PublishableLayer\")],u),u};export{n as PublishableLayer,i as isPublishableLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import{read as t}from\"../renderers/support/jsonUtils.js\";import{rendererTypes as i,webSceneRendererTypes as o}from\"../renderers/support/types.js\";import s from\"../request.js\";import{symbolTypes as a}from\"../symbols.js\";import{ClonableMixin as n}from\"../core/Clonable.js\";import l from\"../core/Collection.js\";import p from\"../core/Error.js\";import{clone as u}from\"../core/lang.js\";import d from\"../core/Logger.js\";import{MultiOriginJSONMixin as y}from\"../core/MultiOriginJSONSupport.js\";import{setDeepValue as c}from\"../core/object.js\";import{debounce as m,throwIfAbortError as h,whenOrAbort as f}from\"../core/promiseUtils.js\";import{sqlAnd as b}from\"../core/sql.js\";import{urlToObject as g,join as w}from\"../core/urlUtils.js\";import j from\"../core/Warning.js\";import{property as v}from\"../core/accessorSupport/decorators/property.js\";import{cast as S}from\"../core/accessorSupport/decorators/cast.js\";import{reader as F}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as T}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as I}from\"../core/accessorSupport/decorators/writer.js\";import{excludeTables as E}from\"../core/accessorSupport/layerContainerType.js\";import L from\"../form/FormTemplate.js\";import D from\"../geometry/SpatialReference.js\";import _ from\"./Layer.js\";import{MemorySource as x}from\"./graphics/sources/MemorySource.js\";import{APIKeyMixin as P}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as q}from\"./mixins/ArcGISService.js\";import{BlendLayer as C}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as M}from\"./mixins/CustomParametersMixin.js\";import{EditBusLayer as O}from\"./mixins/EditBusLayer.js\";import{FeatureEffectLayer as A}from\"./mixins/FeatureEffectLayer.js\";import{FeatureLayerBase as R}from\"./mixins/FeatureLayerBase.js\";import{FeatureReductionLayer as V}from\"./mixins/FeatureReductionLayer.js\";import{OperationalLayer as Q}from\"./mixins/OperationalLayer.js\";import{OrderedLayer as U}from\"./mixins/OrderedLayer.js\";import{PortalLayer as B}from\"./mixins/PortalLayer.js\";import{PublishableLayer as N}from\"./mixins/PublishableLayer.js\";import{RefreshableLayer as $}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as G}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as J}from\"./mixins/TemporalLayer.js\";import{titleFromUrlAndName as W,parse as Z,cleanTitle as H}from\"./support/arcgisLayerUrl.js\";import{attributeTableTemplate as k,id as z,labelsVisible as K,opacityDrawingInfo as X,legendEnabled as Y,listMode as ee,popupEnabled as re,screenSizePerspectiveEnabled as te}from\"./support/commonProperties.js\";import{ensureLayerCredential as ie,computeEffectiveEditingEnabled as oe,readGlobalIdField as se,readObjectIdField as ae,createDefaultRenderer as ne,addAttachment as le,updateAttachment as pe,applyEdits as ue,uploadAssets as de,createQuery as ye,deleteAttachments as ce,fetchRecomputedExtents as me,getFeatureType as he,computeDomainFromSubtypes as fe,getFeatureSubtype as be,computeDomainFromTypes as ge,queryAttachments as we,queryObjectIds as je,queryFeatureCount as ve,queryExtent as Se,queryRelatedFeatures as Fe,queryRelatedFeaturesCount as Te,validateBinsQuery as Ie,hasDataChanged as Ee,geometryTypeKebabDict as Le}from\"./support/featureLayerUtils.js\";import De from\"./support/FeatureTemplate.js\";import _e from\"./support/FeatureType.js\";import{defineFieldProperties as xe}from\"./support/fieldProperties.js\";import{fixRendererFields as Pe,fixTimeInfoFields as qe}from\"./support/fieldUtils.js\";import Ce from\"./support/LabelClass.js\";import{reader as Me}from\"./support/labelingInfo.js\";import{getFeatureLayerCapabilities as Oe}from\"./support/serviceCapabilitiesUtils.js\";import Ae from\"./support/TimeInfo.js\";import{serviceSupportsSpatialReference as Re}from\"./support/versionUtils.js\";import{DataLayerSource as Ve}from\"./support/source/DataLayerSource.js\";import{loadStyleRenderer as Qe}from\"../renderers/support/styleUtils.js\";import Ue from\"../rest/support/FeatureSet.js\";import Be from\"../rest/support/Query.js\";import{createPopupTemplate as Ne}from\"../support/popupUtils.js\";import{alphaCutoff as $e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{SaveOperationType as Ge}from\"../webdoc/interfaces.js\";import{opacityToTransparency as Je}from\"../webdoc/support/opacityUtils.js\";const We=\"FeatureLayer\";function Ze(e,r){return new p(\"layer:unsupported\",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${r}`,{layer:e})}function He(e){return e&&e instanceof l}const ke=xe();function ze(e,r,t){const i=!!t?.writeLayerSchema;return{enabled:i,ignoreOrigin:i}}let Ke=class extends(R(V(A(N(O(C(U(J(G($(q(Q(B(y(M(P(n(_)))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=D.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set([\"Feature Layer\",\"Oriented Imagery Layer\",\"Table\",\"Catalog Layer\"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode=\"item-title\",this.type=\"feature\",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=m((async(e,r,t)=>{const{save:i,saveAs:o}=await import(\"./save/featureLayerUtils.js\");switch(e){case Ge.SAVE:return i(this,r);case Ge.SAVE_AS:return o(this,t,r)}}))}destroy(){this.source?.destroy()}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(r).then((e=>this.initLayerProperties(e)))),Promise.resolve(this);const t=this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},e).catch(h).then((async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\\/*$/i.test(this.url)){const e=await this._fetchFirstValidLayerId(r);null!=e&&(this.layerId=e)}if(!this.url&&!this._hasMemorySource())throw new p(\"feature-layer:missing-url-or-source\",\"Feature layer must be created with either a url or a source\");return this.initLayerProperties(await this.createGraphicsSource(r))})).then((()=>ie(this,\"load\",e)));return this.addResolvingPromise(t),Promise.resolve(this)}warnInvisibleDrapedSymbols(){\"on-the-ground\"===this.elevationInfo?.mode&&\"simple\"===this.renderer?.type&&\"polygon-3d\"===this.renderer.symbol?.type&&this.renderer.symbol.symbolLayers.some((e=>\"fill\"===e.type&&null!=e.material&&((!e.material.color||e.material.color.a*this.opacity<$e)&&(this.loadWarnings.push(new j(\"feature-layer:invisible-draped-symbols\",\"FeatureLayer has fully transparent symbols which will no longer render or highlight\",{layer:this})),!0))))}readCapabilities(e,r){return r=r.layerDefinition||r,Oe(r,this.url)}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"dynamicDataSource\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"gdbVersion\"),this.commitProperty(\"historicMoment\"),this.commitProperty(\"returnZ\"),this.commitProperty(\"capabilities\"),this.commitProperty(\"returnM\"),(this._get(\"createQueryVersion\")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden(\"editingEnabled\")?this._get(\"editingEnabled\"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome(\"editingEnabled\",e)}readEditingEnabled(e,r){return this._readEditingEnabled(r,!1)}readEditingEnabledFromWebMap(e,r,t){return this._readEditingEnabled(r,!0,t)}writeEditingEnabled(e,r){this._writeEditingEnabled(e,r,!1)}writeEditingEnabledToWebMap(e,r,t,i){this._writeEditingEnabled(e,r,!0,i)}get effectiveEditingEnabled(){return oe(this)}readIsTable(e,r){return\"Table\"===(r=r?.layerDefinition??r).type||!r.geometryType}writeIsTable(e,r,t,i){i?.writeLayerSchema&&c(t,e?\"Table\":\"Feature Layer\",r)}readGlobalIdField(e,r){return se(r.layerDefinition||r)}readObjectIdField(e,r){return ae(r.layerDefinition||r)}get parsedUrl(){const e=g(this.url);return null!=e&&(null!=this.dynamicDataSource?e.path=w(e.path,\"dynamicLayer\"):null!=this.layerId&&(e.path=w(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){Pe(e,this.fieldsIndex),this._set(\"renderer\",e)}readRenderer(e,r,i){r=r.layerDefinition||r;const o=r.drawingInfo?.renderer;if(o){const e=t(o,r,i)??void 0;return e||d.getLogger(this).error(\"Failed to create renderer\",{rendererDefinition:r.drawingInfo.renderer,layer:this,context:i}),e}return ne(r,i)}set source(e){const r=this._get(\"source\");r!==e&&(He(r)&&this._resetMemorySource(r),He(e)&&this._initMemorySource(e),this._set(\"source\",e))}castSource(e){return e?Array.isArray(e)||e instanceof l?new x({layer:this,items:e}):e:null}readSource(e,r){const t=Ue.fromJSON(r.featureSet);return new x({layer:this,items:t?.features??[]})}readTemplates(e,r){const t=r.editFieldsInfo,i=t?.creatorField,o=t?.editorField;return e=e?.map((e=>De.fromJSON(e))),this._fixTemplates(e,i),this._fixTemplates(e,o),e}readTitle(e,r){const t=r.layerDefinition?.name??r.name,i=r.title||r.layerDefinition?.title;if(t){const e=this.portalItem?.title;if(\"item-title\"===this.sublayerTitleMode)return this.url?W(this.url,t):t;let r=t;if(!r&&this.url){const e=Z(this.url);null!=e&&(r=e.title)}if(!r)return;return\"item-title-and-service-name\"===this.sublayerTitleMode&&e&&e!==r&&(r=e+\" - \"+r),H(r)}if(\"item-title\"===this.sublayerTitleMode&&i)return i}readTitleFromWebMap(e,r){return r.title||r.layerDefinition?.name}readTypeIdField(e,r){let t=(r=r.layerDefinition||r).typeIdField;if(t&&r.fields){t=t.toLowerCase();const e=r.fields.find((e=>e.name.toLowerCase()===t));e&&(t=e.name)}return t}readTypes(e,r){e=(r=r.layerDefinition||r).types;const t=r.editFieldsInfo,i=t?.creatorField,o=t?.editorField;return e?.map((e=>(e=_e.fromJSON(e),this._fixTemplates(e.templates,i),this._fixTemplates(e.templates,o),e)))}readVisible(e,r){return null!=r.layerDefinition?.defaultVisibility?!!r.layerDefinition.defaultVisibility:null!=r.visibility?!!r.visibility:void 0}async addAttachment(e,r){return le(this,e,r,We)}async updateAttachment(e,r,t){return pe(this,e,r,t,We)}async applyEdits(e,r){return ue(this,e,r)}async uploadAssets(e,r){return de(this,e,r)}on(e,r){return super.on(e,r)}createPopupTemplate(e){return Ne(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:r}=await f(import(\"./graphics/sources/FeatureLayerSource.js\"),e);return new r({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=ye(this);e.dynamicDataSource=this.dynamicDataSource;const r=null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null,t=b(this.definitionExpression,r);return e.where=t||\"1=1\",e}async deleteAttachments(e,r){return ce(this,e,r,We)}async fetchRecomputedExtents(e){return me(this,e,We)}getFeatureType(e){return he(this.types,this.typeIdField,e)}getFieldDomain(e,r){const t=r?.feature,i=!!this.subtypes?.length;if(i&&!r?.excludeImpliedDomains){const r=fe(this,e);if(r)return r}const o=i&&be(this,t);if(o){const r=o?.domains?.[e];return\"inherited\"===r?.type?this._getLayerDomain(e):r}const s=this.getFeatureType(t),a=this._getLayerDomain(e);if(s){const r=s.domains&&s.domains[e];if(r&&\"inherited\"!==r?.type)return r;if(\"inherited\"===r?.type&&a)return a}if(!r?.excludeImpliedDomains){const r=ge(this,e);if(r)return r}return a}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,r){return we(this,e,r,We)}async queryFeatures(e,r){const t=await this.load(),i=await t.source.queryFeatures(Be.from(e)??t.createQuery(),r);if(i?.features)for(const o of i.features)o.layer=o.sourceLayer=t;return i}async queryObjectIds(e,r){return je(this,e,r,We)}async queryFeatureCount(e,r){return ve(this,e,r,We)}async queryExtent(e,r){return Se(this,e,r,We)}async queryRelatedFeatures(e,r){return Fe(this,e,r,We)}async queryRelatedFeaturesCount(e,r){return Te(this,e,r,We)}async queryTopFeatures(e,r){const{source:t,capabilities:i}=await this.load();if(!t.queryTopFeatures||!i?.query?.supportsTopFeaturesQuery)throw new p(We,\"Layer source does not support queryTopFeatures capability\");const o=await import(\"../rest/support/TopFeaturesQuery.js\"),s=await t.queryTopFeatures(o.default.from(e),r);if(s?.features)for(const a of s.features)a.layer=a.sourceLayer=this;return s}async queryBins(e,r){const{source:t,capabilities:i}=await this.load();if(!t.queryBins||!i?.operations?.supportsQueryBins)throw new p(We,\"Layer source does not support queryBins capability\");Ie(e,i,We);const o=await import(\"../rest/support/BinsQuery.js\"),s=await t.queryBins(o.default.from(e),r);if(s.features)for(const a of s.features)a.layer=a.sourceLayer=this;return s}async queryTopObjectIds(e,r){const{source:t,capabilities:i}=await this.load();if(!t.queryTopObjectIds||!i?.query.supportsTopFeaturesQuery)throw new p(We,\"Layer source does not support queryTopObjectIds capability\");const o=await import(\"../rest/support/TopFeaturesQuery.js\");return t.queryTopObjectIds(o.default.from(e),r)}async queryTopFeaturesExtent(e,r){const{source:t,capabilities:i}=await this.load();if(!t.queryTopExtents||!i?.query?.supportsTopFeaturesQuery)throw new p(We,\"Layer source does not support queryTopExtents capability\");const o=await import(\"../rest/support/TopFeaturesQuery.js\");return t.queryTopExtents(o.default.from(e),r)}async queryTopFeatureCount(e,r){const{source:t,capabilities:i}=await this.load();if(!t.queryTopCount||!i?.query?.supportsTopFeaturesQuery)throw new p(We,\"Layer source does not support queryFeatureCount capability\");const o=await import(\"../rest/support/TopFeaturesQuery.js\");return t.queryTopCount(o.default.from(e),r)}read(e,r){const t=e.featureCollection;if((t||\"Feature Collection\"===e.type)&&(this.resourceInfo=e),t){const e=t.layers;e&&1===e.length&&(super.read(e[0],r),null!=t.showLegend&&super.read({showLegend:t.showLegend},r))}super.read(e,r),r&&\"service\"===r.origin&&(this.revert([\"objectIdField\",\"fields\",\"timeInfo\",\"dateFieldsTimeZone\"],\"service\"),this.spatialReference||this.revert([\"spatialReference\"],\"service\"))}write(e,r){r={...r,origin:r?.origin??void 0,writeLayerSchema:r?.writeLayerSchema??this._hasMemorySource()};const{origin:t,layerContainerType:i,messages:o}=r;if(this.dynamicDataSource)return o?.push(Ze(this,\"using a dynamic data source cannot be written to web scenes, web maps and feature service items\")),null;if(this.isTable){if((\"web-map\"===t||\"web-scene\"===t)&&\"tables\"!==i)return o?.push(Ze(this,`a table source can only be written to tables, not ${i}`)),null;if(this._hasMemorySource())return o?.push(Ze(this,\"using an in-memory table source cannot be written to web scenes and web maps\")),null}else if(this.loaded&&(\"web-map\"===t||\"web-scene\"===t)&&\"tables\"===i)return o?.push(Ze(this,\"using a non-table source cannot be written to tables in web maps or web scenes\")),null;return super.write(e,r)}clone(){if(this._hasMemorySource())throw new p(We,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(\"memory\"===this.source?.type||Re(this,e))}async save(e){return this._debouncedSaveOperations(Ge.SAVE,e)}async saveAs(e,r){return this._debouncedSaveOperations(Ge.SAVE_AS,r,e)}_readEditingEnabled(e,r,t){let i=e.layerDefinition?.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,r&&\"web-map\"===t?.origin&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(\",\").map((e=>e.trim())).includes(\"editing\")}_writeEditingEnabled(e,r,t,i){if(!e){const e=this.capabilities?.operations?.supportsSync?\"Query,Sync\":\"Query\";c(\"layerDefinition.capabilities\",e,r),t&&!i?.writeLayerSchema&&(r.capabilities=e)}}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}_fetchFirstValidLayerId(e){return s(this.url??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then((e=>{const r=e.data;if(r)return this.findFirstValidLayerId(r)}))}async initLayerProperties(e){return this._set(\"source\",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Pe(this.renderer,this.fieldsIndex),qe(this.timeInfo,this.fieldsIndex),Qe(this,{origin:\"service\"})}async hasDataChanged(){return Ee(this)}async fetchPublishingStatus(){const e=this.source;return e?.fetchPublishingStatus?e.fetchPublishingStatus():\"unavailable\"}_verifyFields(){const e=this.parsedUrl?.path??\"undefined\";this.objectIdField||console.log(\"FeatureLayer: 'objectIdField' property is not defined (url: \"+e+\")\"),this.isTable||this._hasMemorySource()||-1!==e.search(/\\/FeatureServer\\//i)||this.fields?.some((e=>\"geometry\"===e.type))||console.log(\"FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: \"+e+\")\")}_fixTemplates(e,r){e&&e.forEach((e=>{const t=e.prototype?.attributes;t&&r&&delete t[r]}))}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new p(\"feature-layer:mixed-source-and-url\",\"FeatureLayer cannot be created with both an in-memory source and a url\")}else if(!this.url)throw new p(\"feature-layer:source-or-url-required\",\"FeatureLayer requires either a url, a valid portal item or a source\")}_initMemorySource(e){e.forEach((e=>{e.layer=this,e.sourceLayer=this})),this.addHandles([e.on(\"after-add\",(e=>{e.item.layer=this,e.item.sourceLayer=this})),e.on(\"after-remove\",(e=>{e.item.layer=null,e.item.sourceLayer=null}))],\"fl-source\")}_resetMemorySource(e){e.forEach((e=>{e.layer=null,e.sourceLayer=null})),this.removeHandles(\"fl-source\")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};e([v(k)],Ke.prototype,\"attributeTableTemplate\",void 0),e([F(\"service\",\"capabilities\")],Ke.prototype,\"readCapabilities\",null),e([v({json:{origins:{\"web-scene\":{write:!1}},write:!0}})],Ke.prototype,\"charts\",void 0),e([v({readOnly:!0})],Ke.prototype,\"createQueryVersion\",null),e([v({json:{read:{source:\"layerDefinition.copyrightText\"}}})],Ke.prototype,\"copyright\",void 0),e([v({json:{read:{source:\"layerDefinition.displayField\"}}})],Ke.prototype,\"displayField\",void 0),e([v({types:a,readOnly:!0})],Ke.prototype,\"defaultSymbol\",void 0),e([v({type:Ve})],Ke.prototype,\"dynamicDataSource\",void 0),e([v({type:Boolean})],Ke.prototype,\"editingEnabled\",null),e([F([\"portal-item\",\"web-scene\"],\"editingEnabled\",[\"layerDefinition.capabilities\"])],Ke.prototype,\"readEditingEnabled\",null),e([F(\"web-map\",\"editingEnabled\",[\"capabilities\",\"layerDefinition.capabilities\"])],Ke.prototype,\"readEditingEnabledFromWebMap\",null),e([I([\"portal-item\",\"web-scene\"],\"editingEnabled\",{\"layerDefinition.capabilities\":{type:String}})],Ke.prototype,\"writeEditingEnabled\",null),e([I(\"web-map\",\"editingEnabled\",{capabilities:{type:String},\"layerDefinition.capabilities\":{type:String}})],Ke.prototype,\"writeEditingEnabledToWebMap\",null),e([v({readOnly:!0})],Ke.prototype,\"effectiveEditingEnabled\",null),e([v({...ke.fields,json:{read:{source:\"layerDefinition.fields\"},origins:{service:{name:\"fields\"},\"web-map\":{write:{target:\"layerDefinition.fields\",overridePolicy:ze}}}}})],Ke.prototype,\"fields\",void 0),e([v(ke.fieldsIndex)],Ke.prototype,\"fieldsIndex\",void 0),e([v({type:L,json:{name:\"formInfo\",write:!0,origins:{\"web-scene\":{read:!1,write:!1}}}})],Ke.prototype,\"formTemplate\",void 0),e([v({json:{read:{source:\"layerDefinition.extent\"}}})],Ke.prototype,\"fullExtent\",void 0),e([v({json:{origins:{\"web-map\":{write:{target:\"layerDefinition.geometryType\",overridePolicy:ze,writer(e,r,t){const i=e?Le.toJSON(e):null;i&&c(t,i,r)}}}},read:{source:\"layerDefinition.geometryType\",reader:Le.read}}})],Ke.prototype,\"geometryType\",void 0),e([v({json:{read:{source:\"layerDefinition.hasM\"}}})],Ke.prototype,\"hasM\",void 0),e([v({json:{read:{source:\"layerDefinition.hasZ\"}}})],Ke.prototype,\"hasZ\",void 0),e([v(z)],Ke.prototype,\"id\",void 0),e([v({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Ke.prototype,\"infoFor3D\",void 0),e([v({json:{origins:{\"web-map\":{write:{target:\"layerDefinition.type\"}}}}})],Ke.prototype,\"isTable\",void 0),e([F(\"service\",\"isTable\",[\"type\",\"geometryType\"]),F(\"isTable\",[\"layerDefinition.type\",\"layerDefinition.geometryType\"])],Ke.prototype,\"readIsTable\",null),e([I(\"web-map\",\"isTable\")],Ke.prototype,\"writeIsTable\",null),e([v(K)],Ke.prototype,\"labelsVisible\",void 0),e([v({type:[Ce],json:{origins:{service:{name:\"drawingInfo.labelingInfo\",read:Me,write:!1},\"web-scene\":{name:\"layerDefinition.drawingInfo.labelingInfo\",read:Me,write:{enabled:!0,layerContainerTypes:E}}},name:\"layerDefinition.drawingInfo.labelingInfo\",read:Me,write:!0}})],Ke.prototype,\"labelingInfo\",void 0),e([v((()=>{const e=u(X);return e.json.origins[\"portal-item\"]={write:{target:\"layerDefinition.drawingInfo.transparency\",writer(e,r,t){c(t,Je(e),r)}}},e})())],Ke.prototype,\"opacity\",void 0),e([v(Y)],Ke.prototype,\"legendEnabled\",void 0),e([v({type:[\"show\",\"hide\"],json:(()=>{const e=u(ee.json);return e.origins[\"portal-item\"]={read:!1,write:!1},e})()})],Ke.prototype,\"listMode\",void 0),e([F(\"globalIdField\",[\"layerDefinition.globalIdField\",\"layerDefinition.fields\"])],Ke.prototype,\"readGlobalIdField\",null),e([v({json:{origins:{\"web-map\":{write:{target:\"layerDefinition.objectIdField\",overridePolicy:ze}}}}})],Ke.prototype,\"objectIdField\",void 0),e([F(\"objectIdField\",[\"layerDefinition.objectIdField\",\"layerDefinition.fields\"])],Ke.prototype,\"readObjectIdField\",null),e([v({value:\"ArcGISFeatureLayer\",type:[\"ArcGISFeatureLayer\"]})],Ke.prototype,\"operationalLayerType\",void 0),e([v(ke.outFields)],Ke.prototype,\"outFields\",void 0),e([v({readOnly:!0})],Ke.prototype,\"parsedUrl\",null),e([v({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],Ke.prototype,\"path\",void 0),e([v(re)],Ke.prototype,\"popupEnabled\",void 0),e([v({type:r,json:{name:\"popupInfo\",write:!0}})],Ke.prototype,\"popupTemplate\",void 0),e([v({readOnly:!0})],Ke.prototype,\"defaultPopupTemplate\",null),e([v({types:i,json:{origins:{service:{write:{target:\"drawingInfo.renderer\",enabled:!1}},\"web-scene\":{types:o,name:\"layerDefinition.drawingInfo.renderer\",write:{layerContainerTypes:E,overridePolicy:(e,r,t)=>({ignoreOrigin:t?.writeLayerSchema})}}},write:{target:\"layerDefinition.drawingInfo.renderer\",overridePolicy:(e,r,t)=>({ignoreOrigin:t?.writeLayerSchema})}}})],Ke.prototype,\"renderer\",null),e([F(\"service\",\"renderer\",[\"drawingInfo.renderer\",\"defaultSymbol\"]),F(\"renderer\",[\"layerDefinition.drawingInfo.renderer\",\"layerDefinition.defaultSymbol\"])],Ke.prototype,\"readRenderer\",null),e([v()],Ke.prototype,\"resourceInfo\",void 0),e([v((()=>{const e=u(te);return e.json.origins[\"portal-item\"]={read:!1,write:!1},e})())],Ke.prototype,\"screenSizePerspectiveEnabled\",void 0),e([v({clonable:!1})],Ke.prototype,\"source\",null),e([S(\"source\")],Ke.prototype,\"castSource\",null),e([F(\"portal-item\",\"source\",[\"featureSet\"]),F(\"web-map\",\"source\",[\"featureSet\"])],Ke.prototype,\"readSource\",null),e([v({json:{read:{source:\"layerDefinition.extent.spatialReference\"}}})],Ke.prototype,\"spatialReference\",void 0),e([v({type:Number})],Ke.prototype,\"subtypeCode\",void 0),e([v({type:[De]})],Ke.prototype,\"templates\",void 0),e([F(\"templates\",[\"editFieldsInfo\",\"creatorField\",\"editorField\",\"templates\"])],Ke.prototype,\"readTemplates\",null),e([v({type:Ae})],Ke.prototype,\"timeInfo\",void 0),e([v()],Ke.prototype,\"title\",void 0),e([F(\"service\",\"title\",[\"name\"]),F(\"portal-item\",\"title\",[\"layerDefinition.title\",\"layerDefinition.name\",\"title\"])],Ke.prototype,\"readTitle\",null),e([F(\"web-map\",\"title\",[\"layerDefinition.name\",\"title\"])],Ke.prototype,\"readTitleFromWebMap\",null),e([v({type:String})],Ke.prototype,\"sublayerTitleMode\",void 0),e([v({json:{read:!1}})],Ke.prototype,\"type\",void 0),e([v({type:String})],Ke.prototype,\"typeIdField\",void 0),e([F(\"service\",\"typeIdField\"),F(\"typeIdField\",[\"layerDefinition.typeIdField\"])],Ke.prototype,\"readTypeIdField\",null),e([v({type:[_e]})],Ke.prototype,\"types\",void 0),e([F(\"service\",\"types\",[\"types\"]),F(\"types\",[\"layerDefinition.types\"])],Ke.prototype,\"readTypes\",null),e([v({type:Boolean,json:{origins:{\"portal-item\":{write:{target:\"layerDefinition.defaultVisibility\"}}}}})],Ke.prototype,\"visible\",void 0),e([F(\"portal-item\",\"visible\",[\"visibility\",\"layerDefinition.defaultVisibility\"])],Ke.prototype,\"readVisible\",null),Ke=e([T(\"esri.layers.FeatureLayer\")],Ke);const Xe=Ke;export{Xe as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import o from\"../../core/Warning.js\";async function t(t,i,n){const s=t&&t.getAtOrigin&&t.getAtOrigin(\"renderer\",i.origin);if(s&&\"unique-value\"===s.type&&s.styleOrigin){const a=await e(s.populateFromStyle());if(r(n),!1===a.ok){const e=a.error;i?.messages&&i.messages.push(new o(\"renderer:style-reference\",`Failed to create unique value renderer from style reference: ${e.message}`,{error:e,context:i})),t.clear(\"renderer\",i?.origin)}}}export{t as loadStyleRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getMetersPerVerticalUnitForSR as n}from\"../../../core/unitUtils.js\";import{equals as e}from\"../../../geometry/support/spatialReferenceUtils.js\";function t(n,e,t){if(null==n.hasM||n.hasZ)for(const i of e)for(const n of i)n.length>2&&(n[2]*=t)}function i(e,t,i){if(!e&&!t||!i)return;const s=n(i);o(e,i,s),o(t,i,s)}function o(n,e,t){if(n)for(const i of n)s(i.geometry,e,t)}function s(i,o,s){if(!i?.spatialReference||e(i.spatialReference,o))return;const f=n(i.spatialReference)/s;if(1!==f)if(\"x\"in i)null!=i.z&&(i.z*=f);else if(\"rings\"in i)t(i,i.rings,f);else if(\"paths\"in i)t(i,i.paths,f);else if(\"points\"in i&&(null==i.hasM||i.hasZ))for(const n of i.points)n.length>2&&(n[2]*=f)}export{i as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst o=1/255.5;export{o as alphaCutoff};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.SAVE=0]=\"SAVE\",A[A.SAVE_AS=1]=\"SAVE_AS\"}(A||(A={}));export{A as SaveOperationType};\n"],"names":["_","T","LoadableMixin","constructor","e","super","this","_idToClientGraphic","type","load","t","signal","addResolvingPromise","_startWorker","Promise","resolve","destroy","_connection","close","_workerGeometryType","layer","geometryType","_geometryTypeRequiresClientGraphicMapping","applyEdits","then","_applyEdits","openPorts","queryFeatures","r","invoke","toJSON","spatialReference","s","fromJSON","_requiresClientGraphicMapping","i","objectIdField","o","features","attributes","get","geometry","queryFeaturesJSON","queryFeatureCount","queryObjectIds","queryExtent","count","extent","querySnapping","all","_prepareClientMapping","addFeatures","updateFeatures","n","objectId","_prepareAddFeatures","deleteFeatures","push","a","Map","_serializeFeature","set","fullExtent","l","featureEditResults","u","adds","updates","deletes","finish","uidToObjectId","_updateClientGraphicIds","_createEditsResult","_layerOrSourceGeometryType","hasExtent","loaded","length","updateResults","success","_addIdToClientGraphic","deleteResults","delete","addFeatureResults","addResults","map","_createFeatureEditResult","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","error","code","description","globalId","Array","uid","inferredGeometryType","sourceJSON","_geometryRequiresClientGraphicMapping","_geometryForSerialization","toString","fromExtent","strategy","has","registryTarget","fields","hasM","hasZ","timeInfo","dateFieldsTimeZone","p","originOf","items","c","addHandles","on","getLogger","preventDefault","d","h","warnings","warn","message","title","id","warning","featureErrors","errors","y","layerDefinition","assignedObjectIds","Type","ensureType","prototype","constructOnly","readOnly","arguments","updating","status","Symbol","publishingInfo","destroyed","_get","_checkPublishingStatus","async","fetchPublishingStatus","refresh","remove","removed","setTimeout","clearTimeout","when","catch","clonable","We","Ze","declaredClass","He","ke","ze","writeLayerSchema","enabled","ignoreOrigin","Ke","attributeTableTemplate","charts","copyright","displayField","dynamicDataSource","fieldsIndex","formTemplate","infoFor3D","isTable","labelsVisible","labelingInfo","legendEnabled","outFields","path","popupEnabled","popupTemplate","resourceInfo","screenSizePerspectiveEnabled","WGS84","subtypeCode","supportedSourceTypes","Set","templates","sublayerTitleMode","typeIdField","types","visible","_debouncedSaveOperations","save","saveAs","SAVE","SAVE_AS","source","normalizeCtorArgs","url","portalItem","createGraphicsSource","initLayerProperties","loadFromPortal","supportedTypes","layerId","test","_fetchFirstValidLayerId","_hasMemorySource","warnInvisibleDrapedSymbols","elevationInfo","mode","renderer","symbol","symbolLayers","some","material","color","opacity","loadWarnings","readCapabilities","createQueryVersion","commitProperty","editingEnabled","capabilities","operations","supportsEditing","_isOverridden","userHasEditingPrivileges","_overrideIfSome","readEditingEnabled","_readEditingEnabled","readEditingEnabledFromWebMap","writeEditingEnabled","_writeEditingEnabled","writeEditingEnabledToWebMap","effectiveEditingEnabled","readIsTable","writeIsTable","readGlobalIdField","readObjectIdField","parsedUrl","defaultPopupTemplate","createPopupTemplate","_set","readRenderer","drawingInfo","rendererDefinition","context","_resetMemorySource","_initMemorySource","castSource","isArray","readSource","featureSet","readTemplates","editFieldsInfo","creatorField","editorField","_fixTemplates","readTitle","name","readTitleFromWebMap","readTypeIdField","toLowerCase","find","readTypes","readVisible","defaultVisibility","visibility","addAttachment","updateAttachment","uploadAssets","default","createQuery","subtypeField","definitionExpression","where","deleteAttachments","fetchRecomputedExtents","getFeatureType","getFieldDomain","feature","subtypes","excludeImpliedDomains","domains","_getLayerDomain","getField","queryAttachments","from","sourceLayer","queryRelatedFeatures","queryRelatedFeaturesCount","queryTopFeatures","query","supportsTopFeaturesQuery","queryBins","supportsQueryBins","queryTopObjectIds","queryTopFeaturesExtent","queryTopExtents","queryTopFeatureCount","queryTopCount","read","featureCollection","layers","showLegend","origin","revert","write","layerContainerType","messages","clone","serviceSupportsSpatialReference","_hasEditingCapability","split","trim","includes","supportsSync","domain","f","customParameters","token","apiKey","responseType","data","findFirstValidLayerId","portal","_verifySource","_verifyFields","hasDataChanged","search","forEach","item","removeHandles","tables","json","origins","Boolean","String","service","target","overridePolicy","writer","reader","layerContainerTypes","value","Number","A","Xe","getAtOrigin","styleOrigin","populateFromStyle","ok","clear","z","rings","paths","points"],"sourceRoot":""}